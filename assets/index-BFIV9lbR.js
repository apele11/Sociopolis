(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function X1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $p={exports:{}},jc={};var NE;function p2(){if(NE)return jc;NE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:u,ref:a!==void 0?a:null,props:l}}return jc.Fragment=e,jc.jsx=n,jc.jsxs=n,jc}var DE;function g2(){return DE||(DE=1,$p.exports=p2()),$p.exports}var _=g2(),Kp={exports:{}},Pe={};var PE;function y2(){if(PE)return Pe;PE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),T=Symbol.iterator;function b(D){return D===null||typeof D!="object"?null:(D=T&&D[T]||D["@@iterator"],typeof D=="function"?D:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,U={};function O(D,W,le){this.props=D,this.context=W,this.refs=U,this.updater=le||R}O.prototype.isReactComponent={},O.prototype.setState=function(D,W){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,W,"setState")},O.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function z(){}z.prototype=O.prototype;function q(D,W,le){this.props=D,this.context=W,this.refs=U,this.updater=le||R}var $=q.prototype=new z;$.constructor=q,k($,O.prototype),$.isPureReactComponent=!0;var oe=Array.isArray,J={H:null,A:null,T:null,S:null,V:null},ie=Object.prototype.hasOwnProperty;function I(D,W,le,he,pe,ke){return le=ke.ref,{$$typeof:t,type:D,key:W,ref:le!==void 0?le:null,props:ke}}function x(D,W){return I(D.type,W,void 0,void 0,void 0,D.props)}function N(D){return typeof D=="object"&&D!==null&&D.$$typeof===t}function L(D){var W={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(le){return W[le]})}var V=/\/+/g;function B(D,W){return typeof D=="object"&&D!==null&&D.key!=null?L(""+D.key):W.toString(36)}function P(){}function He(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(P,P):(D.status="pending",D.then(function(W){D.status==="pending"&&(D.status="fulfilled",D.value=W)},function(W){D.status==="pending"&&(D.status="rejected",D.reason=W)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function De(D,W,le,he,pe){var ke=typeof D;(ke==="undefined"||ke==="boolean")&&(D=null);var Te=!1;if(D===null)Te=!0;else switch(ke){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(D.$$typeof){case t:case e:Te=!0;break;case y:return Te=D._init,De(Te(D._payload),W,le,he,pe)}}if(Te)return pe=pe(D),Te=he===""?"."+B(D,0):he,oe(pe)?(le="",Te!=null&&(le=Te.replace(V,"$&/")+"/"),De(pe,W,le,"",function(ve){return ve})):pe!=null&&(N(pe)&&(pe=x(pe,le+(pe.key==null||D&&D.key===pe.key?"":(""+pe.key).replace(V,"$&/")+"/")+Te)),W.push(pe)),1;Te=0;var Ot=he===""?".":he+":";if(oe(D))for(var ge=0;ge<D.length;ge++)he=D[ge],ke=Ot+B(he,ge),Te+=De(he,W,le,ke,pe);else if(ge=b(D),typeof ge=="function")for(D=ge.call(D),ge=0;!(he=D.next()).done;)he=he.value,ke=Ot+B(he,ge++),Te+=De(he,W,le,ke,pe);else if(ke==="object"){if(typeof D.then=="function")return De(He(D),W,le,he,pe);throw W=String(D),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Te}function Z(D,W,le){if(D==null)return D;var he=[],pe=0;return De(D,he,"","",function(ke){return W.call(le,ke,pe++)}),he}function ae(D){if(D._status===-1){var W=D._result;W=W(),W.then(function(le){(D._status===0||D._status===-1)&&(D._status=1,D._result=le)},function(le){(D._status===0||D._status===-1)&&(D._status=2,D._result=le)}),D._status===-1&&(D._status=0,D._result=W)}if(D._status===1)return D._result.default;throw D._result}var ue=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Ce(){}return Pe.Children={map:Z,forEach:function(D,W,le){Z(D,function(){W.apply(this,arguments)},le)},count:function(D){var W=0;return Z(D,function(){W++}),W},toArray:function(D){return Z(D,function(W){return W})||[]},only:function(D){if(!N(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Pe.Component=O,Pe.Fragment=n,Pe.Profiler=a,Pe.PureComponent=q,Pe.StrictMode=s,Pe.Suspense=m,Pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,Pe.__COMPILER_RUNTIME={__proto__:null,c:function(D){return J.H.useMemoCache(D)}},Pe.cache=function(D){return function(){return D.apply(null,arguments)}},Pe.cloneElement=function(D,W,le){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var he=k({},D.props),pe=D.key,ke=void 0;if(W!=null)for(Te in W.ref!==void 0&&(ke=void 0),W.key!==void 0&&(pe=""+W.key),W)!ie.call(W,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&W.ref===void 0||(he[Te]=W[Te]);var Te=arguments.length-2;if(Te===1)he.children=le;else if(1<Te){for(var Ot=Array(Te),ge=0;ge<Te;ge++)Ot[ge]=arguments[ge+2];he.children=Ot}return I(D.type,pe,void 0,void 0,ke,he)},Pe.createContext=function(D){return D={$$typeof:u,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:l,_context:D},D},Pe.createElement=function(D,W,le){var he,pe={},ke=null;if(W!=null)for(he in W.key!==void 0&&(ke=""+W.key),W)ie.call(W,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(pe[he]=W[he]);var Te=arguments.length-2;if(Te===1)pe.children=le;else if(1<Te){for(var Ot=Array(Te),ge=0;ge<Te;ge++)Ot[ge]=arguments[ge+2];pe.children=Ot}if(D&&D.defaultProps)for(he in Te=D.defaultProps,Te)pe[he]===void 0&&(pe[he]=Te[he]);return I(D,ke,void 0,void 0,null,pe)},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(D){return{$$typeof:f,render:D}},Pe.isValidElement=N,Pe.lazy=function(D){return{$$typeof:y,_payload:{_status:-1,_result:D},_init:ae}},Pe.memo=function(D,W){return{$$typeof:p,type:D,compare:W===void 0?null:W}},Pe.startTransition=function(D){var W=J.T,le={};J.T=le;try{var he=D(),pe=J.S;pe!==null&&pe(le,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(Ce,ue)}catch(ke){ue(ke)}finally{J.T=W}},Pe.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},Pe.use=function(D){return J.H.use(D)},Pe.useActionState=function(D,W,le){return J.H.useActionState(D,W,le)},Pe.useCallback=function(D,W){return J.H.useCallback(D,W)},Pe.useContext=function(D){return J.H.useContext(D)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(D,W){return J.H.useDeferredValue(D,W)},Pe.useEffect=function(D,W,le){var he=J.H;if(typeof le=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return he.useEffect(D,W)},Pe.useId=function(){return J.H.useId()},Pe.useImperativeHandle=function(D,W,le){return J.H.useImperativeHandle(D,W,le)},Pe.useInsertionEffect=function(D,W){return J.H.useInsertionEffect(D,W)},Pe.useLayoutEffect=function(D,W){return J.H.useLayoutEffect(D,W)},Pe.useMemo=function(D,W){return J.H.useMemo(D,W)},Pe.useOptimistic=function(D,W){return J.H.useOptimistic(D,W)},Pe.useReducer=function(D,W,le){return J.H.useReducer(D,W,le)},Pe.useRef=function(D){return J.H.useRef(D)},Pe.useState=function(D){return J.H.useState(D)},Pe.useSyncExternalStore=function(D,W,le){return J.H.useSyncExternalStore(D,W,le)},Pe.useTransition=function(){return J.H.useTransition()},Pe.version="19.1.1",Pe}var ME;function Cy(){return ME||(ME=1,Kp.exports=y2()),Kp.exports}var C=Cy();const Xo=X1(C);var Yp={exports:{}},Uc={},Xp={exports:{}},Qp={};var kE;function v2(){return kE||(kE=1,(function(t){function e(Z,ae){var ue=Z.length;Z.push(ae);e:for(;0<ue;){var Ce=ue-1>>>1,D=Z[Ce];if(0<a(D,ae))Z[Ce]=ae,Z[ue]=D,ue=Ce;else break e}}function n(Z){return Z.length===0?null:Z[0]}function s(Z){if(Z.length===0)return null;var ae=Z[0],ue=Z.pop();if(ue!==ae){Z[0]=ue;e:for(var Ce=0,D=Z.length,W=D>>>1;Ce<W;){var le=2*(Ce+1)-1,he=Z[le],pe=le+1,ke=Z[pe];if(0>a(he,ue))pe<D&&0>a(ke,he)?(Z[Ce]=ke,Z[pe]=ue,Ce=pe):(Z[Ce]=he,Z[le]=ue,Ce=le);else if(pe<D&&0>a(ke,ue))Z[Ce]=ke,Z[pe]=ue,Ce=pe;else break e}}return ae}function a(Z,ae){var ue=Z.sortIndex-ae.sortIndex;return ue!==0?ue:Z.id-ae.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var m=[],p=[],y=1,T=null,b=3,R=!1,k=!1,U=!1,O=!1,z=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function oe(Z){for(var ae=n(p);ae!==null;){if(ae.callback===null)s(p);else if(ae.startTime<=Z)s(p),ae.sortIndex=ae.expirationTime,e(m,ae);else break;ae=n(p)}}function J(Z){if(U=!1,oe(Z),!k)if(n(m)!==null)k=!0,ie||(ie=!0,B());else{var ae=n(p);ae!==null&&De(J,ae.startTime-Z)}}var ie=!1,I=-1,x=5,N=-1;function L(){return O?!0:!(t.unstable_now()-N<x)}function V(){if(O=!1,ie){var Z=t.unstable_now();N=Z;var ae=!0;try{e:{k=!1,U&&(U=!1,q(I),I=-1),R=!0;var ue=b;try{t:{for(oe(Z),T=n(m);T!==null&&!(T.expirationTime>Z&&L());){var Ce=T.callback;if(typeof Ce=="function"){T.callback=null,b=T.priorityLevel;var D=Ce(T.expirationTime<=Z);if(Z=t.unstable_now(),typeof D=="function"){T.callback=D,oe(Z),ae=!0;break t}T===n(m)&&s(m),oe(Z)}else s(m);T=n(m)}if(T!==null)ae=!0;else{var W=n(p);W!==null&&De(J,W.startTime-Z),ae=!1}}break e}finally{T=null,b=ue,R=!1}ae=void 0}}finally{ae?B():ie=!1}}}var B;if(typeof $=="function")B=function(){$(V)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,He=P.port2;P.port1.onmessage=V,B=function(){He.postMessage(null)}}else B=function(){z(V,0)};function De(Z,ae){I=z(function(){Z(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(Z){switch(b){case 1:case 2:case 3:var ae=3;break;default:ae=b}var ue=b;b=ae;try{return Z()}finally{b=ue}},t.unstable_requestPaint=function(){O=!0},t.unstable_runWithPriority=function(Z,ae){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ue=b;b=Z;try{return ae()}finally{b=ue}},t.unstable_scheduleCallback=function(Z,ae,ue){var Ce=t.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Ce+ue:Ce):ue=Ce,Z){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ue+D,Z={id:y++,callback:ae,priorityLevel:Z,startTime:ue,expirationTime:D,sortIndex:-1},ue>Ce?(Z.sortIndex=ue,e(p,Z),n(m)===null&&Z===n(p)&&(U?(q(I),I=-1):U=!0,De(J,ue-Ce))):(Z.sortIndex=D,e(m,Z),k||R||(k=!0,ie||(ie=!0,B()))),Z},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(Z){var ae=b;return function(){var ue=b;b=ae;try{return Z.apply(this,arguments)}finally{b=ue}}}})(Qp)),Qp}var VE;function _2(){return VE||(VE=1,Xp.exports=v2()),Xp.exports}var Wp={exports:{}},on={};var OE;function T2(){if(OE)return on;OE=1;var t=Cy();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:m,containerInfo:p,implementation:y}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,on.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,y)},on.flushSync=function(m){var p=u.T,y=s.p;try{if(u.T=null,s.p=2,m)return m()}finally{u.T=p,s.p=y,s.d.f()}},on.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},on.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},on.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,T=f(y,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,R=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:T,integrity:b,fetchPriority:R}):y==="script"&&s.d.X(m,{crossOrigin:T,integrity:b,fetchPriority:R,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},on.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=f(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},on.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,T=f(y,p.crossOrigin);s.d.L(m,y,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},on.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=f(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},on.requestFormReset=function(m){s.d.r(m)},on.unstable_batchedUpdates=function(m,p){return m(p)},on.useFormState=function(m,p,y){return u.H.useFormState(m,p,y)},on.useFormStatus=function(){return u.H.useHostTransitionStatus()},on.version="19.1.1",on}var LE;function E2(){if(LE)return Wp.exports;LE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Wp.exports=T2(),Wp.exports}var jE;function w2(){if(jE)return Uc;jE=1;var t=_2(),e=Cy(),n=E2();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function u(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function f(i){if(l(i)!==i)throw Error(s(188))}function m(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,c=r;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(c=d.return,c!==null){o=c;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return f(d),i;if(g===c)return f(d),r;g=g.sibling}throw Error(s(188))}if(o.return!==c.return)o=d,c=g;else{for(var w=!1,A=d.child;A;){if(A===o){w=!0,o=d,c=g;break}if(A===c){w=!0,c=d,o=g;break}A=A.sibling}if(!w){for(A=g.child;A;){if(A===o){w=!0,o=g,c=d;break}if(A===c){w=!0,c=g,o=d;break}A=A.sibling}if(!w)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function p(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=p(i),r!==null)return r;i=i.sibling}return null}var y=Object.assign,T=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),q=Symbol.for("react.consumer"),$=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function B(i){return i===null||typeof i!="object"?null:(i=V&&i[V]||i["@@iterator"],typeof i=="function"?i:null)}var P=Symbol.for("react.client.reference");function He(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===P?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case k:return"Fragment";case O:return"Profiler";case U:return"StrictMode";case J:return"Suspense";case ie:return"SuspenseList";case N:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case R:return"Portal";case $:return(i.displayName||"Context")+".Provider";case q:return(i._context.displayName||"Context")+".Consumer";case oe:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case I:return r=i.displayName||null,r!==null?r:He(i.type)||"Memo";case x:r=i._payload,i=i._init;try{return He(i(r))}catch{}}return null}var De=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},Ce=[],D=-1;function W(i){return{current:i}}function le(i){0>D||(i.current=Ce[D],Ce[D]=null,D--)}function he(i,r){D++,Ce[D]=i.current,i.current=r}var pe=W(null),ke=W(null),Te=W(null),Ot=W(null);function ge(i,r){switch(he(Te,r),he(ke,i),he(pe,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?sE(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=sE(r),i=rE(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}le(pe),he(pe,i)}function ve(){le(pe),le(ke),le(Te)}function Ge(i){i.memoizedState!==null&&he(Ot,i);var r=pe.current,o=rE(r,i.type);r!==o&&(he(ke,i),he(pe,o))}function zt(i){ke.current===i&&(le(pe),le(ke)),Ot.current===i&&(le(Ot),Mc._currentValue=ue)}var oi=Object.prototype.hasOwnProperty,mn=t.unstable_scheduleCallback,li=t.unstable_cancelCallback,ci=t.unstable_shouldYield,is=t.unstable_requestPaint,rt=t.unstable_now,Fn=t.unstable_getCurrentPriorityLevel,Lt=t.unstable_ImmediatePriority,qt=t.unstable_UserBlockingPriority,ss=t.unstable_NormalPriority,Yd=t.unstable_LowPriority,kl=t.unstable_IdlePriority,Xd=t.log,Wr=t.unstable_setDisableYieldValue,Bs=null,sn=null;function zn(i){if(typeof Xd=="function"&&Wr(i),sn&&typeof sn.setStrictMode=="function")try{sn.setStrictMode(Bs,i)}catch{}}var pn=Math.clz32?Math.clz32:qu,Qd=Math.log,zu=Math.LN2;function qu(i){return i>>>=0,i===0?32:31-(Qd(i)/zu|0)|0}var Ni=256,Fs=4194304;function ui(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function qn(i,r,o){var c=i.pendingLanes;if(c===0)return 0;var d=0,g=i.suspendedLanes,w=i.pingedLanes;i=i.warmLanes;var A=c&134217727;return A!==0?(c=A&~g,c!==0?d=ui(c):(w&=A,w!==0?d=ui(w):o||(o=A&~i,o!==0&&(d=ui(o))))):(A=c&~g,A!==0?d=ui(A):w!==0?d=ui(w):o||(o=c&~i,o!==0&&(d=ui(o)))),d===0?0:r!==0&&r!==d&&(r&g)===0&&(g=d&-d,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:d}function zs(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function to(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vl(){var i=Ni;return Ni<<=1,(Ni&4194048)===0&&(Ni=256),i}function qs(){var i=Fs;return Fs<<=1,(Fs&62914560)===0&&(Fs=4194304),i}function no(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function wt(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Hu(i,r,o,c,d,g){var w=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var A=i.entanglements,M=i.expirationTimes,K=i.hiddenUpdates;for(o=w&~o;0<o;){var ee=31-pn(o),se=1<<ee;A[ee]=0,M[ee]=-1;var Y=K[ee];if(Y!==null)for(K[ee]=null,ee=0;ee<Y.length;ee++){var X=Y[ee];X!==null&&(X.lane&=-536870913)}o&=~se}c!==0&&Hs(i,c,0),g!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=g&~(w&~r))}function Hs(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var c=31-pn(r);i.entangledLanes|=r,i.entanglements[c]=i.entanglements[c]|1073741824|o&4194090}function Gs(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var c=31-pn(o),d=1<<c;d&r|i[c]&r&&(i[c]|=r),o&=~d}}function Ol(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ll(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function rs(){var i=ae.p;return i!==0?i:(i=window.event,i===void 0?32:AE(i.type))}function Wd(i,r){var o=ae.p;try{return ae.p=i,r()}finally{ae.p=o}}var Di=Math.random().toString(36).slice(2),bt="__reactFiber$"+Di,Xt="__reactProps$"+Di,as="__reactContainer$"+Di,Zr="__reactEvents$"+Di,Jr="__reactListeners$"+Di,Zd="__reactHandles$"+Di,hi="__reactResources$"+Di,$s="__reactMarker$"+Di;function io(i){delete i[bt],delete i[Xt],delete i[Zr],delete i[Jr],delete i[Zd]}function Pi(i){var r=i[bt];if(r)return r;for(var o=i.parentNode;o;){if(r=o[as]||o[bt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=cE(i);i!==null;){if(o=i[bt])return o;i=cE(i)}return r}i=o,o=i.parentNode}return null}function Mi(i){if(i=i[bt]||i[as]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function Ks(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Ys(i){var r=i[hi];return r||(r=i[hi]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function At(i){i[$s]=!0}var Gu=new Set,ea={};function ki(i,r){Vi(i,r),Vi(i+"Capture",r)}function Vi(i,r){for(ea[i]=r,i=0;i<r.length;i++)Gu.add(r[i])}var ta=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Oi={},so={};function Jd(i){return oi.call(so,i)?!0:oi.call(Oi,i)?!1:ta.test(i)?so[i]=!0:(Oi[i]=!0,!1)}function na(i,r,o){if(Jd(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function ia(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Hn(i,r,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+c)}}var sa,ro;function os(i){if(sa===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);sa=r&&r[1]||"",ro=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+sa+i+ro}var ao=!1;function oo(i,r){if(!i||ao)return"";ao=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(X){var Y=X}Reflect.construct(i,[],se)}else{try{se.call()}catch(X){Y=X}i.call(se.prototype)}}else{try{throw Error()}catch(X){Y=X}(se=i())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(X){if(X&&Y&&typeof X.stack=="string")return[X.stack,Y.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),w=g[0],A=g[1];if(w&&A){var M=w.split(`
`),K=A.split(`
`);for(d=c=0;c<M.length&&!M[c].includes("DetermineComponentFrameRoot");)c++;for(;d<K.length&&!K[d].includes("DetermineComponentFrameRoot");)d++;if(c===M.length||d===K.length)for(c=M.length-1,d=K.length-1;1<=c&&0<=d&&M[c]!==K[d];)d--;for(;1<=c&&0<=d;c--,d--)if(M[c]!==K[d]){if(c!==1||d!==1)do if(c--,d--,0>d||M[c]!==K[d]){var ee=`
`+M[c].replace(" at new "," at ");return i.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",i.displayName)),ee}while(1<=c&&0<=d);break}}}finally{ao=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?os(o):""}function em(i){switch(i.tag){case 26:case 27:case 5:return os(i.type);case 16:return os("Lazy");case 13:return os("Suspense");case 19:return os("SuspenseList");case 0:case 15:return oo(i.type,!1);case 11:return oo(i.type.render,!1);case 1:return oo(i.type,!0);case 31:return os("Activity");default:return""}}function fi(i){try{var r="";do r+=em(i),i=i.return;while(i);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function mt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Xs(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ra(i){var r=Xs(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),c=""+i[r];if(!i.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,g=o.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return d.call(this)},set:function(w){c=""+w,g.call(this,w)}}),Object.defineProperty(i,r,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Qs(i){i._valueTracker||(i._valueTracker=ra(i))}function Ze(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return i&&(c=Xs(i)?i.checked?"true":"false":i.value),i=c,i!==o?(r.setValue(i),!0):!1}function ls(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var aa=/[\n"\\]/g;function Ht(i){return i.replace(aa,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function jl(i,r,o,c,d,g,w,A){i.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.type=w:i.removeAttribute("type"),r!=null?w==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+mt(r)):i.value!==""+mt(r)&&(i.value=""+mt(r)):w!=="submit"&&w!=="reset"||i.removeAttribute("value"),r!=null?Bl(i,w,mt(r)):o!=null?Bl(i,w,mt(o)):c!=null&&i.removeAttribute("value"),d==null&&g!=null&&(i.defaultChecked=!!g),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+mt(A):i.removeAttribute("name")}function Ul(i,r,o,c,d,g,w,A){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null))return;o=o!=null?""+mt(o):"",r=r!=null?""+mt(r):o,A||r===i.value||(i.value=r),i.defaultValue=r}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=A?i.checked:!!c,i.defaultChecked=!!c,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.name=w)}function Bl(i,r,o){r==="number"&&ls(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Ws(i,r,o,c){if(i=i.options,r){r={};for(var d=0;d<o.length;d++)r["$"+o[d]]=!0;for(o=0;o<i.length;o++)d=r.hasOwnProperty("$"+i[o].value),i[o].selected!==d&&(i[o].selected=d),d&&c&&(i[o].defaultSelected=!0)}else{for(o=""+mt(o),r=null,d=0;d<i.length;d++){if(i[d].value===o){i[d].selected=!0,c&&(i[d].defaultSelected=!0);return}r!==null||i[d].disabled||(r=i[d])}r!==null&&(r.selected=!0)}}function $u(i,r,o){if(r!=null&&(r=""+mt(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+mt(o):""}function Ku(i,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(s(92));if(De(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=mt(r),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c)}function Gn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var cs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fl(i,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":c?i.setProperty(r,o):typeof o!="number"||o===0||cs.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function zl(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var d in r)c=r[d],r.hasOwnProperty(d)&&o[d]!==c&&Fl(i,d,c)}else for(var g in r)r.hasOwnProperty(g)&&Fl(i,g,r[g])}function lo(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function di(i){return Xu.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var ql=null;function Hl(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Zs=null,gn=null;function Qu(i){var r=Mi(i);if(r&&(i=r.stateNode)){var o=i[Xt]||null;e:switch(i=r.stateNode,r.type){case"input":if(jl(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ht(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==i&&c.form===i.form){var d=c[Xt]||null;if(!d)throw Error(s(90));jl(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===i.form&&Ze(c)}break e;case"textarea":$u(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Ws(i,!!o.multiple,r,!1)}}}var oa=!1;function la(i,r,o){if(oa)return i(r,o);oa=!0;try{var c=i(r);return c}finally{if(oa=!1,(Zs!==null||gn!==null)&&(Uh(),Zs&&(r=Zs,i=gn,gn=Zs=null,Qu(r),i)))for(r=0;r<i.length;r++)Qu(i[r])}}function Js(i,r){var o=i.stateNode;if(o===null)return null;var c=o[Xt]||null;if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),us=!1;if(yn)try{var er={};Object.defineProperty(er,"passive",{get:function(){us=!0}}),window.addEventListener("test",er,er),window.removeEventListener("test",er,er)}catch{us=!1}var $n=null,at=null,co=null;function Wu(){if(co)return co;var i,r=at,o=r.length,c,d="value"in $n?$n.value:$n.textContent,g=d.length;for(i=0;i<o&&r[i]===d[i];i++);var w=o-i;for(c=1;c<=w&&r[o-c]===d[g-c];c++);return co=d.slice(i,1<c?1-c:void 0)}function ca(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function ua(){return!0}function Gl(){return!1}function jt(i){function r(o,c,d,g,w){this._reactName=o,this._targetInst=d,this.type=c,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(o=i[A],this[A]=o?o(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ua:Gl,this.isPropagationStopped=Gl,this}return y(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ua)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ua)},persist:function(){},isPersistent:ua}),r}var rn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ha=jt(rn),fa=y({},rn,{view:0,detail:0}),da=jt(fa),uo,ma,Li,pa=y({},fa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mo,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Li&&(Li&&i.type==="mousemove"?(uo=i.screenX-Li.screenX,ma=i.screenY-Li.screenY):ma=uo=0,Li=i),uo)},movementY:function(i){return"movementY"in i?i.movementY:ma}}),ga=jt(pa),tm=y({},pa,{dataTransfer:0}),Zu=jt(tm),ya=y({},fa,{relatedTarget:0}),ho=jt(ya),Ju=y({},rn,{animationName:0,elapsedTime:0,pseudoElement:0}),$l=jt(Ju),Kl=y({},rn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),eh=jt(Kl),fo=y({},rn,{data:0}),Yl=jt(fo),th={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hs={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ih(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=nh[i])?!!r[i]:!1}function mo(){return ih}var sh=y({},fa,{key:function(i){if(i.key){var r=th[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=ca(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?hs[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mo,charCode:function(i){return i.type==="keypress"?ca(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ca(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),po=jt(sh),vn=y({},pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xl=jt(vn),rh=y({},fa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mo}),tr=jt(rh),h=y({},rn,{propertyName:0,elapsedTime:0,pseudoElement:0}),v=jt(h),E=y({},pa,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),S=jt(E),G=y({},rn,{newState:0,oldState:0}),Q=jt(G),ce=[9,13,27,32],Ie=yn&&"CompositionEvent"in window,ct=null;yn&&"documentMode"in document&&(ct=document.documentMode);var Xe=yn&&"TextEvent"in window&&!ct,St=yn&&(!Ie||ct&&8<ct&&11>=ct),Nn=" ",ji=!1;function mi(i,r){switch(i){case"keyup":return ce.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pi(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var gi=!1;function Ql(i,r){switch(i){case"compositionend":return pi(r);case"keypress":return r.which!==32?null:(ji=!0,Nn);case"textInput":return i=r.data,i===Nn&&ji?null:i;default:return null}}function zC(i,r){if(gi)return i==="compositionend"||!Ie&&mi(i,r)?(i=Wu(),co=at=$n=null,gi=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return St&&r.locale!=="ko"?null:r.data;default:return null}}var qC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function v_(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!qC[i.type]:r==="textarea"}function __(i,r,o,c){Zs?gn?gn.push(c):gn=[c]:Zs=c,r=Gh(r,"onChange"),0<r.length&&(o=new ha("onChange","change",null,o,c),i.push({event:o,listeners:r}))}var Wl=null,Zl=null;function HC(i){JT(i,0)}function ah(i){var r=Ks(i);if(Ze(r))return i}function T_(i,r){if(i==="change")return r}var E_=!1;if(yn){var nm;if(yn){var im="oninput"in document;if(!im){var w_=document.createElement("div");w_.setAttribute("oninput","return;"),im=typeof w_.oninput=="function"}nm=im}else nm=!1;E_=nm&&(!document.documentMode||9<document.documentMode)}function b_(){Wl&&(Wl.detachEvent("onpropertychange",A_),Zl=Wl=null)}function A_(i){if(i.propertyName==="value"&&ah(Zl)){var r=[];__(r,Zl,i,Hl(i)),la(HC,r)}}function GC(i,r,o){i==="focusin"?(b_(),Wl=r,Zl=o,Wl.attachEvent("onpropertychange",A_)):i==="focusout"&&b_()}function $C(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ah(Zl)}function KC(i,r){if(i==="click")return ah(r)}function YC(i,r){if(i==="input"||i==="change")return ah(r)}function XC(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Dn=typeof Object.is=="function"?Object.is:XC;function Jl(i,r){if(Dn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var d=o[c];if(!oi.call(r,d)||!Dn(i[d],r[d]))return!1}return!0}function S_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function x_(i,r){var o=S_(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=r&&c>=r)return{node:o,offset:r-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=S_(o)}}function R_(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?R_(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function C_(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=ls(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=ls(i.document)}return r}function sm(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var QC=yn&&"documentMode"in document&&11>=document.documentMode,go=null,rm=null,ec=null,am=!1;function I_(i,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;am||go==null||go!==ls(c)||(c=go,"selectionStart"in c&&sm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ec&&Jl(ec,c)||(ec=c,c=Gh(rm,"onSelect"),0<c.length&&(r=new ha("onSelect","select",null,r,o),i.push({event:r,listeners:c}),r.target=go)))}function va(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var yo={animationend:va("Animation","AnimationEnd"),animationiteration:va("Animation","AnimationIteration"),animationstart:va("Animation","AnimationStart"),transitionrun:va("Transition","TransitionRun"),transitionstart:va("Transition","TransitionStart"),transitioncancel:va("Transition","TransitionCancel"),transitionend:va("Transition","TransitionEnd")},om={},N_={};yn&&(N_=document.createElement("div").style,"AnimationEvent"in window||(delete yo.animationend.animation,delete yo.animationiteration.animation,delete yo.animationstart.animation),"TransitionEvent"in window||delete yo.transitionend.transition);function _a(i){if(om[i])return om[i];if(!yo[i])return i;var r=yo[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in N_)return om[i]=r[o];return i}var D_=_a("animationend"),P_=_a("animationiteration"),M_=_a("animationstart"),WC=_a("transitionrun"),ZC=_a("transitionstart"),JC=_a("transitioncancel"),k_=_a("transitionend"),V_=new Map,lm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");lm.push("scrollEnd");function yi(i,r){V_.set(i,r),ki(r,[i])}var O_=new WeakMap;function Kn(i,r){if(typeof i=="object"&&i!==null){var o=O_.get(i);return o!==void 0?o:(r={value:i,source:r,stack:fi(r)},O_.set(i,r),r)}return{value:i,source:r,stack:fi(r)}}var Yn=[],vo=0,cm=0;function oh(){for(var i=vo,r=cm=vo=0;r<i;){var o=Yn[r];Yn[r++]=null;var c=Yn[r];Yn[r++]=null;var d=Yn[r];Yn[r++]=null;var g=Yn[r];if(Yn[r++]=null,c!==null&&d!==null){var w=c.pending;w===null?d.next=d:(d.next=w.next,w.next=d),c.pending=d}g!==0&&L_(o,d,g)}}function lh(i,r,o,c){Yn[vo++]=i,Yn[vo++]=r,Yn[vo++]=o,Yn[vo++]=c,cm|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function um(i,r,o,c){return lh(i,r,o,c),ch(i)}function _o(i,r){return lh(i,null,null,r),ch(i)}function L_(i,r,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var d=!1,g=i.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(d=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,d&&r!==null&&(d=31-pn(o),i=g.hiddenUpdates,c=i[d],c===null?i[d]=[r]:c.push(r),r.lane=o|536870912),g):null}function ch(i){if(50<Sc)throw Sc=0,gp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var To={};function eI(i,r,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(i,r,o,c){return new eI(i,r,o,c)}function hm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function fs(i,r){var o=i.alternate;return o===null?(o=Pn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function j_(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function uh(i,r,o,c,d,g){var w=0;if(c=i,typeof i=="function")hm(i)&&(w=1);else if(typeof i=="string")w=n2(i,o,pe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case N:return i=Pn(31,o,r,d),i.elementType=N,i.lanes=g,i;case k:return Ta(o.children,d,g,r);case U:w=8,d|=24;break;case O:return i=Pn(12,o,r,d|2),i.elementType=O,i.lanes=g,i;case J:return i=Pn(13,o,r,d),i.elementType=J,i.lanes=g,i;case ie:return i=Pn(19,o,r,d),i.elementType=ie,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case z:case $:w=10;break e;case q:w=9;break e;case oe:w=11;break e;case I:w=14;break e;case x:w=16,c=null;break e}w=29,o=Error(s(130,i===null?"null":typeof i,"")),c=null}return r=Pn(w,o,r,d),r.elementType=i,r.type=c,r.lanes=g,r}function Ta(i,r,o,c){return i=Pn(7,i,c,r),i.lanes=o,i}function fm(i,r,o){return i=Pn(6,i,null,r),i.lanes=o,i}function dm(i,r,o){return r=Pn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var Eo=[],wo=0,hh=null,fh=0,Xn=[],Qn=0,Ea=null,ds=1,ms="";function wa(i,r){Eo[wo++]=fh,Eo[wo++]=hh,hh=i,fh=r}function U_(i,r,o){Xn[Qn++]=ds,Xn[Qn++]=ms,Xn[Qn++]=Ea,Ea=i;var c=ds;i=ms;var d=32-pn(c)-1;c&=~(1<<d),o+=1;var g=32-pn(r)+d;if(30<g){var w=d-d%5;g=(c&(1<<w)-1).toString(32),c>>=w,d-=w,ds=1<<32-pn(r)+d|o<<d|c,ms=g+i}else ds=1<<g|o<<d|c,ms=i}function mm(i){i.return!==null&&(wa(i,1),U_(i,1,0))}function pm(i){for(;i===hh;)hh=Eo[--wo],Eo[wo]=null,fh=Eo[--wo],Eo[wo]=null;for(;i===Ea;)Ea=Xn[--Qn],Xn[Qn]=null,ms=Xn[--Qn],Xn[Qn]=null,ds=Xn[--Qn],Xn[Qn]=null}var _n=null,vt=null,Ke=!1,ba=null,Ui=!1,gm=Error(s(519));function Aa(i){var r=Error(s(418,""));throw ic(Kn(r,i)),gm}function B_(i){var r=i.stateNode,o=i.type,c=i.memoizedProps;switch(r[bt]=i,r[Xt]=c,o){case"dialog":Le("cancel",r),Le("close",r);break;case"iframe":case"object":case"embed":Le("load",r);break;case"video":case"audio":for(o=0;o<Rc.length;o++)Le(Rc[o],r);break;case"source":Le("error",r);break;case"img":case"image":case"link":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"input":Le("invalid",r),Ul(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Qs(r);break;case"select":Le("invalid",r);break;case"textarea":Le("invalid",r),Ku(r,c.value,c.defaultValue,c.children),Qs(r)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||iE(r.textContent,o)?(c.popover!=null&&(Le("beforetoggle",r),Le("toggle",r)),c.onScroll!=null&&Le("scroll",r),c.onScrollEnd!=null&&Le("scrollend",r),c.onClick!=null&&(r.onclick=$h),r=!0):r=!1,r||Aa(i)}function F_(i){for(_n=i.return;_n;)switch(_n.tag){case 5:case 13:Ui=!1;return;case 27:case 3:Ui=!0;return;default:_n=_n.return}}function tc(i){if(i!==_n)return!1;if(!Ke)return F_(i),Ke=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Pp(i.type,i.memoizedProps)),o=!o),o&&vt&&Aa(i),F_(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));e:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(r===0){vt=_i(i.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++;i=i.nextSibling}vt=null}}else r===27?(r=vt,yr(i.type)?(i=Op,Op=null,vt=i):vt=r):vt=_n?_i(i.stateNode.nextSibling):null;return!0}function nc(){vt=_n=null,Ke=!1}function z_(){var i=ba;return i!==null&&(An===null?An=i:An.push.apply(An,i),ba=null),i}function ic(i){ba===null?ba=[i]:ba.push(i)}var ym=W(null),Sa=null,ps=null;function nr(i,r,o){he(ym,r._currentValue),r._currentValue=o}function gs(i){i._currentValue=ym.current,le(ym)}function vm(i,r,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),i===o)break;i=i.return}}function _m(i,r,o,c){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var g=d.dependencies;if(g!==null){var w=d.child;g=g.firstContext;e:for(;g!==null;){var A=g;g=d;for(var M=0;M<r.length;M++)if(A.context===r[M]){g.lanes|=o,A=g.alternate,A!==null&&(A.lanes|=o),vm(g.return,o,i),c||(w=null);break e}g=A.next}}else if(d.tag===18){if(w=d.return,w===null)throw Error(s(341));w.lanes|=o,g=w.alternate,g!==null&&(g.lanes|=o),vm(w,o,i),w=null}else w=d.child;if(w!==null)w.return=d;else for(w=d;w!==null;){if(w===i){w=null;break}if(d=w.sibling,d!==null){d.return=w.return,w=d;break}w=w.return}d=w}}function sc(i,r,o,c){i=null;for(var d=r,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var w=d.alternate;if(w===null)throw Error(s(387));if(w=w.memoizedProps,w!==null){var A=d.type;Dn(d.pendingProps.value,w.value)||(i!==null?i.push(A):i=[A])}}else if(d===Ot.current){if(w=d.alternate,w===null)throw Error(s(387));w.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push(Mc):i=[Mc])}d=d.return}i!==null&&_m(r,i,o,c),r.flags|=262144}function dh(i){for(i=i.firstContext;i!==null;){if(!Dn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function xa(i){Sa=i,ps=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function an(i){return q_(Sa,i)}function mh(i,r){return Sa===null&&xa(i),q_(i,r)}function q_(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},ps===null){if(i===null)throw Error(s(308));ps=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else ps=ps.next=r;return o}var tI=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},nI=t.unstable_scheduleCallback,iI=t.unstable_NormalPriority,Ut={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tm(){return{controller:new tI,data:new Map,refCount:0}}function rc(i){i.refCount--,i.refCount===0&&nI(iI,function(){i.controller.abort()})}var ac=null,Em=0,bo=0,Ao=null;function sI(i,r){if(ac===null){var o=ac=[];Em=0,bo=bp(),Ao={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Em++,r.then(H_,H_),r}function H_(){if(--Em===0&&ac!==null){Ao!==null&&(Ao.status="fulfilled");var i=ac;ac=null,bo=0,Ao=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function rI(i,r){var o=[],c={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return i.then(function(){c.status="fulfilled",c.value=r;for(var d=0;d<o.length;d++)(0,o[d])(r)},function(d){for(c.status="rejected",c.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),c}var G_=Z.S;Z.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&sI(i,r),G_!==null&&G_(i,r)};var Ra=W(null);function wm(){var i=Ra.current;return i!==null?i:ot.pooledCache}function ph(i,r){r===null?he(Ra,Ra.current):he(Ra,r.pool)}function $_(){var i=wm();return i===null?null:{parent:Ut._currentValue,pool:i}}var oc=Error(s(460)),K_=Error(s(474)),gh=Error(s(542)),bm={then:function(){}};function Y_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function yh(){}function X_(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(yh,yh),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,W_(i),i;default:if(typeof r.status=="string")r.then(yh,yh);else{if(i=ot,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(c){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=c}},function(c){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,W_(i),i}throw lc=r,oc}}var lc=null;function Q_(){if(lc===null)throw Error(s(459));var i=lc;return lc=null,i}function W_(i){if(i===oc||i===gh)throw Error(s(483))}var ir=!1;function Am(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sm(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function sr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function rr(i,r,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(Qe&2)!==0){var d=c.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),c.pending=r,r=ch(i),L_(i,null,o),r}return lh(i,c,r,o),ch(i)}function cc(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,Gs(i,o)}}function xm(i,r){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=w:g=g.next=w,o=o.next}while(o!==null);g===null?d=g=r:g=g.next=r}else d=g=r;o={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var Rm=!1;function uc(){if(Rm){var i=Ao;if(i!==null)throw i}}function hc(i,r,o,c){Rm=!1;var d=i.updateQueue;ir=!1;var g=d.firstBaseUpdate,w=d.lastBaseUpdate,A=d.shared.pending;if(A!==null){d.shared.pending=null;var M=A,K=M.next;M.next=null,w===null?g=K:w.next=K,w=M;var ee=i.alternate;ee!==null&&(ee=ee.updateQueue,A=ee.lastBaseUpdate,A!==w&&(A===null?ee.firstBaseUpdate=K:A.next=K,ee.lastBaseUpdate=M))}if(g!==null){var se=d.baseState;w=0,ee=K=M=null,A=g;do{var Y=A.lane&-536870913,X=Y!==A.lane;if(X?(Fe&Y)===Y:(c&Y)===Y){Y!==0&&Y===bo&&(Rm=!0),ee!==null&&(ee=ee.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Se=i,Ee=A;Y=r;var tt=o;switch(Ee.tag){case 1:if(Se=Ee.payload,typeof Se=="function"){se=Se.call(tt,se,Y);break e}se=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Ee.payload,Y=typeof Se=="function"?Se.call(tt,se,Y):Se,Y==null)break e;se=y({},se,Y);break e;case 2:ir=!0}}Y=A.callback,Y!==null&&(i.flags|=64,X&&(i.flags|=8192),X=d.callbacks,X===null?d.callbacks=[Y]:X.push(Y))}else X={lane:Y,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ee===null?(K=ee=X,M=se):ee=ee.next=X,w|=Y;if(A=A.next,A===null){if(A=d.shared.pending,A===null)break;X=A,A=X.next,X.next=null,d.lastBaseUpdate=X,d.shared.pending=null}}while(!0);ee===null&&(M=se),d.baseState=M,d.firstBaseUpdate=K,d.lastBaseUpdate=ee,g===null&&(d.shared.lanes=0),dr|=w,i.lanes=w,i.memoizedState=se}}function Z_(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function J_(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)Z_(o[i],r)}var So=W(null),vh=W(0);function e0(i,r){i=bs,he(vh,i),he(So,r),bs=i|r.baseLanes}function Cm(){he(vh,bs),he(So,So.current)}function Im(){bs=vh.current,le(So),le(vh)}var ar=0,Me=null,Je=null,Nt=null,_h=!1,xo=!1,Ca=!1,Th=0,fc=0,Ro=null,aI=0;function xt(){throw Error(s(321))}function Nm(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Dn(i[o],r[o]))return!1;return!0}function Dm(i,r,o,c,d,g){return ar=g,Me=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Z.H=i===null||i.memoizedState===null?L0:j0,Ca=!1,g=o(c,d),Ca=!1,xo&&(g=n0(r,o,c,d)),t0(i),g}function t0(i){Z.H=xh;var r=Je!==null&&Je.next!==null;if(ar=0,Nt=Je=Me=null,_h=!1,fc=0,Ro=null,r)throw Error(s(300));i===null||Gt||(i=i.dependencies,i!==null&&dh(i)&&(Gt=!0))}function n0(i,r,o,c){Me=i;var d=0;do{if(xo&&(Ro=null),fc=0,xo=!1,25<=d)throw Error(s(301));if(d+=1,Nt=Je=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Z.H=dI,g=r(o,c)}while(xo);return g}function oI(){var i=Z.H,r=i.useState()[0];return r=typeof r.then=="function"?dc(r):r,i=i.useState()[0],(Je!==null?Je.memoizedState:null)!==i&&(Me.flags|=1024),r}function Pm(){var i=Th!==0;return Th=0,i}function Mm(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function km(i){if(_h){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}_h=!1}ar=0,Nt=Je=Me=null,xo=!1,fc=Th=0,Ro=null}function wn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?Me.memoizedState=Nt=i:Nt=Nt.next=i,Nt}function Dt(){if(Je===null){var i=Me.alternate;i=i!==null?i.memoizedState:null}else i=Je.next;var r=Nt===null?Me.memoizedState:Nt.next;if(r!==null)Nt=r,Je=i;else{if(i===null)throw Me.alternate===null?Error(s(467)):Error(s(310));Je=i,i={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},Nt===null?Me.memoizedState=Nt=i:Nt=Nt.next=i}return Nt}function Vm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dc(i){var r=fc;return fc+=1,Ro===null&&(Ro=[]),i=X_(Ro,i,r),r=Me,(Nt===null?r.memoizedState:Nt.next)===null&&(r=r.alternate,Z.H=r===null||r.memoizedState===null?L0:j0),i}function Eh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return dc(i);if(i.$$typeof===$)return an(i)}throw Error(s(438,String(i)))}function Om(i){var r=null,o=Me.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=Me.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Vm(),Me.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),c=0;c<i;c++)o[c]=L;return r.index++,o}function ys(i,r){return typeof r=="function"?r(i):r}function wh(i){var r=Dt();return Lm(r,Je,i)}function Lm(i,r,o){var c=i.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var d=i.baseQueue,g=c.pending;if(g!==null){if(d!==null){var w=d.next;d.next=g.next,g.next=w}r.baseQueue=d=g,c.pending=null}if(g=i.baseState,d===null)i.memoizedState=g;else{r=d.next;var A=w=null,M=null,K=r,ee=!1;do{var se=K.lane&-536870913;if(se!==K.lane?(Fe&se)===se:(ar&se)===se){var Y=K.revertLane;if(Y===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),se===bo&&(ee=!0);else if((ar&Y)===Y){K=K.next,Y===bo&&(ee=!0);continue}else se={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},M===null?(A=M=se,w=g):M=M.next=se,Me.lanes|=Y,dr|=Y;se=K.action,Ca&&o(g,se),g=K.hasEagerState?K.eagerState:o(g,se)}else Y={lane:se,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},M===null?(A=M=Y,w=g):M=M.next=Y,Me.lanes|=se,dr|=se;K=K.next}while(K!==null&&K!==r);if(M===null?w=g:M.next=A,!Dn(g,i.memoizedState)&&(Gt=!0,ee&&(o=Ao,o!==null)))throw o;i.memoizedState=g,i.baseState=w,i.baseQueue=M,c.lastRenderedState=g}return d===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function jm(i){var r=Dt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var c=o.dispatch,d=o.pending,g=r.memoizedState;if(d!==null){o.pending=null;var w=d=d.next;do g=i(g,w.action),w=w.next;while(w!==d);Dn(g,r.memoizedState)||(Gt=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,c]}function i0(i,r,o){var c=Me,d=Dt(),g=Ke;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var w=!Dn((Je||d).memoizedState,o);w&&(d.memoizedState=o,Gt=!0),d=d.queue;var A=a0.bind(null,c,d,i);if(mc(2048,8,A,[i]),d.getSnapshot!==r||w||Nt!==null&&Nt.memoizedState.tag&1){if(c.flags|=2048,Co(9,bh(),r0.bind(null,c,d,o,r),null),ot===null)throw Error(s(349));g||(ar&124)!==0||s0(c,r,o)}return o}function s0(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Me.updateQueue,r===null?(r=Vm(),Me.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function r0(i,r,o,c){r.value=o,r.getSnapshot=c,o0(r)&&l0(i)}function a0(i,r,o){return o(function(){o0(r)&&l0(i)})}function o0(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Dn(i,o)}catch{return!0}}function l0(i){var r=_o(i,2);r!==null&&Ln(r,i,2)}function Um(i){var r=wn();if(typeof i=="function"){var o=i;if(i=o(),Ca){zn(!0);try{o()}finally{zn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:i},r}function c0(i,r,o,c){return i.baseState=o,Lm(i,Je,typeof c=="function"?c:ys)}function lI(i,r,o,c,d){if(Sh(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){g.listeners.push(w)}};Z.T!==null?o(!0):g.isTransition=!1,c(g),o=r.pending,o===null?(g.next=r.pending=g,u0(r,g)):(g.next=o.next,r.pending=o.next=g)}}function u0(i,r){var o=r.action,c=r.payload,d=i.state;if(r.isTransition){var g=Z.T,w={};Z.T=w;try{var A=o(d,c),M=Z.S;M!==null&&M(w,A),h0(i,r,A)}catch(K){Bm(i,r,K)}finally{Z.T=g}}else try{g=o(d,c),h0(i,r,g)}catch(K){Bm(i,r,K)}}function h0(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){f0(i,r,c)},function(c){return Bm(i,r,c)}):f0(i,r,o)}function f0(i,r,o){r.status="fulfilled",r.value=o,d0(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,u0(i,o)))}function Bm(i,r,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,d0(r),r=r.next;while(r!==c)}i.action=null}function d0(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function m0(i,r){return r}function p0(i,r){if(Ke){var o=ot.formState;if(o!==null){e:{var c=Me;if(Ke){if(vt){t:{for(var d=vt,g=Ui;d.nodeType!==8;){if(!g){d=null;break t}if(d=_i(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){vt=_i(d.nextSibling),c=d.data==="F!";break e}}Aa(c)}c=!1}c&&(r=o[0])}}return o=wn(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:m0,lastRenderedState:r},o.queue=c,o=k0.bind(null,Me,c),c.dispatch=o,c=Um(!1),g=Gm.bind(null,Me,!1,c.queue),c=wn(),d={state:r,dispatch:null,action:i,pending:null},c.queue=d,o=lI.bind(null,Me,d,g,o),d.dispatch=o,c.memoizedState=i,[r,o,!1]}function g0(i){var r=Dt();return y0(r,Je,i)}function y0(i,r,o){if(r=Lm(i,r,m0)[0],i=wh(ys)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=dc(r)}catch(w){throw w===oc?gh:w}else c=r;r=Dt();var d=r.queue,g=d.dispatch;return o!==r.memoizedState&&(Me.flags|=2048,Co(9,bh(),cI.bind(null,d,o),null)),[c,g,i]}function cI(i,r){i.action=r}function v0(i){var r=Dt(),o=Je;if(o!==null)return y0(r,o,i);Dt(),r=r.memoizedState,o=Dt();var c=o.queue.dispatch;return o.memoizedState=i,[r,c,!1]}function Co(i,r,o,c){return i={tag:i,create:o,deps:c,inst:r,next:null},r=Me.updateQueue,r===null&&(r=Vm(),Me.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,r.lastEffect=i),i}function bh(){return{destroy:void 0,resource:void 0}}function _0(){return Dt().memoizedState}function Ah(i,r,o,c){var d=wn();c=c===void 0?null:c,Me.flags|=i,d.memoizedState=Co(1|r,bh(),o,c)}function mc(i,r,o,c){var d=Dt();c=c===void 0?null:c;var g=d.memoizedState.inst;Je!==null&&c!==null&&Nm(c,Je.memoizedState.deps)?d.memoizedState=Co(r,g,o,c):(Me.flags|=i,d.memoizedState=Co(1|r,g,o,c))}function T0(i,r){Ah(8390656,8,i,r)}function E0(i,r){mc(2048,8,i,r)}function w0(i,r){return mc(4,2,i,r)}function b0(i,r){return mc(4,4,i,r)}function A0(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function S0(i,r,o){o=o!=null?o.concat([i]):null,mc(4,4,A0.bind(null,r,i),o)}function Fm(){}function x0(i,r){var o=Dt();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&Nm(r,c[1])?c[0]:(o.memoizedState=[i,r],i)}function R0(i,r){var o=Dt();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&Nm(r,c[1]))return c[0];if(c=i(),Ca){zn(!0);try{i()}finally{zn(!1)}}return o.memoizedState=[c,r],c}function zm(i,r,o){return o===void 0||(ar&1073741824)!==0?i.memoizedState=r:(i.memoizedState=o,i=NT(),Me.lanes|=i,dr|=i,o)}function C0(i,r,o,c){return Dn(o,r)?o:So.current!==null?(i=zm(i,o,c),Dn(i,r)||(Gt=!0),i):(ar&42)===0?(Gt=!0,i.memoizedState=o):(i=NT(),Me.lanes|=i,dr|=i,r)}function I0(i,r,o,c,d){var g=ae.p;ae.p=g!==0&&8>g?g:8;var w=Z.T,A={};Z.T=A,Gm(i,!1,r,o);try{var M=d(),K=Z.S;if(K!==null&&K(A,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var ee=rI(M,c);pc(i,r,ee,On(i))}else pc(i,r,c,On(i))}catch(se){pc(i,r,{then:function(){},status:"rejected",reason:se},On())}finally{ae.p=g,Z.T=w}}function uI(){}function qm(i,r,o,c){if(i.tag!==5)throw Error(s(476));var d=N0(i).queue;I0(i,d,r,ue,o===null?uI:function(){return D0(i),o(c)})}function N0(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:ue},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function D0(i){var r=N0(i).next.queue;pc(i,r,{},On())}function Hm(){return an(Mc)}function P0(){return Dt().memoizedState}function M0(){return Dt().memoizedState}function hI(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=On();i=sr(o);var c=rr(r,i,o);c!==null&&(Ln(c,r,o),cc(c,r,o)),r={cache:Tm()},i.payload=r;return}r=r.return}}function fI(i,r,o){var c=On();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Sh(i)?V0(r,o):(o=um(i,r,o,c),o!==null&&(Ln(o,i,c),O0(o,r,c)))}function k0(i,r,o){var c=On();pc(i,r,o,c)}function pc(i,r,o,c){var d={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Sh(i))V0(r,d);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var w=r.lastRenderedState,A=g(w,o);if(d.hasEagerState=!0,d.eagerState=A,Dn(A,w))return lh(i,r,d,0),ot===null&&oh(),!1}catch{}finally{}if(o=um(i,r,d,c),o!==null)return Ln(o,i,c),O0(o,r,c),!0}return!1}function Gm(i,r,o,c){if(c={lane:2,revertLane:bp(),action:c,hasEagerState:!1,eagerState:null,next:null},Sh(i)){if(r)throw Error(s(479))}else r=um(i,o,c,2),r!==null&&Ln(r,i,2)}function Sh(i){var r=i.alternate;return i===Me||r!==null&&r===Me}function V0(i,r){xo=_h=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function O0(i,r,o){if((o&4194048)!==0){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,Gs(i,o)}}var xh={readContext:an,use:Eh,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt},L0={readContext:an,use:Eh,useCallback:function(i,r){return wn().memoizedState=[i,r===void 0?null:r],i},useContext:an,useEffect:T0,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Ah(4194308,4,A0.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Ah(4194308,4,i,r)},useInsertionEffect:function(i,r){Ah(4,2,i,r)},useMemo:function(i,r){var o=wn();r=r===void 0?null:r;var c=i();if(Ca){zn(!0);try{i()}finally{zn(!1)}}return o.memoizedState=[c,r],c},useReducer:function(i,r,o){var c=wn();if(o!==void 0){var d=o(r);if(Ca){zn(!0);try{o(r)}finally{zn(!1)}}}else d=r;return c.memoizedState=c.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},c.queue=i,i=i.dispatch=fI.bind(null,Me,i),[c.memoizedState,i]},useRef:function(i){var r=wn();return i={current:i},r.memoizedState=i},useState:function(i){i=Um(i);var r=i.queue,o=k0.bind(null,Me,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Fm,useDeferredValue:function(i,r){var o=wn();return zm(o,i,r)},useTransition:function(){var i=Um(!1);return i=I0.bind(null,Me,i.queue,!0,!1),wn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var c=Me,d=wn();if(Ke){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),ot===null)throw Error(s(349));(Fe&124)!==0||s0(c,r,o)}d.memoizedState=o;var g={value:o,getSnapshot:r};return d.queue=g,T0(a0.bind(null,c,g,i),[i]),c.flags|=2048,Co(9,bh(),r0.bind(null,c,g,o,r),null),o},useId:function(){var i=wn(),r=ot.identifierPrefix;if(Ke){var o=ms,c=ds;o=(c&~(1<<32-pn(c)-1)).toString(32)+o,r=""+r+"R"+o,o=Th++,0<o&&(r+="H"+o.toString(32)),r+=""}else o=aI++,r=""+r+"r"+o.toString(32)+"";return i.memoizedState=r},useHostTransitionStatus:Hm,useFormState:p0,useActionState:p0,useOptimistic:function(i){var r=wn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Gm.bind(null,Me,!0,o),o.dispatch=r,[i,r]},useMemoCache:Om,useCacheRefresh:function(){return wn().memoizedState=hI.bind(null,Me)}},j0={readContext:an,use:Eh,useCallback:x0,useContext:an,useEffect:E0,useImperativeHandle:S0,useInsertionEffect:w0,useLayoutEffect:b0,useMemo:R0,useReducer:wh,useRef:_0,useState:function(){return wh(ys)},useDebugValue:Fm,useDeferredValue:function(i,r){var o=Dt();return C0(o,Je.memoizedState,i,r)},useTransition:function(){var i=wh(ys)[0],r=Dt().memoizedState;return[typeof i=="boolean"?i:dc(i),r]},useSyncExternalStore:i0,useId:P0,useHostTransitionStatus:Hm,useFormState:g0,useActionState:g0,useOptimistic:function(i,r){var o=Dt();return c0(o,Je,i,r)},useMemoCache:Om,useCacheRefresh:M0},dI={readContext:an,use:Eh,useCallback:x0,useContext:an,useEffect:E0,useImperativeHandle:S0,useInsertionEffect:w0,useLayoutEffect:b0,useMemo:R0,useReducer:jm,useRef:_0,useState:function(){return jm(ys)},useDebugValue:Fm,useDeferredValue:function(i,r){var o=Dt();return Je===null?zm(o,i,r):C0(o,Je.memoizedState,i,r)},useTransition:function(){var i=jm(ys)[0],r=Dt().memoizedState;return[typeof i=="boolean"?i:dc(i),r]},useSyncExternalStore:i0,useId:P0,useHostTransitionStatus:Hm,useFormState:v0,useActionState:v0,useOptimistic:function(i,r){var o=Dt();return Je!==null?c0(o,Je,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Om,useCacheRefresh:M0},Io=null,gc=0;function Rh(i){var r=gc;return gc+=1,Io===null&&(Io=[]),X_(Io,i,r)}function yc(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Ch(i,r){throw r.$$typeof===T?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function U0(i){var r=i._init;return r(i._payload)}function B0(i){function r(F,j){if(i){var H=F.deletions;H===null?(F.deletions=[j],F.flags|=16):H.push(j)}}function o(F,j){if(!i)return null;for(;j!==null;)r(F,j),j=j.sibling;return null}function c(F){for(var j=new Map;F!==null;)F.key!==null?j.set(F.key,F):j.set(F.index,F),F=F.sibling;return j}function d(F,j){return F=fs(F,j),F.index=0,F.sibling=null,F}function g(F,j,H){return F.index=H,i?(H=F.alternate,H!==null?(H=H.index,H<j?(F.flags|=67108866,j):H):(F.flags|=67108866,j)):(F.flags|=1048576,j)}function w(F){return i&&F.alternate===null&&(F.flags|=67108866),F}function A(F,j,H,te){return j===null||j.tag!==6?(j=fm(H,F.mode,te),j.return=F,j):(j=d(j,H),j.return=F,j)}function M(F,j,H,te){var me=H.type;return me===k?ee(F,j,H.props.children,te,H.key):j!==null&&(j.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===x&&U0(me)===j.type)?(j=d(j,H.props),yc(j,H),j.return=F,j):(j=uh(H.type,H.key,H.props,null,F.mode,te),yc(j,H),j.return=F,j)}function K(F,j,H,te){return j===null||j.tag!==4||j.stateNode.containerInfo!==H.containerInfo||j.stateNode.implementation!==H.implementation?(j=dm(H,F.mode,te),j.return=F,j):(j=d(j,H.children||[]),j.return=F,j)}function ee(F,j,H,te,me){return j===null||j.tag!==7?(j=Ta(H,F.mode,te,me),j.return=F,j):(j=d(j,H),j.return=F,j)}function se(F,j,H){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=fm(""+j,F.mode,H),j.return=F,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case b:return H=uh(j.type,j.key,j.props,null,F.mode,H),yc(H,j),H.return=F,H;case R:return j=dm(j,F.mode,H),j.return=F,j;case x:var te=j._init;return j=te(j._payload),se(F,j,H)}if(De(j)||B(j))return j=Ta(j,F.mode,H,null),j.return=F,j;if(typeof j.then=="function")return se(F,Rh(j),H);if(j.$$typeof===$)return se(F,mh(F,j),H);Ch(F,j)}return null}function Y(F,j,H,te){var me=j!==null?j.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return me!==null?null:A(F,j,""+H,te);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case b:return H.key===me?M(F,j,H,te):null;case R:return H.key===me?K(F,j,H,te):null;case x:return me=H._init,H=me(H._payload),Y(F,j,H,te)}if(De(H)||B(H))return me!==null?null:ee(F,j,H,te,null);if(typeof H.then=="function")return Y(F,j,Rh(H),te);if(H.$$typeof===$)return Y(F,j,mh(F,H),te);Ch(F,H)}return null}function X(F,j,H,te,me){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return F=F.get(H)||null,A(j,F,""+te,me);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case b:return F=F.get(te.key===null?H:te.key)||null,M(j,F,te,me);case R:return F=F.get(te.key===null?H:te.key)||null,K(j,F,te,me);case x:var Ve=te._init;return te=Ve(te._payload),X(F,j,H,te,me)}if(De(te)||B(te))return F=F.get(H)||null,ee(j,F,te,me,null);if(typeof te.then=="function")return X(F,j,H,Rh(te),me);if(te.$$typeof===$)return X(F,j,H,mh(j,te),me);Ch(j,te)}return null}function Se(F,j,H,te){for(var me=null,Ve=null,ye=j,we=j=0,Kt=null;ye!==null&&we<H.length;we++){ye.index>we?(Kt=ye,ye=null):Kt=ye.sibling;var $e=Y(F,ye,H[we],te);if($e===null){ye===null&&(ye=Kt);break}i&&ye&&$e.alternate===null&&r(F,ye),j=g($e,j,we),Ve===null?me=$e:Ve.sibling=$e,Ve=$e,ye=Kt}if(we===H.length)return o(F,ye),Ke&&wa(F,we),me;if(ye===null){for(;we<H.length;we++)ye=se(F,H[we],te),ye!==null&&(j=g(ye,j,we),Ve===null?me=ye:Ve.sibling=ye,Ve=ye);return Ke&&wa(F,we),me}for(ye=c(ye);we<H.length;we++)Kt=X(ye,F,we,H[we],te),Kt!==null&&(i&&Kt.alternate!==null&&ye.delete(Kt.key===null?we:Kt.key),j=g(Kt,j,we),Ve===null?me=Kt:Ve.sibling=Kt,Ve=Kt);return i&&ye.forEach(function(wr){return r(F,wr)}),Ke&&wa(F,we),me}function Ee(F,j,H,te){if(H==null)throw Error(s(151));for(var me=null,Ve=null,ye=j,we=j=0,Kt=null,$e=H.next();ye!==null&&!$e.done;we++,$e=H.next()){ye.index>we?(Kt=ye,ye=null):Kt=ye.sibling;var wr=Y(F,ye,$e.value,te);if(wr===null){ye===null&&(ye=Kt);break}i&&ye&&wr.alternate===null&&r(F,ye),j=g(wr,j,we),Ve===null?me=wr:Ve.sibling=wr,Ve=wr,ye=Kt}if($e.done)return o(F,ye),Ke&&wa(F,we),me;if(ye===null){for(;!$e.done;we++,$e=H.next())$e=se(F,$e.value,te),$e!==null&&(j=g($e,j,we),Ve===null?me=$e:Ve.sibling=$e,Ve=$e);return Ke&&wa(F,we),me}for(ye=c(ye);!$e.done;we++,$e=H.next())$e=X(ye,F,we,$e.value,te),$e!==null&&(i&&$e.alternate!==null&&ye.delete($e.key===null?we:$e.key),j=g($e,j,we),Ve===null?me=$e:Ve.sibling=$e,Ve=$e);return i&&ye.forEach(function(m2){return r(F,m2)}),Ke&&wa(F,we),me}function tt(F,j,H,te){if(typeof H=="object"&&H!==null&&H.type===k&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case b:e:{for(var me=H.key;j!==null;){if(j.key===me){if(me=H.type,me===k){if(j.tag===7){o(F,j.sibling),te=d(j,H.props.children),te.return=F,F=te;break e}}else if(j.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===x&&U0(me)===j.type){o(F,j.sibling),te=d(j,H.props),yc(te,H),te.return=F,F=te;break e}o(F,j);break}else r(F,j);j=j.sibling}H.type===k?(te=Ta(H.props.children,F.mode,te,H.key),te.return=F,F=te):(te=uh(H.type,H.key,H.props,null,F.mode,te),yc(te,H),te.return=F,F=te)}return w(F);case R:e:{for(me=H.key;j!==null;){if(j.key===me)if(j.tag===4&&j.stateNode.containerInfo===H.containerInfo&&j.stateNode.implementation===H.implementation){o(F,j.sibling),te=d(j,H.children||[]),te.return=F,F=te;break e}else{o(F,j);break}else r(F,j);j=j.sibling}te=dm(H,F.mode,te),te.return=F,F=te}return w(F);case x:return me=H._init,H=me(H._payload),tt(F,j,H,te)}if(De(H))return Se(F,j,H,te);if(B(H)){if(me=B(H),typeof me!="function")throw Error(s(150));return H=me.call(H),Ee(F,j,H,te)}if(typeof H.then=="function")return tt(F,j,Rh(H),te);if(H.$$typeof===$)return tt(F,j,mh(F,H),te);Ch(F,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,j!==null&&j.tag===6?(o(F,j.sibling),te=d(j,H),te.return=F,F=te):(o(F,j),te=fm(H,F.mode,te),te.return=F,F=te),w(F)):o(F,j)}return function(F,j,H,te){try{gc=0;var me=tt(F,j,H,te);return Io=null,me}catch(ye){if(ye===oc||ye===gh)throw ye;var Ve=Pn(29,ye,null,F.mode);return Ve.lanes=te,Ve.return=F,Ve}finally{}}}var No=B0(!0),F0=B0(!1),Wn=W(null),Bi=null;function or(i){var r=i.alternate;he(Bt,Bt.current&1),he(Wn,i),Bi===null&&(r===null||So.current!==null||r.memoizedState!==null)&&(Bi=i)}function z0(i){if(i.tag===22){if(he(Bt,Bt.current),he(Wn,i),Bi===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(Bi=i)}}else lr()}function lr(){he(Bt,Bt.current),he(Wn,Wn.current)}function vs(i){le(Wn),Bi===i&&(Bi=null),le(Bt)}var Bt=W(0);function Ih(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Vp(o)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function $m(i,r,o,c){r=i.memoizedState,o=o(c,r),o=o==null?r:y({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Km={enqueueSetState:function(i,r,o){i=i._reactInternals;var c=On(),d=sr(c);d.payload=r,o!=null&&(d.callback=o),r=rr(i,d,c),r!==null&&(Ln(r,i,c),cc(r,i,c))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var c=On(),d=sr(c);d.tag=1,d.payload=r,o!=null&&(d.callback=o),r=rr(i,d,c),r!==null&&(Ln(r,i,c),cc(r,i,c))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=On(),c=sr(o);c.tag=2,r!=null&&(c.callback=r),r=rr(i,c,o),r!==null&&(Ln(r,i,o),cc(r,i,o))}};function q0(i,r,o,c,d,g,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,g,w):r.prototype&&r.prototype.isPureReactComponent?!Jl(o,c)||!Jl(d,g):!0}function H0(i,r,o,c){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==i&&Km.enqueueReplaceState(r,r.state,null)}function Ia(i,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(i=i.defaultProps){o===r&&(o=y({},o));for(var d in i)o[d]===void 0&&(o[d]=i[d])}return o}var Nh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function G0(i){Nh(i)}function $0(i){console.error(i)}function K0(i){Nh(i)}function Dh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function Y0(i,r,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Ym(i,r,o){return o=sr(o),o.tag=3,o.payload={element:null},o.callback=function(){Dh(i,r)},o}function X0(i){return i=sr(i),i.tag=3,i}function Q0(i,r,o,c){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=c.value;i.payload=function(){return d(g)},i.callback=function(){Y0(r,o,c)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(i.callback=function(){Y0(r,o,c),typeof d!="function"&&(mr===null?mr=new Set([this]):mr.add(this));var A=c.stack;this.componentDidCatch(c.value,{componentStack:A!==null?A:""})})}function mI(i,r,o,c,d){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&sc(r,o,d,!0),o=Wn.current,o!==null){switch(o.tag){case 13:return Bi===null?vp():o.alternate===null&&_t===0&&(_t=3),o.flags&=-257,o.flags|=65536,o.lanes=d,c===bm?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),Tp(i,c,d)),!1;case 22:return o.flags|=65536,c===bm?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),Tp(i,c,d)),!1}throw Error(s(435,o.tag))}return Tp(i,c,d),vp(),!1}if(Ke)return r=Wn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,c!==gm&&(i=Error(s(422),{cause:c}),ic(Kn(i,o)))):(c!==gm&&(r=Error(s(423),{cause:c}),ic(Kn(r,o))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,c=Kn(c,o),d=Ym(i.stateNode,c,d),xm(i,d),_t!==4&&(_t=2)),!1;var g=Error(s(520),{cause:c});if(g=Kn(g,o),Ac===null?Ac=[g]:Ac.push(g),_t!==4&&(_t=2),r===null)return!0;c=Kn(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=d&-d,o.lanes|=i,i=Ym(o.stateNode,c,i),xm(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(mr===null||!mr.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=X0(d),Q0(d,i,o,c),xm(o,d),!1}o=o.return}while(o!==null);return!1}var W0=Error(s(461)),Gt=!1;function Qt(i,r,o,c){r.child=i===null?F0(r,null,o,c):No(r,i.child,o,c)}function Z0(i,r,o,c,d){o=o.render;var g=r.ref;if("ref"in c){var w={};for(var A in c)A!=="ref"&&(w[A]=c[A])}else w=c;return xa(r),c=Dm(i,r,o,w,g,d),A=Pm(),i!==null&&!Gt?(Mm(i,r,d),_s(i,r,d)):(Ke&&A&&mm(r),r.flags|=1,Qt(i,r,c,d),r.child)}function J0(i,r,o,c,d){if(i===null){var g=o.type;return typeof g=="function"&&!hm(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,eT(i,r,g,c,d)):(i=uh(o.type,null,c,r,r.mode,d),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!np(i,d)){var w=g.memoizedProps;if(o=o.compare,o=o!==null?o:Jl,o(w,c)&&i.ref===r.ref)return _s(i,r,d)}return r.flags|=1,i=fs(g,c),i.ref=r.ref,i.return=r,r.child=i}function eT(i,r,o,c,d){if(i!==null){var g=i.memoizedProps;if(Jl(g,c)&&i.ref===r.ref)if(Gt=!1,r.pendingProps=c=g,np(i,d))(i.flags&131072)!==0&&(Gt=!0);else return r.lanes=i.lanes,_s(i,r,d)}return Xm(i,r,o,c,d)}function tT(i,r,o){var c=r.pendingProps,d=c.children,g=i!==null?i.memoizedState:null;if(c.mode==="hidden"){if((r.flags&128)!==0){if(c=g!==null?g.baseLanes|o:o,i!==null){for(d=r.child=i.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;r.childLanes=g&~c}else r.childLanes=0,r.child=null;return nT(i,r,c,o)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&ph(r,g!==null?g.cachePool:null),g!==null?e0(r,g):Cm(),z0(r);else return r.lanes=r.childLanes=536870912,nT(i,r,g!==null?g.baseLanes|o:o,o)}else g!==null?(ph(r,g.cachePool),e0(r,g),lr(),r.memoizedState=null):(i!==null&&ph(r,null),Cm(),lr());return Qt(i,r,d,o),r.child}function nT(i,r,o,c){var d=wm();return d=d===null?null:{parent:Ut._currentValue,pool:d},r.memoizedState={baseLanes:o,cachePool:d},i!==null&&ph(r,null),Cm(),z0(r),i!==null&&sc(i,r,c,!0),null}function Ph(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function Xm(i,r,o,c,d){return xa(r),o=Dm(i,r,o,c,void 0,d),c=Pm(),i!==null&&!Gt?(Mm(i,r,d),_s(i,r,d)):(Ke&&c&&mm(r),r.flags|=1,Qt(i,r,o,d),r.child)}function iT(i,r,o,c,d,g){return xa(r),r.updateQueue=null,o=n0(r,c,o,d),t0(i),c=Pm(),i!==null&&!Gt?(Mm(i,r,g),_s(i,r,g)):(Ke&&c&&mm(r),r.flags|=1,Qt(i,r,o,g),r.child)}function sT(i,r,o,c,d){if(xa(r),r.stateNode===null){var g=To,w=o.contextType;typeof w=="object"&&w!==null&&(g=an(w)),g=new o(c,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Km,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=c,g.state=r.memoizedState,g.refs={},Am(r),w=o.contextType,g.context=typeof w=="object"&&w!==null?an(w):To,g.state=r.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&($m(r,o,w,c),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(w=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),w!==g.state&&Km.enqueueReplaceState(g,g.state,null),hc(r,c,g,d),uc(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(i===null){g=r.stateNode;var A=r.memoizedProps,M=Ia(o,A);g.props=M;var K=g.context,ee=o.contextType;w=To,typeof ee=="object"&&ee!==null&&(w=an(ee));var se=o.getDerivedStateFromProps;ee=typeof se=="function"||typeof g.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,ee||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A||K!==w)&&H0(r,g,c,w),ir=!1;var Y=r.memoizedState;g.state=Y,hc(r,c,g,d),uc(),K=r.memoizedState,A||Y!==K||ir?(typeof se=="function"&&($m(r,o,se,c),K=r.memoizedState),(M=ir||q0(r,o,M,c,Y,K,w))?(ee||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=K),g.props=c,g.state=K,g.context=w,c=M):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{g=r.stateNode,Sm(i,r),w=r.memoizedProps,ee=Ia(o,w),g.props=ee,se=r.pendingProps,Y=g.context,K=o.contextType,M=To,typeof K=="object"&&K!==null&&(M=an(K)),A=o.getDerivedStateFromProps,(K=typeof A=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==se||Y!==M)&&H0(r,g,c,M),ir=!1,Y=r.memoizedState,g.state=Y,hc(r,c,g,d),uc();var X=r.memoizedState;w!==se||Y!==X||ir||i!==null&&i.dependencies!==null&&dh(i.dependencies)?(typeof A=="function"&&($m(r,o,A,c),X=r.memoizedState),(ee=ir||q0(r,o,ee,c,Y,X,M)||i!==null&&i.dependencies!==null&&dh(i.dependencies))?(K||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,X,M),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,X,M)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===i.memoizedProps&&Y===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&Y===i.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=X),g.props=c,g.state=X,g.context=M,c=ee):(typeof g.componentDidUpdate!="function"||w===i.memoizedProps&&Y===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&Y===i.memoizedState||(r.flags|=1024),c=!1)}return g=c,Ph(i,r),c=(r.flags&128)!==0,g||c?(g=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&c?(r.child=No(r,i.child,null,d),r.child=No(r,null,o,d)):Qt(i,r,o,d),r.memoizedState=g.state,i=r.child):i=_s(i,r,d),i}function rT(i,r,o,c){return nc(),r.flags|=256,Qt(i,r,o,c),r.child}var Qm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wm(i){return{baseLanes:i,cachePool:$_()}}function Zm(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Zn),i}function aT(i,r,o){var c=r.pendingProps,d=!1,g=(r.flags&128)!==0,w;if((w=g)||(w=i!==null&&i.memoizedState===null?!1:(Bt.current&2)!==0),w&&(d=!0,r.flags&=-129),w=(r.flags&32)!==0,r.flags&=-33,i===null){if(Ke){if(d?or(r):lr(),Ke){var A=vt,M;if(M=A){e:{for(M=A,A=Ui;M.nodeType!==8;){if(!A){A=null;break e}if(M=_i(M.nextSibling),M===null){A=null;break e}}A=M}A!==null?(r.memoizedState={dehydrated:A,treeContext:Ea!==null?{id:ds,overflow:ms}:null,retryLane:536870912,hydrationErrors:null},M=Pn(18,null,null,0),M.stateNode=A,M.return=r,r.child=M,_n=r,vt=null,M=!0):M=!1}M||Aa(r)}if(A=r.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return Vp(A)?r.lanes=32:r.lanes=536870912,null;vs(r)}return A=c.children,c=c.fallback,d?(lr(),d=r.mode,A=Mh({mode:"hidden",children:A},d),c=Ta(c,d,o,null),A.return=r,c.return=r,A.sibling=c,r.child=A,d=r.child,d.memoizedState=Wm(o),d.childLanes=Zm(i,w,o),r.memoizedState=Qm,c):(or(r),Jm(r,A))}if(M=i.memoizedState,M!==null&&(A=M.dehydrated,A!==null)){if(g)r.flags&256?(or(r),r.flags&=-257,r=ep(i,r,o)):r.memoizedState!==null?(lr(),r.child=i.child,r.flags|=128,r=null):(lr(),d=c.fallback,A=r.mode,c=Mh({mode:"visible",children:c.children},A),d=Ta(d,A,o,null),d.flags|=2,c.return=r,d.return=r,c.sibling=d,r.child=c,No(r,i.child,null,o),c=r.child,c.memoizedState=Wm(o),c.childLanes=Zm(i,w,o),r.memoizedState=Qm,r=d);else if(or(r),Vp(A)){if(w=A.nextSibling&&A.nextSibling.dataset,w)var K=w.dgst;w=K,c=Error(s(419)),c.stack="",c.digest=w,ic({value:c,source:null,stack:null}),r=ep(i,r,o)}else if(Gt||sc(i,r,o,!1),w=(o&i.childLanes)!==0,Gt||w){if(w=ot,w!==null&&(c=o&-o,c=(c&42)!==0?1:Ol(c),c=(c&(w.suspendedLanes|o))!==0?0:c,c!==0&&c!==M.retryLane))throw M.retryLane=c,_o(i,c),Ln(w,i,c),W0;A.data==="$?"||vp(),r=ep(i,r,o)}else A.data==="$?"?(r.flags|=192,r.child=i.child,r=null):(i=M.treeContext,vt=_i(A.nextSibling),_n=r,Ke=!0,ba=null,Ui=!1,i!==null&&(Xn[Qn++]=ds,Xn[Qn++]=ms,Xn[Qn++]=Ea,ds=i.id,ms=i.overflow,Ea=r),r=Jm(r,c.children),r.flags|=4096);return r}return d?(lr(),d=c.fallback,A=r.mode,M=i.child,K=M.sibling,c=fs(M,{mode:"hidden",children:c.children}),c.subtreeFlags=M.subtreeFlags&65011712,K!==null?d=fs(K,d):(d=Ta(d,A,o,null),d.flags|=2),d.return=r,c.return=r,c.sibling=d,r.child=c,c=d,d=r.child,A=i.child.memoizedState,A===null?A=Wm(o):(M=A.cachePool,M!==null?(K=Ut._currentValue,M=M.parent!==K?{parent:K,pool:K}:M):M=$_(),A={baseLanes:A.baseLanes|o,cachePool:M}),d.memoizedState=A,d.childLanes=Zm(i,w,o),r.memoizedState=Qm,c):(or(r),o=i.child,i=o.sibling,o=fs(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,i!==null&&(w=r.deletions,w===null?(r.deletions=[i],r.flags|=16):w.push(i)),r.child=o,r.memoizedState=null,o)}function Jm(i,r){return r=Mh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Mh(i,r){return i=Pn(22,i,null,r),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function ep(i,r,o){return No(r,i.child,null,o),i=Jm(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function oT(i,r,o){i.lanes|=r;var c=i.alternate;c!==null&&(c.lanes|=r),vm(i.return,r,o)}function tp(i,r,o,c,d){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:d}:(g.isBackwards=r,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=o,g.tailMode=d)}function lT(i,r,o){var c=r.pendingProps,d=c.revealOrder,g=c.tail;if(Qt(i,r,c.children,o),c=Bt.current,(c&2)!==0)c=c&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&oT(i,o,r);else if(i.tag===19)oT(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(he(Bt,c),d){case"forwards":for(o=r.child,d=null;o!==null;)i=o.alternate,i!==null&&Ih(i)===null&&(d=o),o=o.sibling;o=d,o===null?(d=r.child,r.child=null):(d=o.sibling,o.sibling=null),tp(r,!1,d,o,g);break;case"backwards":for(o=null,d=r.child,r.child=null;d!==null;){if(i=d.alternate,i!==null&&Ih(i)===null){r.child=d;break}i=d.sibling,d.sibling=o,o=d,d=i}tp(r,!0,o,null,g);break;case"together":tp(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function _s(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),dr|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(sc(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=fs(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=fs(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function np(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&dh(i)))}function pI(i,r,o){switch(r.tag){case 3:ge(r,r.stateNode.containerInfo),nr(r,Ut,i.memoizedState.cache),nc();break;case 27:case 5:Ge(r);break;case 4:ge(r,r.stateNode.containerInfo);break;case 10:nr(r,r.type,r.memoizedProps.value);break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(or(r),r.flags|=128,null):(o&r.child.childLanes)!==0?aT(i,r,o):(or(r),i=_s(i,r,o),i!==null?i.sibling:null);or(r);break;case 19:var d=(i.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(sc(i,r,o,!1),c=(o&r.childLanes)!==0),d){if(c)return lT(i,r,o);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),he(Bt,Bt.current),c)break;return null;case 22:case 23:return r.lanes=0,tT(i,r,o);case 24:nr(r,Ut,i.memoizedState.cache)}return _s(i,r,o)}function cT(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Gt=!0;else{if(!np(i,o)&&(r.flags&128)===0)return Gt=!1,pI(i,r,o);Gt=(i.flags&131072)!==0}else Gt=!1,Ke&&(r.flags&1048576)!==0&&U_(r,fh,r.index);switch(r.lanes=0,r.tag){case 16:e:{i=r.pendingProps;var c=r.elementType,d=c._init;if(c=d(c._payload),r.type=c,typeof c=="function")hm(c)?(i=Ia(c,i),r.tag=1,r=sT(null,r,c,i,o)):(r.tag=0,r=Xm(null,r,c,i,o));else{if(c!=null){if(d=c.$$typeof,d===oe){r.tag=11,r=Z0(null,r,c,i,o);break e}else if(d===I){r.tag=14,r=J0(null,r,c,i,o);break e}}throw r=He(c)||c,Error(s(306,r,""))}}return r;case 0:return Xm(i,r,r.type,r.pendingProps,o);case 1:return c=r.type,d=Ia(c,r.pendingProps),sT(i,r,c,d,o);case 3:e:{if(ge(r,r.stateNode.containerInfo),i===null)throw Error(s(387));c=r.pendingProps;var g=r.memoizedState;d=g.element,Sm(i,r),hc(r,c,null,o);var w=r.memoizedState;if(c=w.cache,nr(r,Ut,c),c!==g.cache&&_m(r,[Ut],o,!0),uc(),c=w.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:w.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=rT(i,r,c,o);break e}else if(c!==d){d=Kn(Error(s(424)),r),ic(d),r=rT(i,r,c,o);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(vt=_i(i.firstChild),_n=r,Ke=!0,ba=null,Ui=!0,o=F0(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(nc(),c===d){r=_s(i,r,o);break e}Qt(i,r,c,o)}r=r.child}return r;case 26:return Ph(i,r),i===null?(o=dE(r.type,null,r.pendingProps,null))?r.memoizedState=o:Ke||(o=r.type,i=r.pendingProps,c=Kh(Te.current).createElement(o),c[bt]=r,c[Xt]=i,Zt(c,o,i),At(c),r.stateNode=c):r.memoizedState=dE(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Ge(r),i===null&&Ke&&(c=r.stateNode=uE(r.type,r.pendingProps,Te.current),_n=r,Ui=!0,d=vt,yr(r.type)?(Op=d,vt=_i(c.firstChild)):vt=d),Qt(i,r,r.pendingProps.children,o),Ph(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Ke&&((d=c=vt)&&(c=qI(c,r.type,r.pendingProps,Ui),c!==null?(r.stateNode=c,_n=r,vt=_i(c.firstChild),Ui=!1,d=!0):d=!1),d||Aa(r)),Ge(r),d=r.type,g=r.pendingProps,w=i!==null?i.memoizedProps:null,c=g.children,Pp(d,g)?c=null:w!==null&&Pp(d,w)&&(r.flags|=32),r.memoizedState!==null&&(d=Dm(i,r,oI,null,null,o),Mc._currentValue=d),Ph(i,r),Qt(i,r,c,o),r.child;case 6:return i===null&&Ke&&((i=o=vt)&&(o=HI(o,r.pendingProps,Ui),o!==null?(r.stateNode=o,_n=r,vt=null,i=!0):i=!1),i||Aa(r)),null;case 13:return aT(i,r,o);case 4:return ge(r,r.stateNode.containerInfo),c=r.pendingProps,i===null?r.child=No(r,null,c,o):Qt(i,r,c,o),r.child;case 11:return Z0(i,r,r.type,r.pendingProps,o);case 7:return Qt(i,r,r.pendingProps,o),r.child;case 8:return Qt(i,r,r.pendingProps.children,o),r.child;case 12:return Qt(i,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,nr(r,r.type,c.value),Qt(i,r,c.children,o),r.child;case 9:return d=r.type._context,c=r.pendingProps.children,xa(r),d=an(d),c=c(d),r.flags|=1,Qt(i,r,c,o),r.child;case 14:return J0(i,r,r.type,r.pendingProps,o);case 15:return eT(i,r,r.type,r.pendingProps,o);case 19:return lT(i,r,o);case 31:return c=r.pendingProps,o=r.mode,c={mode:c.mode,children:c.children},i===null?(o=Mh(c,o),o.ref=r.ref,r.child=o,o.return=r,r=o):(o=fs(i.child,c),o.ref=r.ref,r.child=o,o.return=r,r=o),r;case 22:return tT(i,r,o);case 24:return xa(r),c=an(Ut),i===null?(d=wm(),d===null&&(d=ot,g=Tm(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),r.memoizedState={parent:c,cache:d},Am(r),nr(r,Ut,d)):((i.lanes&o)!==0&&(Sm(i,r),hc(r,null,null,o),uc()),d=i.memoizedState,g=r.memoizedState,d.parent!==c?(d={parent:c,cache:c},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),nr(r,Ut,c)):(c=g.cache,nr(r,Ut,c),c!==d.cache&&_m(r,[Ut],o,!0))),Qt(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Ts(i){i.flags|=4}function uT(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!vE(r)){if(r=Wn.current,r!==null&&((Fe&4194048)===Fe?Bi!==null:(Fe&62914560)!==Fe&&(Fe&536870912)===0||r!==Bi))throw lc=bm,K_;i.flags|=8192}}function kh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?qs():536870912,i.lanes|=r,ko|=r)}function vc(i,r){if(!Ke)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function pt(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(r)for(var d=i.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags&65011712,c|=d.flags&65011712,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=c,i.childLanes=o,r}function gI(i,r,o){var c=r.pendingProps;switch(pm(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(r),null;case 1:return pt(r),null;case 3:return o=r.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),gs(Ut),ve(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(tc(r)?Ts(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,z_())),pt(r),null;case 26:return o=r.memoizedState,i===null?(Ts(r),o!==null?(pt(r),uT(r,o)):(pt(r),r.flags&=-16777217)):o?o!==i.memoizedState?(Ts(r),pt(r),uT(r,o)):(pt(r),r.flags&=-16777217):(i.memoizedProps!==c&&Ts(r),pt(r),r.flags&=-16777217),null;case 27:zt(r),o=Te.current;var d=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==c&&Ts(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return pt(r),null}i=pe.current,tc(r)?B_(r):(i=uE(d,c,o),r.stateNode=i,Ts(r))}return pt(r),null;case 5:if(zt(r),o=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&Ts(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return pt(r),null}if(i=pe.current,tc(r))B_(r);else{switch(d=Kh(Te.current),i){case 1:i=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=d.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?d.createElement("select",{is:c.is}):d.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?d.createElement(o,{is:c.is}):d.createElement(o)}}i[bt]=r,i[Xt]=c;e:for(d=r.child;d!==null;){if(d.tag===5||d.tag===6)i.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===r)break e;for(;d.sibling===null;){if(d.return===null||d.return===r)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}r.stateNode=i;e:switch(Zt(i,o,c),o){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Ts(r)}}return pt(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==c&&Ts(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(s(166));if(i=Te.current,tc(r)){if(i=r.stateNode,o=r.memoizedProps,c=null,d=_n,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}i[bt]=r,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||iE(i.nodeValue,o)),i||Aa(r)}else i=Kh(i).createTextNode(c),i[bt]=r,r.stateNode=i}return pt(r),null;case 13:if(c=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=tc(r),c!==null&&c.dehydrated!==null){if(i===null){if(!d)throw Error(s(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[bt]=r}else nc(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;pt(r),d=!1}else d=z_(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(vs(r),r):(vs(r),null)}if(vs(r),(r.flags&128)!==0)return r.lanes=o,r;if(o=c!==null,i=i!==null&&i.memoizedState!==null,o){c=r.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool);var g=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==d&&(c.flags|=2048)}return o!==i&&o&&(r.child.flags|=8192),kh(r,r.updateQueue),pt(r),null;case 4:return ve(),i===null&&Rp(r.stateNode.containerInfo),pt(r),null;case 10:return gs(r.type),pt(r),null;case 19:if(le(Bt),d=r.memoizedState,d===null)return pt(r),null;if(c=(r.flags&128)!==0,g=d.rendering,g===null)if(c)vc(d,!1);else{if(_t!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=Ih(i),g!==null){for(r.flags|=128,vc(d,!1),i=g.updateQueue,r.updateQueue=i,kh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)j_(o,i),o=o.sibling;return he(Bt,Bt.current&1|2),r.child}i=i.sibling}d.tail!==null&&rt()>Lh&&(r.flags|=128,c=!0,vc(d,!1),r.lanes=4194304)}else{if(!c)if(i=Ih(g),i!==null){if(r.flags|=128,c=!0,i=i.updateQueue,r.updateQueue=i,kh(r,i),vc(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!Ke)return pt(r),null}else 2*rt()-d.renderingStartTime>Lh&&o!==536870912&&(r.flags|=128,c=!0,vc(d,!1),r.lanes=4194304);d.isBackwards?(g.sibling=r.child,r.child=g):(i=d.last,i!==null?i.sibling=g:r.child=g,d.last=g)}return d.tail!==null?(r=d.tail,d.rendering=r,d.tail=r.sibling,d.renderingStartTime=rt(),r.sibling=null,i=Bt.current,he(Bt,c?i&1|2:i&1),r):(pt(r),null);case 22:case 23:return vs(r),Im(),c=r.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(pt(r),r.subtreeFlags&6&&(r.flags|=8192)):pt(r),o=r.updateQueue,o!==null&&kh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),i!==null&&le(Ra),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),gs(Ut),pt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function yI(i,r){switch(pm(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return gs(Ut),ve(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return zt(r),null;case 13:if(vs(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));nc()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return le(Bt),null;case 4:return ve(),null;case 10:return gs(r.type),null;case 22:case 23:return vs(r),Im(),i!==null&&le(Ra),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return gs(Ut),null;case 25:return null;default:return null}}function hT(i,r){switch(pm(r),r.tag){case 3:gs(Ut),ve();break;case 26:case 27:case 5:zt(r);break;case 4:ve();break;case 13:vs(r);break;case 19:le(Bt);break;case 10:gs(r.type);break;case 22:case 23:vs(r),Im(),i!==null&&le(Ra);break;case 24:gs(Ut)}}function _c(i,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var d=c.next;o=d;do{if((o.tag&i)===i){c=void 0;var g=o.create,w=o.inst;c=g(),w.destroy=c}o=o.next}while(o!==d)}}catch(A){nt(r,r.return,A)}}function cr(i,r,o){try{var c=r.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var g=d.next;c=g;do{if((c.tag&i)===i){var w=c.inst,A=w.destroy;if(A!==void 0){w.destroy=void 0,d=r;var M=o,K=A;try{K()}catch(ee){nt(d,M,ee)}}}c=c.next}while(c!==g)}}catch(ee){nt(r,r.return,ee)}}function fT(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{J_(r,o)}catch(c){nt(i,i.return,c)}}}function dT(i,r,o){o.props=Ia(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){nt(i,r,c)}}function Tc(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(d){nt(i,r,d)}}function Fi(i,r){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(d){nt(i,r,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){nt(i,r,d)}else o.current=null}function mT(i){var r=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(d){nt(i,i.return,d)}}function ip(i,r,o){try{var c=i.stateNode;jI(c,i.type,o,r),c[Xt]=r}catch(d){nt(i,i.return,d)}}function pT(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&yr(i.type)||i.tag===4}function sp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||pT(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&yr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function rp(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=$h));else if(c!==4&&(c===27&&yr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(rp(i,r,o),i=i.sibling;i!==null;)rp(i,r,o),i=i.sibling}function Vh(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(c!==4&&(c===27&&yr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Vh(i,r,o),i=i.sibling;i!==null;)Vh(i,r,o),i=i.sibling}function gT(i){var r=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);Zt(r,c,o),r[bt]=i,r[Xt]=o}catch(g){nt(i,i.return,g)}}var Es=!1,Rt=!1,ap=!1,yT=typeof WeakSet=="function"?WeakSet:Set,$t=null;function vI(i,r){if(i=i.containerInfo,Np=Jh,i=C_(i),sm(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var d=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var w=0,A=-1,M=-1,K=0,ee=0,se=i,Y=null;t:for(;;){for(var X;se!==o||d!==0&&se.nodeType!==3||(A=w+d),se!==g||c!==0&&se.nodeType!==3||(M=w+c),se.nodeType===3&&(w+=se.nodeValue.length),(X=se.firstChild)!==null;)Y=se,se=X;for(;;){if(se===i)break t;if(Y===o&&++K===d&&(A=w),Y===g&&++ee===c&&(M=w),(X=se.nextSibling)!==null)break;se=Y,Y=se.parentNode}se=X}o=A===-1||M===-1?null:{start:A,end:M}}else o=null}o=o||{start:0,end:0}}else o=null;for(Dp={focusedElem:i,selectionRange:o},Jh=!1,$t=r;$t!==null;)if(r=$t,i=r.child,(r.subtreeFlags&1024)!==0&&i!==null)i.return=r,$t=i;else for(;$t!==null;){switch(r=$t,g=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,d=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var Se=Ia(o.type,d,o.elementType===o.type);i=c.getSnapshotBeforeUpdate(Se,g),c.__reactInternalSnapshotBeforeUpdate=i}catch(Ee){nt(o,o.return,Ee)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)kp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":kp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,$t=i;break}$t=r.return}}function vT(i,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:ur(i,o),c&4&&_c(5,o);break;case 1:if(ur(i,o),c&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(w){nt(o,o.return,w)}else{var d=Ia(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(d,r,i.__reactInternalSnapshotBeforeUpdate)}catch(w){nt(o,o.return,w)}}c&64&&fT(o),c&512&&Tc(o,o.return);break;case 3:if(ur(i,o),c&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{J_(i,r)}catch(w){nt(o,o.return,w)}}break;case 27:r===null&&c&4&&gT(o);case 26:case 5:ur(i,o),r===null&&c&4&&mT(o),c&512&&Tc(o,o.return);break;case 12:ur(i,o);break;case 13:ur(i,o),c&4&&ET(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=RI.bind(null,o),GI(i,o))));break;case 22:if(c=o.memoizedState!==null||Es,!c){r=r!==null&&r.memoizedState!==null||Rt,d=Es;var g=Rt;Es=c,(Rt=r)&&!g?hr(i,o,(o.subtreeFlags&8772)!==0):ur(i,o),Es=d,Rt=g}break;case 30:break;default:ur(i,o)}}function _T(i){var r=i.alternate;r!==null&&(i.alternate=null,_T(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&io(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ht=null,bn=!1;function ws(i,r,o){for(o=o.child;o!==null;)TT(i,r,o),o=o.sibling}function TT(i,r,o){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(Bs,o)}catch{}switch(o.tag){case 26:Rt||Fi(o,r),ws(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Rt||Fi(o,r);var c=ht,d=bn;yr(o.type)&&(ht=o.stateNode,bn=!1),ws(i,r,o),Ic(o.stateNode),ht=c,bn=d;break;case 5:Rt||Fi(o,r);case 6:if(c=ht,d=bn,ht=null,ws(i,r,o),ht=c,bn=d,ht!==null)if(bn)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(o.stateNode)}catch(g){nt(o,r,g)}else try{ht.removeChild(o.stateNode)}catch(g){nt(o,r,g)}break;case 18:ht!==null&&(bn?(i=ht,lE(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Lc(i)):lE(ht,o.stateNode));break;case 4:c=ht,d=bn,ht=o.stateNode.containerInfo,bn=!0,ws(i,r,o),ht=c,bn=d;break;case 0:case 11:case 14:case 15:Rt||cr(2,o,r),Rt||cr(4,o,r),ws(i,r,o);break;case 1:Rt||(Fi(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&dT(o,r,c)),ws(i,r,o);break;case 21:ws(i,r,o);break;case 22:Rt=(c=Rt)||o.memoizedState!==null,ws(i,r,o),Rt=c;break;default:ws(i,r,o)}}function ET(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Lc(i)}catch(o){nt(r,r.return,o)}}function _I(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new yT),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new yT),r;default:throw Error(s(435,i.tag))}}function op(i,r){var o=_I(i);r.forEach(function(c){var d=CI.bind(null,i,c);o.has(c)||(o.add(c),c.then(d,d))})}function Mn(i,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var d=o[c],g=i,w=r,A=w;e:for(;A!==null;){switch(A.tag){case 27:if(yr(A.type)){ht=A.stateNode,bn=!1;break e}break;case 5:ht=A.stateNode,bn=!1;break e;case 3:case 4:ht=A.stateNode.containerInfo,bn=!0;break e}A=A.return}if(ht===null)throw Error(s(160));TT(g,w,d),ht=null,bn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)wT(r,i),r=r.sibling}var vi=null;function wT(i,r){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Mn(r,i),kn(i),c&4&&(cr(3,i,i.return),_c(3,i),cr(5,i,i.return));break;case 1:Mn(r,i),kn(i),c&512&&(Rt||o===null||Fi(o,o.return)),c&64&&Es&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var d=vi;if(Mn(r,i),kn(i),c&512&&(Rt||o===null||Fi(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,d=d.ownerDocument||d;t:switch(c){case"title":g=d.getElementsByTagName("title")[0],(!g||g[$s]||g[bt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(c),d.head.insertBefore(g,d.querySelector("head > title"))),Zt(g,c,o),g[bt]=i,At(g),c=g;break e;case"link":var w=gE("link","href",d).get(c+(o.href||""));if(w){for(var A=0;A<w.length;A++)if(g=w[A],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(A,1);break t}}g=d.createElement(c),Zt(g,c,o),d.head.appendChild(g);break;case"meta":if(w=gE("meta","content",d).get(c+(o.content||""))){for(A=0;A<w.length;A++)if(g=w[A],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(A,1);break t}}g=d.createElement(c),Zt(g,c,o),d.head.appendChild(g);break;default:throw Error(s(468,c))}g[bt]=i,At(g),c=g}i.stateNode=c}else yE(d,i.type,i.stateNode);else i.stateNode=pE(d,c,i.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?yE(d,i.type,i.stateNode):pE(d,c,i.memoizedProps)):c===null&&i.stateNode!==null&&ip(i,i.memoizedProps,o.memoizedProps)}break;case 27:Mn(r,i),kn(i),c&512&&(Rt||o===null||Fi(o,o.return)),o!==null&&c&4&&ip(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Mn(r,i),kn(i),c&512&&(Rt||o===null||Fi(o,o.return)),i.flags&32){d=i.stateNode;try{Gn(d,"")}catch(X){nt(i,i.return,X)}}c&4&&i.stateNode!=null&&(d=i.memoizedProps,ip(i,d,o!==null?o.memoizedProps:d)),c&1024&&(ap=!0);break;case 6:if(Mn(r,i),kn(i),c&4){if(i.stateNode===null)throw Error(s(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(X){nt(i,i.return,X)}}break;case 3:if(Qh=null,d=vi,vi=Yh(r.containerInfo),Mn(r,i),vi=d,kn(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Lc(r.containerInfo)}catch(X){nt(i,i.return,X)}ap&&(ap=!1,bT(i));break;case 4:c=vi,vi=Yh(i.stateNode.containerInfo),Mn(r,i),kn(i),vi=c;break;case 12:Mn(r,i),kn(i);break;case 13:Mn(r,i),kn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(dp=rt()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,op(i,c)));break;case 22:d=i.memoizedState!==null;var M=o!==null&&o.memoizedState!==null,K=Es,ee=Rt;if(Es=K||d,Rt=ee||M,Mn(r,i),Rt=ee,Es=K,kn(i),c&8192)e:for(r=i.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(o===null||M||Es||Rt||Na(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){M=o=r;try{if(g=M.stateNode,d)w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{A=M.stateNode;var se=M.memoizedProps.style,Y=se!=null&&se.hasOwnProperty("display")?se.display:null;A.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(X){nt(M,M.return,X)}}}else if(r.tag===6){if(o===null){M=r;try{M.stateNode.nodeValue=d?"":M.memoizedProps}catch(X){nt(M,M.return,X)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,op(i,o))));break;case 19:Mn(r,i),kn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,op(i,c)));break;case 30:break;case 21:break;default:Mn(r,i),kn(i)}}function kn(i){var r=i.flags;if(r&2){try{for(var o,c=i.return;c!==null;){if(pT(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var d=o.stateNode,g=sp(i);Vh(i,g,d);break;case 5:var w=o.stateNode;o.flags&32&&(Gn(w,""),o.flags&=-33);var A=sp(i);Vh(i,A,w);break;case 3:case 4:var M=o.stateNode.containerInfo,K=sp(i);rp(i,K,M);break;default:throw Error(s(161))}}catch(ee){nt(i,i.return,ee)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function bT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;bT(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function ur(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)vT(i,r.alternate,r),r=r.sibling}function Na(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:cr(4,r,r.return),Na(r);break;case 1:Fi(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&dT(r,r.return,o),Na(r);break;case 27:Ic(r.stateNode);case 26:case 5:Fi(r,r.return),Na(r);break;case 22:r.memoizedState===null&&Na(r);break;case 30:Na(r);break;default:Na(r)}i=i.sibling}}function hr(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,d=i,g=r,w=g.flags;switch(g.tag){case 0:case 11:case 15:hr(d,g,o),_c(4,g);break;case 1:if(hr(d,g,o),c=g,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(K){nt(c,c.return,K)}if(c=g,d=c.updateQueue,d!==null){var A=c.stateNode;try{var M=d.shared.hiddenCallbacks;if(M!==null)for(d.shared.hiddenCallbacks=null,d=0;d<M.length;d++)Z_(M[d],A)}catch(K){nt(c,c.return,K)}}o&&w&64&&fT(g),Tc(g,g.return);break;case 27:gT(g);case 26:case 5:hr(d,g,o),o&&c===null&&w&4&&mT(g),Tc(g,g.return);break;case 12:hr(d,g,o);break;case 13:hr(d,g,o),o&&w&4&&ET(d,g);break;case 22:g.memoizedState===null&&hr(d,g,o),Tc(g,g.return);break;case 30:break;default:hr(d,g,o)}r=r.sibling}}function lp(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&rc(o))}function cp(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&rc(i))}function zi(i,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)AT(i,r,o,c),r=r.sibling}function AT(i,r,o,c){var d=r.flags;switch(r.tag){case 0:case 11:case 15:zi(i,r,o,c),d&2048&&_c(9,r);break;case 1:zi(i,r,o,c);break;case 3:zi(i,r,o,c),d&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&rc(i)));break;case 12:if(d&2048){zi(i,r,o,c),i=r.stateNode;try{var g=r.memoizedProps,w=g.id,A=g.onPostCommit;typeof A=="function"&&A(w,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(M){nt(r,r.return,M)}}else zi(i,r,o,c);break;case 13:zi(i,r,o,c);break;case 23:break;case 22:g=r.stateNode,w=r.alternate,r.memoizedState!==null?g._visibility&2?zi(i,r,o,c):Ec(i,r):g._visibility&2?zi(i,r,o,c):(g._visibility|=2,Do(i,r,o,c,(r.subtreeFlags&10256)!==0)),d&2048&&lp(w,r);break;case 24:zi(i,r,o,c),d&2048&&cp(r.alternate,r);break;default:zi(i,r,o,c)}}function Do(i,r,o,c,d){for(d=d&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var g=i,w=r,A=o,M=c,K=w.flags;switch(w.tag){case 0:case 11:case 15:Do(g,w,A,M,d),_c(8,w);break;case 23:break;case 22:var ee=w.stateNode;w.memoizedState!==null?ee._visibility&2?Do(g,w,A,M,d):Ec(g,w):(ee._visibility|=2,Do(g,w,A,M,d)),d&&K&2048&&lp(w.alternate,w);break;case 24:Do(g,w,A,M,d),d&&K&2048&&cp(w.alternate,w);break;default:Do(g,w,A,M,d)}r=r.sibling}}function Ec(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,c=r,d=c.flags;switch(c.tag){case 22:Ec(o,c),d&2048&&lp(c.alternate,c);break;case 24:Ec(o,c),d&2048&&cp(c.alternate,c);break;default:Ec(o,c)}r=r.sibling}}var wc=8192;function Po(i){if(i.subtreeFlags&wc)for(i=i.child;i!==null;)ST(i),i=i.sibling}function ST(i){switch(i.tag){case 26:Po(i),i.flags&wc&&i.memoizedState!==null&&s2(vi,i.memoizedState,i.memoizedProps);break;case 5:Po(i);break;case 3:case 4:var r=vi;vi=Yh(i.stateNode.containerInfo),Po(i),vi=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=wc,wc=16777216,Po(i),wc=r):Po(i));break;default:Po(i)}}function xT(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function bc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];$t=c,CT(c,i)}xT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)RT(i),i=i.sibling}function RT(i){switch(i.tag){case 0:case 11:case 15:bc(i),i.flags&2048&&cr(9,i,i.return);break;case 3:bc(i);break;case 12:bc(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Oh(i)):bc(i);break;default:bc(i)}}function Oh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];$t=c,CT(c,i)}xT(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:cr(8,r,r.return),Oh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Oh(r));break;default:Oh(r)}i=i.sibling}}function CT(i,r){for(;$t!==null;){var o=$t;switch(o.tag){case 0:case 11:case 15:cr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:rc(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,$t=c;else e:for(o=i;$t!==null;){c=$t;var d=c.sibling,g=c.return;if(_T(c),c===o){$t=null;break e}if(d!==null){d.return=g,$t=d;break e}$t=g}}}var TI={getCacheForType:function(i){var r=an(Ut),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o}},EI=typeof WeakMap=="function"?WeakMap:Map,Qe=0,ot=null,Oe=null,Fe=0,We=0,Vn=null,fr=!1,Mo=!1,up=!1,bs=0,_t=0,dr=0,Da=0,hp=0,Zn=0,ko=0,Ac=null,An=null,fp=!1,dp=0,Lh=1/0,jh=null,mr=null,Wt=0,pr=null,Vo=null,Oo=0,mp=0,pp=null,IT=null,Sc=0,gp=null;function On(){if((Qe&2)!==0&&Fe!==0)return Fe&-Fe;if(Z.T!==null){var i=bo;return i!==0?i:bp()}return rs()}function NT(){Zn===0&&(Zn=(Fe&536870912)===0||Ke?Vl():536870912);var i=Wn.current;return i!==null&&(i.flags|=32),Zn}function Ln(i,r,o){(i===ot&&(We===2||We===9)||i.cancelPendingCommit!==null)&&(Lo(i,0),gr(i,Fe,Zn,!1)),wt(i,o),((Qe&2)===0||i!==ot)&&(i===ot&&((Qe&2)===0&&(Da|=o),_t===4&&gr(i,Fe,Zn,!1)),qi(i))}function DT(i,r,o){if((Qe&6)!==0)throw Error(s(327));var c=!o&&(r&124)===0&&(r&i.expiredLanes)===0||zs(i,r),d=c?AI(i,r):_p(i,r,!0),g=c;do{if(d===0){Mo&&!c&&gr(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!wI(o)){d=_p(i,r,!1),g=!1;continue}if(d===2){if(g=r,i.errorRecoveryDisabledLanes&g)var w=0;else w=i.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){r=w;e:{var A=i;d=Ac;var M=A.current.memoizedState.isDehydrated;if(M&&(Lo(A,w).flags|=256),w=_p(A,w,!1),w!==2){if(up&&!M){A.errorRecoveryDisabledLanes|=g,Da|=g,d=4;break e}g=An,An=d,g!==null&&(An===null?An=g:An.push.apply(An,g))}d=w}if(g=!1,d!==2)continue}}if(d===1){Lo(i,0),gr(i,r,0,!0);break}e:{switch(c=i,g=d,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:gr(c,r,Zn,!fr);break e;case 2:An=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(d=dp+300-rt(),10<d)){if(gr(c,r,Zn,!fr),qn(c,0,!0)!==0)break e;c.timeoutHandle=aE(PT.bind(null,c,o,An,jh,fp,r,Zn,Da,ko,fr,g,2,-0,0),d);break e}PT(c,o,An,jh,fp,r,Zn,Da,ko,fr,g,0,-0,0)}}break}while(!0);qi(i)}function PT(i,r,o,c,d,g,w,A,M,K,ee,se,Y,X){if(i.timeoutHandle=-1,se=r.subtreeFlags,(se&8192||(se&16785408)===16785408)&&(Pc={stylesheets:null,count:0,unsuspend:i2},ST(r),se=r2(),se!==null)){i.cancelPendingCommit=se(UT.bind(null,i,r,g,o,c,d,w,A,M,ee,1,Y,X)),gr(i,g,w,!K);return}UT(i,r,g,o,c,d,w,A,M)}function wI(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var d=o[c],g=d.getSnapshot;d=d.value;try{if(!Dn(g(),d))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function gr(i,r,o,c){r&=~hp,r&=~Da,i.suspendedLanes|=r,i.pingedLanes&=~r,c&&(i.warmLanes|=r),c=i.expirationTimes;for(var d=r;0<d;){var g=31-pn(d),w=1<<g;c[g]=-1,d&=~w}o!==0&&Hs(i,o,r)}function Uh(){return(Qe&6)===0?(xc(0),!1):!0}function yp(){if(Oe!==null){if(We===0)var i=Oe.return;else i=Oe,ps=Sa=null,km(i),Io=null,gc=0,i=Oe;for(;i!==null;)hT(i.alternate,i),i=i.return;Oe=null}}function Lo(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,BI(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),yp(),ot=i,Oe=o=fs(i.current,null),Fe=r,We=0,Vn=null,fr=!1,Mo=zs(i,r),up=!1,ko=Zn=hp=Da=dr=_t=0,An=Ac=null,fp=!1,(r&8)!==0&&(r|=r&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=r;0<c;){var d=31-pn(c),g=1<<d;r|=i[d],c&=~g}return bs=r,oh(),o}function MT(i,r){Me=null,Z.H=xh,r===oc||r===gh?(r=Q_(),We=3):r===K_?(r=Q_(),We=4):We=r===W0?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Vn=r,Oe===null&&(_t=1,Dh(i,Kn(r,i.current)))}function kT(){var i=Z.H;return Z.H=xh,i===null?xh:i}function VT(){var i=Z.A;return Z.A=TI,i}function vp(){_t=4,fr||(Fe&4194048)!==Fe&&Wn.current!==null||(Mo=!0),(dr&134217727)===0&&(Da&134217727)===0||ot===null||gr(ot,Fe,Zn,!1)}function _p(i,r,o){var c=Qe;Qe|=2;var d=kT(),g=VT();(ot!==i||Fe!==r)&&(jh=null,Lo(i,r)),r=!1;var w=_t;e:do try{if(We!==0&&Oe!==null){var A=Oe,M=Vn;switch(We){case 8:yp(),w=6;break e;case 3:case 2:case 9:case 6:Wn.current===null&&(r=!0);var K=We;if(We=0,Vn=null,jo(i,A,M,K),o&&Mo){w=0;break e}break;default:K=We,We=0,Vn=null,jo(i,A,M,K)}}bI(),w=_t;break}catch(ee){MT(i,ee)}while(!0);return r&&i.shellSuspendCounter++,ps=Sa=null,Qe=c,Z.H=d,Z.A=g,Oe===null&&(ot=null,Fe=0,oh()),w}function bI(){for(;Oe!==null;)OT(Oe)}function AI(i,r){var o=Qe;Qe|=2;var c=kT(),d=VT();ot!==i||Fe!==r?(jh=null,Lh=rt()+500,Lo(i,r)):Mo=zs(i,r);e:do try{if(We!==0&&Oe!==null){r=Oe;var g=Vn;t:switch(We){case 1:We=0,Vn=null,jo(i,r,g,1);break;case 2:case 9:if(Y_(g)){We=0,Vn=null,LT(r);break}r=function(){We!==2&&We!==9||ot!==i||(We=7),qi(i)},g.then(r,r);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:Y_(g)?(We=0,Vn=null,LT(r)):(We=0,Vn=null,jo(i,r,g,7));break;case 5:var w=null;switch(Oe.tag){case 26:w=Oe.memoizedState;case 5:case 27:var A=Oe;if(!w||vE(w)){We=0,Vn=null;var M=A.sibling;if(M!==null)Oe=M;else{var K=A.return;K!==null?(Oe=K,Bh(K)):Oe=null}break t}}We=0,Vn=null,jo(i,r,g,5);break;case 6:We=0,Vn=null,jo(i,r,g,6);break;case 8:yp(),_t=6;break e;default:throw Error(s(462))}}SI();break}catch(ee){MT(i,ee)}while(!0);return ps=Sa=null,Z.H=c,Z.A=d,Qe=o,Oe!==null?0:(ot=null,Fe=0,oh(),_t)}function SI(){for(;Oe!==null&&!ci();)OT(Oe)}function OT(i){var r=cT(i.alternate,i,bs);i.memoizedProps=i.pendingProps,r===null?Bh(i):Oe=r}function LT(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=iT(o,r,r.pendingProps,r.type,void 0,Fe);break;case 11:r=iT(o,r,r.pendingProps,r.type.render,r.ref,Fe);break;case 5:km(r);default:hT(o,r),r=Oe=j_(r,bs),r=cT(o,r,bs)}i.memoizedProps=i.pendingProps,r===null?Bh(i):Oe=r}function jo(i,r,o,c){ps=Sa=null,km(r),Io=null,gc=0;var d=r.return;try{if(mI(i,d,r,o,Fe)){_t=1,Dh(i,Kn(o,i.current)),Oe=null;return}}catch(g){if(d!==null)throw Oe=d,g;_t=1,Dh(i,Kn(o,i.current)),Oe=null;return}r.flags&32768?(Ke||c===1?i=!0:Mo||(Fe&536870912)!==0?i=!1:(fr=i=!0,(c===2||c===9||c===3||c===6)&&(c=Wn.current,c!==null&&c.tag===13&&(c.flags|=16384))),jT(r,i)):Bh(r)}function Bh(i){var r=i;do{if((r.flags&32768)!==0){jT(r,fr);return}i=r.return;var o=gI(r.alternate,r,bs);if(o!==null){Oe=o;return}if(r=r.sibling,r!==null){Oe=r;return}Oe=r=i}while(r!==null);_t===0&&(_t=5)}function jT(i,r){do{var o=yI(i.alternate,i);if(o!==null){o.flags&=32767,Oe=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Oe=i;return}Oe=i=o}while(i!==null);_t=6,Oe=null}function UT(i,r,o,c,d,g,w,A,M){i.cancelPendingCommit=null;do Fh();while(Wt!==0);if((Qe&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=cm,Hu(i,o,g,w,A,M),i===ot&&(Oe=ot=null,Fe=0),Vo=r,pr=i,Oo=o,mp=g,pp=d,IT=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,II(ss,function(){return HT(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=Z.T,Z.T=null,d=ae.p,ae.p=2,w=Qe,Qe|=4;try{vI(i,r,o)}finally{Qe=w,ae.p=d,Z.T=c}}Wt=1,BT(),FT(),zT()}}function BT(){if(Wt===1){Wt=0;var i=pr,r=Vo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=Z.T,Z.T=null;var c=ae.p;ae.p=2;var d=Qe;Qe|=4;try{wT(r,i);var g=Dp,w=C_(i.containerInfo),A=g.focusedElem,M=g.selectionRange;if(w!==A&&A&&A.ownerDocument&&R_(A.ownerDocument.documentElement,A)){if(M!==null&&sm(A)){var K=M.start,ee=M.end;if(ee===void 0&&(ee=K),"selectionStart"in A)A.selectionStart=K,A.selectionEnd=Math.min(ee,A.value.length);else{var se=A.ownerDocument||document,Y=se&&se.defaultView||window;if(Y.getSelection){var X=Y.getSelection(),Se=A.textContent.length,Ee=Math.min(M.start,Se),tt=M.end===void 0?Ee:Math.min(M.end,Se);!X.extend&&Ee>tt&&(w=tt,tt=Ee,Ee=w);var F=x_(A,Ee),j=x_(A,tt);if(F&&j&&(X.rangeCount!==1||X.anchorNode!==F.node||X.anchorOffset!==F.offset||X.focusNode!==j.node||X.focusOffset!==j.offset)){var H=se.createRange();H.setStart(F.node,F.offset),X.removeAllRanges(),Ee>tt?(X.addRange(H),X.extend(j.node,j.offset)):(H.setEnd(j.node,j.offset),X.addRange(H))}}}}for(se=[],X=A;X=X.parentNode;)X.nodeType===1&&se.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<se.length;A++){var te=se[A];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}Jh=!!Np,Dp=Np=null}finally{Qe=d,ae.p=c,Z.T=o}}i.current=r,Wt=2}}function FT(){if(Wt===2){Wt=0;var i=pr,r=Vo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=Z.T,Z.T=null;var c=ae.p;ae.p=2;var d=Qe;Qe|=4;try{vT(i,r.alternate,r)}finally{Qe=d,ae.p=c,Z.T=o}}Wt=3}}function zT(){if(Wt===4||Wt===3){Wt=0,is();var i=pr,r=Vo,o=Oo,c=IT;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Wt=5:(Wt=0,Vo=pr=null,qT(i,i.pendingLanes));var d=i.pendingLanes;if(d===0&&(mr=null),Ll(o),r=r.stateNode,sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(Bs,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=Z.T,d=ae.p,ae.p=2,Z.T=null;try{for(var g=i.onRecoverableError,w=0;w<c.length;w++){var A=c[w];g(A.value,{componentStack:A.stack})}}finally{Z.T=r,ae.p=d}}(Oo&3)!==0&&Fh(),qi(i),d=i.pendingLanes,(o&4194090)!==0&&(d&42)!==0?i===gp?Sc++:(Sc=0,gp=i):Sc=0,xc(0)}}function qT(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,rc(r)))}function Fh(i){return BT(),FT(),zT(),HT()}function HT(){if(Wt!==5)return!1;var i=pr,r=mp;mp=0;var o=Ll(Oo),c=Z.T,d=ae.p;try{ae.p=32>o?32:o,Z.T=null,o=pp,pp=null;var g=pr,w=Oo;if(Wt=0,Vo=pr=null,Oo=0,(Qe&6)!==0)throw Error(s(331));var A=Qe;if(Qe|=4,RT(g.current),AT(g,g.current,w,o),Qe=A,xc(0,!1),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(Bs,g)}catch{}return!0}finally{ae.p=d,Z.T=c,qT(i,r)}}function GT(i,r,o){r=Kn(o,r),r=Ym(i.stateNode,r,2),i=rr(i,r,2),i!==null&&(wt(i,2),qi(i))}function nt(i,r,o){if(i.tag===3)GT(i,i,o);else for(;r!==null;){if(r.tag===3){GT(r,i,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(mr===null||!mr.has(c))){i=Kn(o,i),o=X0(2),c=rr(r,o,2),c!==null&&(Q0(o,c,r,i),wt(c,2),qi(c));break}}r=r.return}}function Tp(i,r,o){var c=i.pingCache;if(c===null){c=i.pingCache=new EI;var d=new Set;c.set(r,d)}else d=c.get(r),d===void 0&&(d=new Set,c.set(r,d));d.has(o)||(up=!0,d.add(o),i=xI.bind(null,i,r,o),r.then(i,i))}function xI(i,r,o){var c=i.pingCache;c!==null&&c.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,ot===i&&(Fe&o)===o&&(_t===4||_t===3&&(Fe&62914560)===Fe&&300>rt()-dp?(Qe&2)===0&&Lo(i,0):hp|=o,ko===Fe&&(ko=0)),qi(i)}function $T(i,r){r===0&&(r=qs()),i=_o(i,r),i!==null&&(wt(i,r),qi(i))}function RI(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),$T(i,o)}function CI(i,r){var o=0;switch(i.tag){case 13:var c=i.stateNode,d=i.memoizedState;d!==null&&(o=d.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(r),$T(i,o)}function II(i,r){return mn(i,r)}var zh=null,Uo=null,Ep=!1,qh=!1,wp=!1,Pa=0;function qi(i){i!==Uo&&i.next===null&&(Uo===null?zh=Uo=i:Uo=Uo.next=i),qh=!0,Ep||(Ep=!0,DI())}function xc(i,r){if(!wp&&qh){wp=!0;do for(var o=!1,c=zh;c!==null;){if(i!==0){var d=c.pendingLanes;if(d===0)var g=0;else{var w=c.suspendedLanes,A=c.pingedLanes;g=(1<<31-pn(42|i)+1)-1,g&=d&~(w&~A),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,QT(c,g))}else g=Fe,g=qn(c,c===ot?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||zs(c,g)||(o=!0,QT(c,g));c=c.next}while(o);wp=!1}}function NI(){KT()}function KT(){qh=Ep=!1;var i=0;Pa!==0&&(UI()&&(i=Pa),Pa=0);for(var r=rt(),o=null,c=zh;c!==null;){var d=c.next,g=YT(c,r);g===0?(c.next=null,o===null?zh=d:o.next=d,d===null&&(Uo=o)):(o=c,(i!==0||(g&3)!==0)&&(qh=!0)),c=d}xc(i)}function YT(i,r){for(var o=i.suspendedLanes,c=i.pingedLanes,d=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var w=31-pn(g),A=1<<w,M=d[w];M===-1?((A&o)===0||(A&c)!==0)&&(d[w]=to(A,r)):M<=r&&(i.expiredLanes|=A),g&=~A}if(r=ot,o=Fe,o=qn(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===r&&(We===2||We===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&li(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||zs(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(c!==null&&li(c),Ll(o)){case 2:case 8:o=qt;break;case 32:o=ss;break;case 268435456:o=kl;break;default:o=ss}return c=XT.bind(null,i),o=mn(o,c),i.callbackPriority=r,i.callbackNode=o,r}return c!==null&&c!==null&&li(c),i.callbackPriority=2,i.callbackNode=null,2}function XT(i,r){if(Wt!==0&&Wt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Fh()&&i.callbackNode!==o)return null;var c=Fe;return c=qn(i,i===ot?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(DT(i,c,r),YT(i,rt()),i.callbackNode!=null&&i.callbackNode===o?XT.bind(null,i):null)}function QT(i,r){if(Fh())return null;DT(i,r,!0)}function DI(){FI(function(){(Qe&6)!==0?mn(Lt,NI):KT()})}function bp(){return Pa===0&&(Pa=Vl()),Pa}function WT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:di(""+i)}function ZT(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function PI(i,r,o,c,d){if(r==="submit"&&o&&o.stateNode===d){var g=WT((d[Xt]||null).action),w=c.submitter;w&&(r=(r=w[Xt]||null)?WT(r.formAction):w.getAttribute("formAction"),r!==null&&(g=r,w=null));var A=new ha("action","action",null,c,d);i.push({event:A,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Pa!==0){var M=w?ZT(d,w):new FormData(d);qm(o,{pending:!0,data:M,method:d.method,action:g},null,M)}}else typeof g=="function"&&(A.preventDefault(),M=w?ZT(d,w):new FormData(d),qm(o,{pending:!0,data:M,method:d.method,action:g},g,M))},currentTarget:d}]})}}for(var Ap=0;Ap<lm.length;Ap++){var Sp=lm[Ap],MI=Sp.toLowerCase(),kI=Sp[0].toUpperCase()+Sp.slice(1);yi(MI,"on"+kI)}yi(D_,"onAnimationEnd"),yi(P_,"onAnimationIteration"),yi(M_,"onAnimationStart"),yi("dblclick","onDoubleClick"),yi("focusin","onFocus"),yi("focusout","onBlur"),yi(WC,"onTransitionRun"),yi(ZC,"onTransitionStart"),yi(JC,"onTransitionCancel"),yi(k_,"onTransitionEnd"),Vi("onMouseEnter",["mouseout","mouseover"]),Vi("onMouseLeave",["mouseout","mouseover"]),Vi("onPointerEnter",["pointerout","pointerover"]),Vi("onPointerLeave",["pointerout","pointerover"]),ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ki("onBeforeInput",["compositionend","keypress","textInput","paste"]),ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rc));function JT(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],d=c.event;c=c.listeners;e:{var g=void 0;if(r)for(var w=c.length-1;0<=w;w--){var A=c[w],M=A.instance,K=A.currentTarget;if(A=A.listener,M!==g&&d.isPropagationStopped())break e;g=A,d.currentTarget=K;try{g(d)}catch(ee){Nh(ee)}d.currentTarget=null,g=M}else for(w=0;w<c.length;w++){if(A=c[w],M=A.instance,K=A.currentTarget,A=A.listener,M!==g&&d.isPropagationStopped())break e;g=A,d.currentTarget=K;try{g(d)}catch(ee){Nh(ee)}d.currentTarget=null,g=M}}}}function Le(i,r){var o=r[Zr];o===void 0&&(o=r[Zr]=new Set);var c=i+"__bubble";o.has(c)||(eE(r,i,2,!1),o.add(c))}function xp(i,r,o){var c=0;r&&(c|=4),eE(o,i,c,r)}var Hh="_reactListening"+Math.random().toString(36).slice(2);function Rp(i){if(!i[Hh]){i[Hh]=!0,Gu.forEach(function(o){o!=="selectionchange"&&(VI.has(o)||xp(o,!1,i),xp(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Hh]||(r[Hh]=!0,xp("selectionchange",!1,r))}}function eE(i,r,o,c){switch(AE(r)){case 2:var d=l2;break;case 8:d=c2;break;default:d=Fp}o=d.bind(null,r,o,i),d=void 0,!us||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),c?d!==void 0?i.addEventListener(r,o,{capture:!0,passive:d}):i.addEventListener(r,o,!0):d!==void 0?i.addEventListener(r,o,{passive:d}):i.addEventListener(r,o,!1)}function Cp(i,r,o,c,d){var g=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var A=c.stateNode.containerInfo;if(A===d)break;if(w===4)for(w=c.return;w!==null;){var M=w.tag;if((M===3||M===4)&&w.stateNode.containerInfo===d)return;w=w.return}for(;A!==null;){if(w=Pi(A),w===null)return;if(M=w.tag,M===5||M===6||M===26||M===27){c=g=w;continue e}A=A.parentNode}}c=c.return}la(function(){var K=g,ee=Hl(o),se=[];e:{var Y=V_.get(i);if(Y!==void 0){var X=ha,Se=i;switch(i){case"keypress":if(ca(o)===0)break e;case"keydown":case"keyup":X=po;break;case"focusin":Se="focus",X=ho;break;case"focusout":Se="blur",X=ho;break;case"beforeblur":case"afterblur":X=ho;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=ga;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Zu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=tr;break;case D_:case P_:case M_:X=$l;break;case k_:X=v;break;case"scroll":case"scrollend":X=da;break;case"wheel":X=S;break;case"copy":case"cut":case"paste":X=eh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Xl;break;case"toggle":case"beforetoggle":X=Q}var Ee=(r&4)!==0,tt=!Ee&&(i==="scroll"||i==="scrollend"),F=Ee?Y!==null?Y+"Capture":null:Y;Ee=[];for(var j=K,H;j!==null;){var te=j;if(H=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||H===null||F===null||(te=Js(j,F),te!=null&&Ee.push(Cc(j,te,H))),tt)break;j=j.return}0<Ee.length&&(Y=new X(Y,Se,null,o,ee),se.push({event:Y,listeners:Ee}))}}if((r&7)===0){e:{if(Y=i==="mouseover"||i==="pointerover",X=i==="mouseout"||i==="pointerout",Y&&o!==ql&&(Se=o.relatedTarget||o.fromElement)&&(Pi(Se)||Se[as]))break e;if((X||Y)&&(Y=ee.window===ee?ee:(Y=ee.ownerDocument)?Y.defaultView||Y.parentWindow:window,X?(Se=o.relatedTarget||o.toElement,X=K,Se=Se?Pi(Se):null,Se!==null&&(tt=l(Se),Ee=Se.tag,Se!==tt||Ee!==5&&Ee!==27&&Ee!==6)&&(Se=null)):(X=null,Se=K),X!==Se)){if(Ee=ga,te="onMouseLeave",F="onMouseEnter",j="mouse",(i==="pointerout"||i==="pointerover")&&(Ee=Xl,te="onPointerLeave",F="onPointerEnter",j="pointer"),tt=X==null?Y:Ks(X),H=Se==null?Y:Ks(Se),Y=new Ee(te,j+"leave",X,o,ee),Y.target=tt,Y.relatedTarget=H,te=null,Pi(ee)===K&&(Ee=new Ee(F,j+"enter",Se,o,ee),Ee.target=H,Ee.relatedTarget=tt,te=Ee),tt=te,X&&Se)t:{for(Ee=X,F=Se,j=0,H=Ee;H;H=Bo(H))j++;for(H=0,te=F;te;te=Bo(te))H++;for(;0<j-H;)Ee=Bo(Ee),j--;for(;0<H-j;)F=Bo(F),H--;for(;j--;){if(Ee===F||F!==null&&Ee===F.alternate)break t;Ee=Bo(Ee),F=Bo(F)}Ee=null}else Ee=null;X!==null&&tE(se,Y,X,Ee,!1),Se!==null&&tt!==null&&tE(se,tt,Se,Ee,!0)}}e:{if(Y=K?Ks(K):window,X=Y.nodeName&&Y.nodeName.toLowerCase(),X==="select"||X==="input"&&Y.type==="file")var me=T_;else if(v_(Y))if(E_)me=YC;else{me=$C;var Ve=GC}else X=Y.nodeName,!X||X.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?K&&lo(K.elementType)&&(me=T_):me=KC;if(me&&(me=me(i,K))){__(se,me,o,ee);break e}Ve&&Ve(i,Y,K),i==="focusout"&&K&&Y.type==="number"&&K.memoizedProps.value!=null&&Bl(Y,"number",Y.value)}switch(Ve=K?Ks(K):window,i){case"focusin":(v_(Ve)||Ve.contentEditable==="true")&&(go=Ve,rm=K,ec=null);break;case"focusout":ec=rm=go=null;break;case"mousedown":am=!0;break;case"contextmenu":case"mouseup":case"dragend":am=!1,I_(se,o,ee);break;case"selectionchange":if(QC)break;case"keydown":case"keyup":I_(se,o,ee)}var ye;if(Ie)e:{switch(i){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else gi?mi(i,o)&&(we="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(we="onCompositionStart");we&&(St&&o.locale!=="ko"&&(gi||we!=="onCompositionStart"?we==="onCompositionEnd"&&gi&&(ye=Wu()):($n=ee,at="value"in $n?$n.value:$n.textContent,gi=!0)),Ve=Gh(K,we),0<Ve.length&&(we=new Yl(we,i,null,o,ee),se.push({event:we,listeners:Ve}),ye?we.data=ye:(ye=pi(o),ye!==null&&(we.data=ye)))),(ye=Xe?Ql(i,o):zC(i,o))&&(we=Gh(K,"onBeforeInput"),0<we.length&&(Ve=new Yl("onBeforeInput","beforeinput",null,o,ee),se.push({event:Ve,listeners:we}),Ve.data=ye)),PI(se,i,K,o,ee)}JT(se,r)})}function Cc(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Gh(i,r){for(var o=r+"Capture",c=[];i!==null;){var d=i,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=Js(i,o),d!=null&&c.unshift(Cc(i,d,g)),d=Js(i,r),d!=null&&c.push(Cc(i,d,g))),i.tag===3)return c;i=i.return}return[]}function Bo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function tE(i,r,o,c,d){for(var g=r._reactName,w=[];o!==null&&o!==c;){var A=o,M=A.alternate,K=A.stateNode;if(A=A.tag,M!==null&&M===c)break;A!==5&&A!==26&&A!==27||K===null||(M=K,d?(K=Js(o,g),K!=null&&w.unshift(Cc(o,K,M))):d||(K=Js(o,g),K!=null&&w.push(Cc(o,K,M)))),o=o.return}w.length!==0&&i.push({event:r,listeners:w})}var OI=/\r\n?/g,LI=/\u0000|\uFFFD/g;function nE(i){return(typeof i=="string"?i:""+i).replace(OI,`
`).replace(LI,"")}function iE(i,r){return r=nE(r),nE(i)===r}function $h(){}function et(i,r,o,c,d,g){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||Gn(i,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&Gn(i,""+c);break;case"className":ia(i,"class",c);break;case"tabIndex":ia(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":ia(i,o,c);break;case"style":zl(i,c,g);break;case"data":if(r!=="object"){ia(i,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=di(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&et(i,r,"name",d.name,d,null),et(i,r,"formEncType",d.formEncType,d,null),et(i,r,"formMethod",d.formMethod,d,null),et(i,r,"formTarget",d.formTarget,d,null)):(et(i,r,"encType",d.encType,d,null),et(i,r,"method",d.method,d,null),et(i,r,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=di(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=$h);break;case"onScroll":c!=null&&Le("scroll",i);break;case"onScrollEnd":c!=null&&Le("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=di(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":Le("beforetoggle",i),Le("toggle",i),na(i,"popover",c);break;case"xlinkActuate":Hn(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Hn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Hn(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Hn(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Hn(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Hn(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Hn(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Hn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Hn(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":na(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Yu.get(o)||o,na(i,o,c))}}function Ip(i,r,o,c,d,g){switch(o){case"style":zl(i,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof c=="string"?Gn(i,c):(typeof c=="number"||typeof c=="bigint")&&Gn(i,""+c);break;case"onScroll":c!=null&&Le("scroll",i);break;case"onScrollEnd":c!=null&&Le("scrollend",i);break;case"onClick":c!=null&&(i.onclick=$h);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ea.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),r=o.slice(2,d?o.length-7:void 0),g=i[Xt]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,d),typeof c=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,c,d);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):na(i,o,c)}}}function Zt(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",i),Le("load",i);var c=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var w=o[g];if(w!=null)switch(g){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:et(i,r,g,w,o,null)}}d&&et(i,r,"srcSet",o.srcSet,o,null),c&&et(i,r,"src",o.src,o,null);return;case"input":Le("invalid",i);var A=g=w=d=null,M=null,K=null;for(c in o)if(o.hasOwnProperty(c)){var ee=o[c];if(ee!=null)switch(c){case"name":d=ee;break;case"type":w=ee;break;case"checked":M=ee;break;case"defaultChecked":K=ee;break;case"value":g=ee;break;case"defaultValue":A=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(137,r));break;default:et(i,r,c,ee,o,null)}}Ul(i,g,A,M,K,w,d,!1),Qs(i);return;case"select":Le("invalid",i),c=w=g=null;for(d in o)if(o.hasOwnProperty(d)&&(A=o[d],A!=null))switch(d){case"value":g=A;break;case"defaultValue":w=A;break;case"multiple":c=A;default:et(i,r,d,A,o,null)}r=g,o=w,i.multiple=!!c,r!=null?Ws(i,!!c,r,!1):o!=null&&Ws(i,!!c,o,!0);return;case"textarea":Le("invalid",i),g=d=c=null;for(w in o)if(o.hasOwnProperty(w)&&(A=o[w],A!=null))switch(w){case"value":c=A;break;case"defaultValue":d=A;break;case"children":g=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:et(i,r,w,A,o,null)}Ku(i,c,d,g),Qs(i);return;case"option":for(M in o)if(o.hasOwnProperty(M)&&(c=o[M],c!=null))switch(M){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:et(i,r,M,c,o,null)}return;case"dialog":Le("beforetoggle",i),Le("toggle",i),Le("cancel",i),Le("close",i);break;case"iframe":case"object":Le("load",i);break;case"video":case"audio":for(c=0;c<Rc.length;c++)Le(Rc[c],i);break;case"image":Le("error",i),Le("load",i);break;case"details":Le("toggle",i);break;case"embed":case"source":case"link":Le("error",i),Le("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in o)if(o.hasOwnProperty(K)&&(c=o[K],c!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:et(i,r,K,c,o,null)}return;default:if(lo(r)){for(ee in o)o.hasOwnProperty(ee)&&(c=o[ee],c!==void 0&&Ip(i,r,ee,c,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(c=o[A],c!=null&&et(i,r,A,c,o,null))}function jI(i,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,w=null,A=null,M=null,K=null,ee=null;for(X in o){var se=o[X];if(o.hasOwnProperty(X)&&se!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":M=se;default:c.hasOwnProperty(X)||et(i,r,X,null,c,se)}}for(var Y in c){var X=c[Y];if(se=o[Y],c.hasOwnProperty(Y)&&(X!=null||se!=null))switch(Y){case"type":g=X;break;case"name":d=X;break;case"checked":K=X;break;case"defaultChecked":ee=X;break;case"value":w=X;break;case"defaultValue":A=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:X!==se&&et(i,r,Y,X,c,se)}}jl(i,w,A,M,K,ee,g,d);return;case"select":X=w=A=Y=null;for(g in o)if(M=o[g],o.hasOwnProperty(g)&&M!=null)switch(g){case"value":break;case"multiple":X=M;default:c.hasOwnProperty(g)||et(i,r,g,null,c,M)}for(d in c)if(g=c[d],M=o[d],c.hasOwnProperty(d)&&(g!=null||M!=null))switch(d){case"value":Y=g;break;case"defaultValue":A=g;break;case"multiple":w=g;default:g!==M&&et(i,r,d,g,c,M)}r=A,o=w,c=X,Y!=null?Ws(i,!!o,Y,!1):!!c!=!!o&&(r!=null?Ws(i,!!o,r,!0):Ws(i,!!o,o?[]:"",!1));return;case"textarea":X=Y=null;for(A in o)if(d=o[A],o.hasOwnProperty(A)&&d!=null&&!c.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:et(i,r,A,null,c,d)}for(w in c)if(d=c[w],g=o[w],c.hasOwnProperty(w)&&(d!=null||g!=null))switch(w){case"value":Y=d;break;case"defaultValue":X=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==g&&et(i,r,w,d,c,g)}$u(i,Y,X);return;case"option":for(var Se in o)if(Y=o[Se],o.hasOwnProperty(Se)&&Y!=null&&!c.hasOwnProperty(Se))switch(Se){case"selected":i.selected=!1;break;default:et(i,r,Se,null,c,Y)}for(M in c)if(Y=c[M],X=o[M],c.hasOwnProperty(M)&&Y!==X&&(Y!=null||X!=null))switch(M){case"selected":i.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:et(i,r,M,Y,c,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in o)Y=o[Ee],o.hasOwnProperty(Ee)&&Y!=null&&!c.hasOwnProperty(Ee)&&et(i,r,Ee,null,c,Y);for(K in c)if(Y=c[K],X=o[K],c.hasOwnProperty(K)&&Y!==X&&(Y!=null||X!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:et(i,r,K,Y,c,X)}return;default:if(lo(r)){for(var tt in o)Y=o[tt],o.hasOwnProperty(tt)&&Y!==void 0&&!c.hasOwnProperty(tt)&&Ip(i,r,tt,void 0,c,Y);for(ee in c)Y=c[ee],X=o[ee],!c.hasOwnProperty(ee)||Y===X||Y===void 0&&X===void 0||Ip(i,r,ee,Y,c,X);return}}for(var F in o)Y=o[F],o.hasOwnProperty(F)&&Y!=null&&!c.hasOwnProperty(F)&&et(i,r,F,null,c,Y);for(se in c)Y=c[se],X=o[se],!c.hasOwnProperty(se)||Y===X||Y==null&&X==null||et(i,r,se,Y,c,X)}var Np=null,Dp=null;function Kh(i){return i.nodeType===9?i:i.ownerDocument}function sE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rE(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Pp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Mp=null;function UI(){var i=window.event;return i&&i.type==="popstate"?i===Mp?!1:(Mp=i,!0):(Mp=null,!1)}var aE=typeof setTimeout=="function"?setTimeout:void 0,BI=typeof clearTimeout=="function"?clearTimeout:void 0,oE=typeof Promise=="function"?Promise:void 0,FI=typeof queueMicrotask=="function"?queueMicrotask:typeof oE<"u"?function(i){return oE.resolve(null).then(i).catch(zI)}:aE;function zI(i){setTimeout(function(){throw i})}function yr(i){return i==="head"}function lE(i,r){var o=r,c=0,d=0;do{var g=o.nextSibling;if(i.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<c&&8>c){o=c;var w=i.ownerDocument;if(o&1&&Ic(w.documentElement),o&2&&Ic(w.body),o&4)for(o=w.head,Ic(o),w=o.firstChild;w;){var A=w.nextSibling,M=w.nodeName;w[$s]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&w.rel.toLowerCase()==="stylesheet"||o.removeChild(w),w=A}}if(d===0){i.removeChild(g),Lc(r);return}d--}else o==="$"||o==="$?"||o==="$!"?d++:c=o.charCodeAt(0)-48;else c=0;o=g}while(o);Lc(r)}function kp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":kp(o),io(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function qI(i,r,o,c){for(;i.nodeType===1;){var d=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[$s])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==d.rel||i.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=_i(i.nextSibling),i===null)break}return null}function HI(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=_i(i.nextSibling),i===null))return null;return i}function Vp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function GI(i,r){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function _i(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}var Op=null;function cE(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return i;r--}else o==="/$"&&r++}i=i.previousSibling}return null}function uE(i,r,o){switch(r=Kh(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Ic(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);io(i)}var Jn=new Map,hE=new Set;function Yh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var As=ae.d;ae.d={f:$I,r:KI,D:YI,C:XI,L:QI,m:WI,X:JI,S:ZI,M:e2};function $I(){var i=As.f(),r=Uh();return i||r}function KI(i){var r=Mi(i);r!==null&&r.tag===5&&r.type==="form"?D0(r):As.r(i)}var Fo=typeof document>"u"?null:document;function fE(i,r,o){var c=Fo;if(c&&typeof r=="string"&&r){var d=Ht(r);d='link[rel="'+i+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),hE.has(d)||(hE.add(d),i={rel:i,crossOrigin:o,href:r},c.querySelector(d)===null&&(r=c.createElement("link"),Zt(r,"link",i),At(r),c.head.appendChild(r)))}}function YI(i){As.D(i),fE("dns-prefetch",i,null)}function XI(i,r){As.C(i,r),fE("preconnect",i,r)}function QI(i,r,o){As.L(i,r,o);var c=Fo;if(c&&i&&r){var d='link[rel="preload"][as="'+Ht(r)+'"]';r==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+Ht(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+Ht(o.imageSizes)+'"]')):d+='[href="'+Ht(i)+'"]';var g=d;switch(r){case"style":g=zo(i);break;case"script":g=qo(i)}Jn.has(g)||(i=y({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),Jn.set(g,i),c.querySelector(d)!==null||r==="style"&&c.querySelector(Nc(g))||r==="script"&&c.querySelector(Dc(g))||(r=c.createElement("link"),Zt(r,"link",i),At(r),c.head.appendChild(r)))}}function WI(i,r){As.m(i,r);var o=Fo;if(o&&i){var c=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+Ht(c)+'"][href="'+Ht(i)+'"]',g=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=qo(i)}if(!Jn.has(g)&&(i=y({rel:"modulepreload",href:i},r),Jn.set(g,i),o.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Dc(g)))return}c=o.createElement("link"),Zt(c,"link",i),At(c),o.head.appendChild(c)}}}function ZI(i,r,o){As.S(i,r,o);var c=Fo;if(c&&i){var d=Ys(c).hoistableStyles,g=zo(i);r=r||"default";var w=d.get(g);if(!w){var A={loading:0,preload:null};if(w=c.querySelector(Nc(g)))A.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":r},o),(o=Jn.get(g))&&Lp(i,o);var M=w=c.createElement("link");At(M),Zt(M,"link",i),M._p=new Promise(function(K,ee){M.onload=K,M.onerror=ee}),M.addEventListener("load",function(){A.loading|=1}),M.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Xh(w,r,c)}w={type:"stylesheet",instance:w,count:1,state:A},d.set(g,w)}}}function JI(i,r){As.X(i,r);var o=Fo;if(o&&i){var c=Ys(o).hoistableScripts,d=qo(i),g=c.get(d);g||(g=o.querySelector(Dc(d)),g||(i=y({src:i,async:!0},r),(r=Jn.get(d))&&jp(i,r),g=o.createElement("script"),At(g),Zt(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(d,g))}}function e2(i,r){As.M(i,r);var o=Fo;if(o&&i){var c=Ys(o).hoistableScripts,d=qo(i),g=c.get(d);g||(g=o.querySelector(Dc(d)),g||(i=y({src:i,async:!0,type:"module"},r),(r=Jn.get(d))&&jp(i,r),g=o.createElement("script"),At(g),Zt(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(d,g))}}function dE(i,r,o,c){var d=(d=Te.current)?Yh(d):null;if(!d)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=zo(o.href),o=Ys(d).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=zo(o.href);var g=Ys(d).hoistableStyles,w=g.get(i);if(w||(d=d.ownerDocument||d,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,w),(g=d.querySelector(Nc(i)))&&!g._p&&(w.instance=g,w.state.loading=5),Jn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Jn.set(i,o),g||t2(d,i,o,w.state))),r&&c===null)throw Error(s(528,""));return w}if(r&&c!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=qo(o),o=Ys(d).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function zo(i){return'href="'+Ht(i)+'"'}function Nc(i){return'link[rel="stylesheet"]['+i+"]"}function mE(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function t2(i,r,o,c){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=i.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),Zt(r,"link",o),At(r),i.head.appendChild(r))}function qo(i){return'[src="'+Ht(i)+'"]'}function Dc(i){return"script[async]"+i}function pE(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=i.querySelector('style[data-href~="'+Ht(o.href)+'"]');if(c)return r.instance=c,At(c),c;var d=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),At(c),Zt(c,"style",d),Xh(c,o.precedence,i),r.instance=c;case"stylesheet":d=zo(o.href);var g=i.querySelector(Nc(d));if(g)return r.state.loading|=4,r.instance=g,At(g),g;c=mE(o),(d=Jn.get(d))&&Lp(c,d),g=(i.ownerDocument||i).createElement("link"),At(g);var w=g;return w._p=new Promise(function(A,M){w.onload=A,w.onerror=M}),Zt(g,"link",c),r.state.loading|=4,Xh(g,o.precedence,i),r.instance=g;case"script":return g=qo(o.src),(d=i.querySelector(Dc(g)))?(r.instance=d,At(d),d):(c=o,(d=Jn.get(g))&&(c=y({},o),jp(c,d)),i=i.ownerDocument||i,d=i.createElement("script"),At(d),Zt(d,"link",c),i.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,Xh(c,o.precedence,i));return r.instance}function Xh(i,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,g=d,w=0;w<c.length;w++){var A=c[w];if(A.dataset.precedence===r)g=A;else if(g!==d)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function Lp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function jp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Qh=null;function gE(i,r,o){if(Qh===null){var c=new Map,d=Qh=new Map;d.set(o,c)}else d=Qh,c=d.get(o),c||(c=new Map,d.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),d=0;d<o.length;d++){var g=o[d];if(!(g[$s]||g[bt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var w=g.getAttribute(r)||"";w=i+w;var A=c.get(w);A?A.push(g):c.set(w,[g])}}return c}function yE(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function n2(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function vE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Pc=null;function i2(){}function s2(i,r,o){if(Pc===null)throw Error(s(475));var c=Pc;if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var d=zo(o.href),g=i.querySelector(Nc(d));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=Wh.bind(c),i.then(c,c)),r.state.loading|=4,r.instance=g,At(g);return}g=i.ownerDocument||i,o=mE(o),(d=Jn.get(d))&&Lp(o,d),g=g.createElement("link"),At(g);var w=g;w._p=new Promise(function(A,M){w.onload=A,w.onerror=M}),Zt(g,"link",o),r.instance=g}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(c.count++,r=Wh.bind(c),i.addEventListener("load",r),i.addEventListener("error",r))}}function r2(){if(Pc===null)throw Error(s(475));var i=Pc;return i.stylesheets&&i.count===0&&Up(i,i.stylesheets),0<i.count?function(r){var o=setTimeout(function(){if(i.stylesheets&&Up(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(o)}}:null}function Wh(){if(this.count--,this.count===0){if(this.stylesheets)Up(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Zh=null;function Up(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Zh=new Map,r.forEach(a2,i),Zh=null,Wh.call(i))}function a2(i,r){if(!(r.state.loading&4)){var o=Zh.get(i);if(o)var c=o.get(null);else{o=new Map,Zh.set(i,o);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var w=d[g];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),c=w)}c&&o.set(null,c)}d=r.instance,w=d.getAttribute("data-precedence"),g=o.get(w)||c,g===c&&o.set(null,d),o.set(w,d),this.count++,c=Wh.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),g?g.parentNode.insertBefore(d,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),r.state.loading|=4}}var Mc={$$typeof:$,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function o2(i,r,o,c,d,g,w,A){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=no(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=no(0),this.hiddenUpdates=no(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function _E(i,r,o,c,d,g,w,A,M,K,ee,se){return i=new o2(i,r,o,w,A,M,K,se),r=1,g===!0&&(r|=24),g=Pn(3,null,null,r),i.current=g,g.stateNode=i,r=Tm(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:r},Am(g),i}function TE(i){return i?(i=To,i):To}function EE(i,r,o,c,d,g){d=TE(d),c.context===null?c.context=d:c.pendingContext=d,c=sr(r),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=rr(i,c,r),o!==null&&(Ln(o,i,r),cc(o,i,r))}function wE(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Bp(i,r){wE(i,r),(i=i.alternate)&&wE(i,r)}function bE(i){if(i.tag===13){var r=_o(i,67108864);r!==null&&Ln(r,i,67108864),Bp(i,67108864)}}var Jh=!0;function l2(i,r,o,c){var d=Z.T;Z.T=null;var g=ae.p;try{ae.p=2,Fp(i,r,o,c)}finally{ae.p=g,Z.T=d}}function c2(i,r,o,c){var d=Z.T;Z.T=null;var g=ae.p;try{ae.p=8,Fp(i,r,o,c)}finally{ae.p=g,Z.T=d}}function Fp(i,r,o,c){if(Jh){var d=zp(c);if(d===null)Cp(i,r,c,ef,o),SE(i,c);else if(h2(d,i,r,o,c))c.stopPropagation();else if(SE(i,c),r&4&&-1<u2.indexOf(i)){for(;d!==null;){var g=Mi(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var w=ui(g.pendingLanes);if(w!==0){var A=g;for(A.pendingLanes|=2,A.entangledLanes|=2;w;){var M=1<<31-pn(w);A.entanglements[1]|=M,w&=~M}qi(g),(Qe&6)===0&&(Lh=rt()+500,xc(0))}}break;case 13:A=_o(g,2),A!==null&&Ln(A,g,2),Uh(),Bp(g,2)}if(g=zp(c),g===null&&Cp(i,r,c,ef,o),g===d)break;d=g}d!==null&&c.stopPropagation()}else Cp(i,r,c,null,o)}}function zp(i){return i=Hl(i),qp(i)}var ef=null;function qp(i){if(ef=null,i=Pi(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=u(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return ef=i,null}function AE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fn()){case Lt:return 2;case qt:return 8;case ss:case Yd:return 32;case kl:return 268435456;default:return 32}default:return 32}}var Hp=!1,vr=null,_r=null,Tr=null,kc=new Map,Vc=new Map,Er=[],u2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function SE(i,r){switch(i){case"focusin":case"focusout":vr=null;break;case"dragenter":case"dragleave":_r=null;break;case"mouseover":case"mouseout":Tr=null;break;case"pointerover":case"pointerout":kc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vc.delete(r.pointerId)}}function Oc(i,r,o,c,d,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[d]},r!==null&&(r=Mi(r),r!==null&&bE(r)),i):(i.eventSystemFlags|=c,r=i.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),i)}function h2(i,r,o,c,d){switch(r){case"focusin":return vr=Oc(vr,i,r,o,c,d),!0;case"dragenter":return _r=Oc(_r,i,r,o,c,d),!0;case"mouseover":return Tr=Oc(Tr,i,r,o,c,d),!0;case"pointerover":var g=d.pointerId;return kc.set(g,Oc(kc.get(g)||null,i,r,o,c,d)),!0;case"gotpointercapture":return g=d.pointerId,Vc.set(g,Oc(Vc.get(g)||null,i,r,o,c,d)),!0}return!1}function xE(i){var r=Pi(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){i.blockedOn=r,Wd(i.priority,function(){if(o.tag===13){var c=On();c=Ol(c);var d=_o(o,c);d!==null&&Ln(d,o,c),Bp(o,c)}});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function tf(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=zp(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);ql=c,o.target.dispatchEvent(c),ql=null}else return r=Mi(o),r!==null&&bE(r),i.blockedOn=o,!1;r.shift()}return!0}function RE(i,r,o){tf(i)&&o.delete(r)}function f2(){Hp=!1,vr!==null&&tf(vr)&&(vr=null),_r!==null&&tf(_r)&&(_r=null),Tr!==null&&tf(Tr)&&(Tr=null),kc.forEach(RE),Vc.forEach(RE)}function nf(i,r){i.blockedOn===r&&(i.blockedOn=null,Hp||(Hp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,f2)))}var sf=null;function CE(i){sf!==i&&(sf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){sf===i&&(sf=null);for(var r=0;r<i.length;r+=3){var o=i[r],c=i[r+1],d=i[r+2];if(typeof c!="function"){if(qp(c||o)===null)continue;break}var g=Mi(o);g!==null&&(i.splice(r,3),r-=3,qm(g,{pending:!0,data:d,method:o.method,action:c},c,d))}}))}function Lc(i){function r(M){return nf(M,i)}vr!==null&&nf(vr,i),_r!==null&&nf(_r,i),Tr!==null&&nf(Tr,i),kc.forEach(r),Vc.forEach(r);for(var o=0;o<Er.length;o++){var c=Er[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Er.length&&(o=Er[0],o.blockedOn===null);)xE(o),o.blockedOn===null&&Er.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var d=o[c],g=o[c+1],w=d[Xt]||null;if(typeof g=="function")w||CE(o);else if(w){var A=null;if(g&&g.hasAttribute("formAction")){if(d=g,w=g[Xt]||null)A=w.formAction;else if(qp(d)!==null)continue}else A=w.action;typeof A=="function"?o[c+1]=A:(o.splice(c,3),c-=3),CE(o)}}}function Gp(i){this._internalRoot=i}rf.prototype.render=Gp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,c=On();EE(o,c,i,r,null,null)},rf.prototype.unmount=Gp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;EE(i.current,2,null,i,null,null),Uh(),r[as]=null}};function rf(i){this._internalRoot=i}rf.prototype.unstable_scheduleHydration=function(i){if(i){var r=rs();i={blockedOn:null,target:i,priority:r};for(var o=0;o<Er.length&&r!==0&&r<Er[o].priority;o++);Er.splice(o,0,i),o===0&&xE(i)}};var IE=e.version;if(IE!=="19.1.1")throw Error(s(527,IE,"19.1.1"));ae.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=m(r),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var d2={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var af=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!af.isDisabled&&af.supportsFiber)try{Bs=af.inject(d2),sn=af}catch{}}return Uc.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,c="",d=G0,g=$0,w=K0,A=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(w=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(A=r.unstable_transitionCallbacks)),r=_E(i,1,!1,null,null,o,c,d,g,w,A,null),i[as]=r.current,Rp(i),new Gp(r)},Uc.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var c=!1,d="",g=G0,w=$0,A=K0,M=null,K=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(M=o.unstable_transitionCallbacks),o.formState!==void 0&&(K=o.formState)),r=_E(i,1,!0,r,o??null,c,d,g,w,A,M,K),r.context=TE(null),o=r.current,c=On(),c=Ol(c),d=sr(c),d.callback=null,rr(o,d,c),o=c,r.current.lanes=o,wt(r,o),qi(r),i[as]=r.current,Rp(i),new rf(r)},Uc.version="19.1.1",Uc}var UE;function b2(){if(UE)return Yp.exports;UE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Yp.exports=w2(),Yp.exports}var A2=b2();const S2=X1(A2);var BE="popstate";function x2(t={}){function e(s,a){let{pathname:l,search:u,hash:f}=s.location;return Dg("",{pathname:l,search:u,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:ou(a)}return C2(e,n,null,t)}function dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function bi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function R2(){return Math.random().toString(36).substring(2,10)}function FE(t,e){return{usr:t.state,key:t.key,idx:e}}function Dg(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?El(e):e,state:n,key:e&&e.key||s||R2()}}function ou({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function El(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function C2(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,u=a.history,f="POP",m=null,p=y();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function y(){return(u.state||{idx:null}).idx}function T(){f="POP";let O=y(),z=O==null?null:O-p;p=O,m&&m({action:f,location:U.location,delta:z})}function b(O,z){f="PUSH";let q=Dg(U.location,O,z);p=y()+1;let $=FE(q,p),oe=U.createHref(q);try{u.pushState($,"",oe)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;a.location.assign(oe)}l&&m&&m({action:f,location:U.location,delta:1})}function R(O,z){f="REPLACE";let q=Dg(U.location,O,z);p=y();let $=FE(q,p),oe=U.createHref(q);u.replaceState($,"",oe),l&&m&&m({action:f,location:U.location,delta:0})}function k(O){return I2(O)}let U={get action(){return f},get location(){return t(a,u)},listen(O){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(BE,T),m=O,()=>{a.removeEventListener(BE,T),m=null}},createHref(O){return e(a,O)},createURL:k,encodeLocation(O){let z=k(O);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:b,replace:R,go(O){return u.go(O)}};return U}function I2(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),dt(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:ou(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function Q1(t,e,n="/"){return N2(t,e,n,!1)}function N2(t,e,n,s){let a=typeof e=="string"?El(e):e,l=Ns(a.pathname||"/",n);if(l==null)return null;let u=W1(t);D2(u);let f=null;for(let m=0;f==null&&m<u.length;++m){let p=z2(l);f=B2(u[m],p,s)}return f}function W1(t,e=[],n=[],s="",a=!1){let l=(u,f,m=a,p)=>{let y={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&m)return;dt(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let T=Rs([s,y.relativePath]),b=n.concat(y);u.children&&u.children.length>0&&(dt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),W1(u.children,e,b,T,m)),!(u.path==null&&!u.index)&&e.push({path:T,score:j2(T,u.index),routesMeta:b})};return t.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))l(u,f);else for(let m of Z1(u.path))l(u,f,!0,m)}),e}function Z1(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let u=Z1(s.join("/")),f=[];return f.push(...u.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...u),f.map(m=>t.startsWith("/")&&m===""?"/":m)}function D2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:U2(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var P2=/^:[\w-]+$/,M2=3,k2=2,V2=1,O2=10,L2=-2,zE=t=>t==="*";function j2(t,e){let n=t.split("/"),s=n.length;return n.some(zE)&&(s+=L2),e&&(s+=k2),n.filter(a=>!zE(a)).reduce((a,l)=>a+(P2.test(l)?M2:l===""?V2:O2),s)}function U2(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function B2(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",u=[];for(let f=0;f<s.length;++f){let m=s[f],p=f===s.length-1,y=l==="/"?e:e.slice(l.length)||"/",T=Of({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),b=m.route;if(!T&&p&&n&&!s[s.length-1].route.index&&(T=Of({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!T)return null;Object.assign(a,T.params),u.push({params:a,pathname:Rs([l,T.pathname]),pathnameBase:$2(Rs([l,T.pathnameBase])),route:b}),T.pathnameBase!=="/"&&(l=Rs([l,T.pathnameBase]))}return u}function Of(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=F2(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:s.reduce((p,{paramName:y,isOptional:T},b)=>{if(y==="*"){let k=f[b]||"";u=l.slice(0,l.length-k.length).replace(/(.)\/+$/,"$1")}const R=f[b];return T&&!R?p[y]=void 0:p[y]=(R||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:t}}function F2(t,e=!1,n=!0){bi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,m)=>(s.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function z2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return bi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ns(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function q2(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?El(t):t;return{pathname:n?n.startsWith("/")?n:H2(n,e):e,search:K2(s),hash:Y2(a)}}function H2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Zp(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function G2(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Iy(t){let e=G2(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Ny(t,e,n,s=!1){let a;typeof t=="string"?a=El(t):(a={...t},dt(!a.pathname||!a.pathname.includes("?"),Zp("?","pathname","search",a)),dt(!a.pathname||!a.pathname.includes("#"),Zp("#","pathname","hash",a)),dt(!a.search||!a.search.includes("#"),Zp("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,f;if(u==null)f=n;else{let T=e.length-1;if(!s&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),T-=1;a.pathname=b.join("/")}f=T>=0?e[T]:"/"}let m=q2(a,f),p=u&&u!=="/"&&u.endsWith("/"),y=(l||u===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var Rs=t=>t.join("/").replace(/\/\/+/g,"/"),$2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),K2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Y2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function X2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var J1=["POST","PUT","PATCH","DELETE"];new Set(J1);var Q2=["GET",...J1];new Set(Q2);var wl=C.createContext(null);wl.displayName="DataRouter";var hd=C.createContext(null);hd.displayName="DataRouterState";C.createContext(!1);var eA=C.createContext({isTransitioning:!1});eA.displayName="ViewTransition";var W2=C.createContext(new Map);W2.displayName="Fetchers";var Z2=C.createContext(null);Z2.displayName="Await";var Ri=C.createContext(null);Ri.displayName="Navigation";var Au=C.createContext(null);Au.displayName="Location";var Ci=C.createContext({outlet:null,matches:[],isDataRoute:!1});Ci.displayName="Route";var Dy=C.createContext(null);Dy.displayName="RouteError";function J2(t,{relative:e}={}){dt(bl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=C.useContext(Ri),{hash:a,pathname:l,search:u}=Su(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:Rs([n,l])),s.createHref({pathname:f,search:u,hash:a})}function bl(){return C.useContext(Au)!=null}function Gr(){return dt(bl(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(Au).location}var tA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function nA(t){C.useContext(Ri).static||C.useLayoutEffect(t)}function ts(){let{isDataRoute:t}=C.useContext(Ci);return t?dN():eN()}function eN(){dt(bl(),"useNavigate() may be used only in the context of a <Router> component.");let t=C.useContext(wl),{basename:e,navigator:n}=C.useContext(Ri),{matches:s}=C.useContext(Ci),{pathname:a}=Gr(),l=JSON.stringify(Iy(s)),u=C.useRef(!1);return nA(()=>{u.current=!0}),C.useCallback((m,p={})=>{if(bi(u.current,tA),!u.current)return;if(typeof m=="number"){n.go(m);return}let y=Ny(m,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Rs([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,l,a,t])}C.createContext(null);function tN(){let{matches:t}=C.useContext(Ci),e=t[t.length-1];return e?e.params:{}}function Su(t,{relative:e}={}){let{matches:n}=C.useContext(Ci),{pathname:s}=Gr(),a=JSON.stringify(Iy(n));return C.useMemo(()=>Ny(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function nN(t,e){return iA(t,e)}function iA(t,e,n,s,a){dt(bl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=C.useContext(Ri),{matches:u}=C.useContext(Ci),f=u[u.length-1],m=f?f.params:{},p=f?f.pathname:"/",y=f?f.pathnameBase:"/",T=f&&f.route;{let q=T&&T.path||"";sA(p,!T||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let b=Gr(),R;if(e){let q=typeof e=="string"?El(e):e;dt(y==="/"||q.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${q.pathname}" was given in the \`location\` prop.`),R=q}else R=b;let k=R.pathname||"/",U=k;if(y!=="/"){let q=y.replace(/^\//,"").split("/");U="/"+k.replace(/^\//,"").split("/").slice(q.length).join("/")}let O=Q1(t,{pathname:U});bi(T||O!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),bi(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=oN(O&&O.map(q=>Object.assign({},q,{params:Object.assign({},m,q.params),pathname:Rs([y,l.encodeLocation?l.encodeLocation(q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?y:Rs([y,l.encodeLocation?l.encodeLocation(q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathnameBase])})),u,n,s,a);return e&&z?C.createElement(Au.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},z):z}function iN(){let t=fN(),e=X2(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:l},"ErrorBoundary")," or"," ",C.createElement("code",{style:l},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:a},n):null,u)}var sN=C.createElement(iN,null),rN=class extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?C.createElement(Ci.Provider,{value:this.props.routeContext},C.createElement(Dy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function aN({routeContext:t,match:e,children:n}){let s=C.useContext(wl);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(Ci.Provider,{value:t},n)}function oN(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let p=l.findIndex(y=>y.route.id&&u?.[y.route.id]!==void 0);dt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<l.length;p++){let y=l[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:T,errors:b}=n,R=y.route.loader&&!T.hasOwnProperty(y.route.id)&&(!b||b[y.route.id]===void 0);if(y.route.lazy||R){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((p,y,T)=>{let b,R=!1,k=null,U=null;n&&(b=u&&y.route.id?u[y.route.id]:void 0,k=y.route.errorElement||sN,f&&(m<0&&T===0?(sA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,U=null):m===T&&(R=!0,U=y.route.hydrateFallbackElement||null)));let O=e.concat(l.slice(0,T+1)),z=()=>{let q;return b?q=k:R?q=U:y.route.Component?q=C.createElement(y.route.Component,null):y.route.element?q=y.route.element:q=p,C.createElement(aN,{match:y,routeContext:{outlet:p,matches:O,isDataRoute:n!=null},children:q})};return n&&(y.route.ErrorBoundary||y.route.errorElement||T===0)?C.createElement(rN,{location:n.location,revalidation:n.revalidation,component:k,error:b,children:z(),routeContext:{outlet:null,matches:O,isDataRoute:!0},unstable_onError:s}):z()},null)}function Py(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lN(t){let e=C.useContext(wl);return dt(e,Py(t)),e}function cN(t){let e=C.useContext(hd);return dt(e,Py(t)),e}function uN(t){let e=C.useContext(Ci);return dt(e,Py(t)),e}function My(t){let e=uN(t),n=e.matches[e.matches.length-1];return dt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function hN(){return My("useRouteId")}function fN(){let t=C.useContext(Dy),e=cN("useRouteError"),n=My("useRouteError");return t!==void 0?t:e.errors?.[n]}function dN(){let{router:t}=lN("useNavigate"),e=My("useNavigate"),n=C.useRef(!1);return nA(()=>{n.current=!0}),C.useCallback(async(a,l={})=>{bi(n.current,tA),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var qE={};function sA(t,e,n){!e&&!qE[t]&&(qE[t]=!0,bi(!1,n))}C.memo(mN);function mN({routes:t,future:e,state:n,unstable_onError:s}){return iA(t,void 0,n,s,e)}function rA({to:t,replace:e,state:n,relative:s}){dt(bl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=C.useContext(Ri);bi(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=C.useContext(Ci),{pathname:u}=Gr(),f=ts(),m=Ny(t,Iy(l),u,s==="path"),p=JSON.stringify(m);return C.useEffect(()=>{f(JSON.parse(p),{replace:e,state:n,relative:s})},[f,p,s,e,n]),null}function Ar(t){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function pN({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1}){dt(!bl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),f=C.useMemo(()=>({basename:u,navigator:a,static:l,future:{}}),[u,a,l]);typeof n=="string"&&(n=El(n));let{pathname:m="/",search:p="",hash:y="",state:T=null,key:b="default"}=n,R=C.useMemo(()=>{let k=Ns(m,u);return k==null?null:{location:{pathname:k,search:p,hash:y,state:T,key:b},navigationType:s}},[u,m,p,y,T,b,s]);return bi(R!=null,`<Router basename="${u}"> is not able to match the URL "${m}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:C.createElement(Ri.Provider,{value:f},C.createElement(Au.Provider,{children:e,value:R}))}function gN({children:t,location:e}){return nN(Pg(t),e)}function Pg(t,e=[]){let n=[];return C.Children.forEach(t,(s,a)=>{if(!C.isValidElement(s))return;let l=[...e,a];if(s.type===C.Fragment){n.push.apply(n,Pg(s.props.children,l));return}dt(s.type===Ar,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=Pg(s.props.children,l)),n.push(u)}),n}var _f="get",Tf="application/x-www-form-urlencoded";function fd(t){return t!=null&&typeof t.tagName=="string"}function yN(t){return fd(t)&&t.tagName.toLowerCase()==="button"}function vN(t){return fd(t)&&t.tagName.toLowerCase()==="form"}function _N(t){return fd(t)&&t.tagName.toLowerCase()==="input"}function TN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function EN(t,e){return t.button===0&&(!e||e==="_self")&&!TN(t)}var of=null;function wN(){if(of===null)try{new FormData(document.createElement("form"),0),of=!1}catch{of=!0}return of}var bN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Jp(t){return t!=null&&!bN.has(t)?(bi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Tf}"`),null):t}function AN(t,e){let n,s,a,l,u;if(vN(t)){let f=t.getAttribute("action");s=f?Ns(f,e):null,n=t.getAttribute("method")||_f,a=Jp(t.getAttribute("enctype"))||Tf,l=new FormData(t)}else if(yN(t)||_N(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||f.getAttribute("action");if(s=m?Ns(m,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||_f,a=Jp(t.getAttribute("formenctype"))||Jp(f.getAttribute("enctype"))||Tf,l=new FormData(f,t),!wN()){let{name:p,type:y,value:T}=t;if(y==="image"){let b=p?`${p}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else p&&l.append(p,T)}}else{if(fd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=_f,s=null,a=Tf,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ky(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function SN(t,e,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Ns(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function xN(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function RN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function CN(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await xN(l,n);return u.links?u.links():[]}return[]}));return PN(s.flat(1).filter(RN).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function HE(t,e,n,s,a,l){let u=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,f=(m,p)=>n[p].pathname!==m.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,p)=>u(m,p)||f(m,p)):l==="data"?e.filter((m,p)=>{let y=s.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(u(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let T=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function IN(t,e,{includeHydrateFallback:n}={}){return NN(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function NN(t){return[...new Set(t)]}function DN(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function PN(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(DN(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function aA(){let t=C.useContext(wl);return ky(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function MN(){let t=C.useContext(hd);return ky(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Vy=C.createContext(void 0);Vy.displayName="FrameworkContext";function oA(){let t=C.useContext(Vy);return ky(t,"You must render this element inside a <HydratedRouter> element"),t}function kN(t,e){let n=C.useContext(Vy),[s,a]=C.useState(!1),[l,u]=C.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:T}=e,b=C.useRef(null);C.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let U=z=>{z.forEach(q=>{u(q.isIntersecting)})},O=new IntersectionObserver(U,{threshold:.5});return b.current&&O.observe(b.current),()=>{O.disconnect()}}},[t]),C.useEffect(()=>{if(s){let U=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(U)}}},[s]);let R=()=>{a(!0)},k=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,b,{}]:[l,b,{onFocus:Bc(f,R),onBlur:Bc(m,k),onMouseEnter:Bc(p,R),onMouseLeave:Bc(y,k),onTouchStart:Bc(T,R)}]:[!1,b,{}]}function Bc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function VN({page:t,...e}){let{router:n}=aA(),s=C.useMemo(()=>Q1(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?C.createElement(LN,{page:t,matches:s,...e}):null}function ON(t){let{manifest:e,routeModules:n}=oA(),[s,a]=C.useState([]);return C.useEffect(()=>{let l=!1;return CN(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),s}function LN({page:t,matches:e,...n}){let s=Gr(),{manifest:a,routeModules:l}=oA(),{basename:u}=aA(),{loaderData:f,matches:m}=MN(),p=C.useMemo(()=>HE(t,e,m,a,s,"data"),[t,e,m,a,s]),y=C.useMemo(()=>HE(t,e,m,a,s,"assets"),[t,e,m,a,s]),T=C.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let k=new Set,U=!1;if(e.forEach(z=>{let q=a.routes[z.route.id];!q||!q.hasLoader||(!p.some($=>$.route.id===z.route.id)&&z.route.id in f&&l[z.route.id]?.shouldRevalidate||q.hasClientLoader?U=!0:k.add(z.route.id))}),k.size===0)return[];let O=SN(t,u,"data");return U&&k.size>0&&O.searchParams.set("_routes",e.filter(z=>k.has(z.route.id)).map(z=>z.route.id).join(",")),[O.pathname+O.search]},[u,f,s,a,p,e,t,l]),b=C.useMemo(()=>IN(y,a),[y,a]),R=ON(y);return C.createElement(C.Fragment,null,T.map(k=>C.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),b.map(k=>C.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),R.map(({key:k,link:U})=>C.createElement("link",{key:k,nonce:n.nonce,...U})))}function jN(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var lA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{lA&&(window.__reactRouterVersion="7.9.5")}catch{}function UN({basename:t,children:e,window:n}){let s=C.useRef();s.current==null&&(s.current=x2({window:n,v5Compat:!0}));let a=s.current,[l,u]=C.useState({action:a.action,location:a.location}),f=C.useCallback(m=>{C.startTransition(()=>u(m))},[u]);return C.useLayoutEffect(()=>a.listen(f),[a,f]),C.createElement(pN,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var cA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uA=C.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:u,state:f,target:m,to:p,preventScrollReset:y,viewTransition:T,...b},R){let{basename:k}=C.useContext(Ri),U=typeof p=="string"&&cA.test(p),O,z=!1;if(typeof p=="string"&&U&&(O=p,lA))try{let N=new URL(window.location.href),L=p.startsWith("//")?new URL(N.protocol+p):new URL(p),V=Ns(L.pathname,k);L.origin===N.origin&&V!=null?p=V+L.search+L.hash:z=!0}catch{bi(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=J2(p,{relative:a}),[$,oe,J]=kN(s,b),ie=qN(p,{replace:u,state:f,target:m,preventScrollReset:y,relative:a,viewTransition:T});function I(N){e&&e(N),N.defaultPrevented||ie(N)}let x=C.createElement("a",{...b,...J,href:O||q,onClick:z||l?e:I,ref:jN(R,oe),target:m,"data-discover":!U&&n==="render"?"true":void 0});return $&&!U?C.createElement(C.Fragment,null,x,C.createElement(VN,{page:q})):x});uA.displayName="Link";var BN=C.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:u,viewTransition:f,children:m,...p},y){let T=Su(u,{relative:p.relative}),b=Gr(),R=C.useContext(hd),{navigator:k,basename:U}=C.useContext(Ri),O=R!=null&&YN(T)&&f===!0,z=k.encodeLocation?k.encodeLocation(T).pathname:T.pathname,q=b.pathname,$=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;n||(q=q.toLowerCase(),$=$?$.toLowerCase():null,z=z.toLowerCase()),$&&U&&($=Ns($,U)||$);const oe=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let J=q===z||!a&&q.startsWith(z)&&q.charAt(oe)==="/",ie=$!=null&&($===z||!a&&$.startsWith(z)&&$.charAt(z.length)==="/"),I={isActive:J,isPending:ie,isTransitioning:O},x=J?e:void 0,N;typeof s=="function"?N=s(I):N=[s,J?"active":null,ie?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let L=typeof l=="function"?l(I):l;return C.createElement(uA,{...p,"aria-current":x,className:N,ref:y,style:L,to:u,viewTransition:f},typeof m=="function"?m(I):m)});BN.displayName="NavLink";var FN=C.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:u=_f,action:f,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:T,...b},R)=>{let k=$N(),U=KN(f,{relative:p}),O=u.toLowerCase()==="get"?"get":"post",z=typeof f=="string"&&cA.test(f),q=$=>{if(m&&m($),$.defaultPrevented)return;$.preventDefault();let oe=$.nativeEvent.submitter,J=oe?.getAttribute("formmethod")||u;k(oe||$.currentTarget,{fetcherKey:e,method:J,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:T})};return C.createElement("form",{ref:R,method:O,action:U,onSubmit:s?m:q,...b,"data-discover":!z&&t==="render"?"true":void 0})});FN.displayName="Form";function zN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hA(t){let e=C.useContext(wl);return dt(e,zN(t)),e}function qN(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:u}={}){let f=ts(),m=Gr(),p=Su(t,{relative:l});return C.useCallback(y=>{if(EN(y,e)){y.preventDefault();let T=n!==void 0?n:ou(m)===ou(p);f(t,{replace:T,state:s,preventScrollReset:a,relative:l,viewTransition:u})}},[m,f,p,n,s,e,t,a,l,u])}var HN=0,GN=()=>`__${String(++HN)}__`;function $N(){let{router:t}=hA("useSubmit"),{basename:e}=C.useContext(Ri),n=hN();return C.useCallback(async(s,a={})=>{let{action:l,method:u,encType:f,formData:m,body:p}=AN(s,e);if(a.navigate===!1){let y=a.fetcherKey||GN();await t.fetch(y,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||u,formEncType:a.encType||f,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||u,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function KN(t,{relative:e}={}){let{basename:n}=C.useContext(Ri),s=C.useContext(Ci);dt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...Su(t||".",{relative:e})},u=Gr();if(t==null){l.search=u.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(y=>y==="")){f.delete("index"),m.filter(T=>T).forEach(T=>f.append("index",T));let y=f.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Rs([n,l.pathname])),ou(l)}function YN(t,{relative:e}={}){let n=C.useContext(eA);dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=hA("useViewTransitionState"),a=Su(t,{relative:e});if(!n.isTransitioning)return!1;let l=Ns(n.currentLocation.pathname,s)||n.currentLocation.pathname,u=Ns(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Of(a.pathname,u)!=null||Of(a.pathname,l)!=null}function XN(){const t=ts();return _.jsxs("div",{className:"w-full h-screen",children:[_.jsxs("section",{className:"relative min-h-screen overflow-hidden",children:[_.jsx("div",{className:"absolute top-8 left-8 z-20",children:_.jsx("img",{src:"/src/assets/svg/Sociopolis.svg",alt:"Sociopolis Logo",className:"h-6 sm:h-8 md:h-10 lg:h-12 w-auto"})}),_.jsxs("div",{className:"relative grid grid-cols-1 md:grid-cols-2 gap-8 min-h-screen md:px-16 z-20",children:[_.jsx("div",{className:"flex justify-center mt-[40vh]",children:_.jsx("img",{src:"/src/assets/soci.png",alt:"Soci character",className:"max-h-[400px] w-auto"})}),_.jsxs("div",{className:"flex flex-col items-center mt-[10vh] space-y-8 py-4",children:[_.jsx("h1",{className:"h3 text-center max-w-[40vw]",children:"The free, fun, effective way of learning sociology"}),_.jsx("br",{}),_.jsx("br",{}),_.jsx("button",{className:"btn",onClick:()=>t("/register"),children:"GET STARTED"}),_.jsx("button",{className:"btn-v1",onClick:()=>t("/auth"),children:"I ALREADY HAVE AN ACCOUNT"})]})]}),_.jsx("div",{className:"absolute bottom-0 left-0 w-full h-[400px] bg-repeat-x bg-bottom z-0 opacity-30",style:{backgroundImage:"url('/src/assets/city_skyline.png')",backgroundSize:"auto 100%",backgroundPosition:"center bottom"}})]}),_.jsxs("section",{className:"min-h-screen bg-white flex flex-col items-center mt-[10vh] px-6",children:[_.jsx("h1",{className:"h2 text-center max-w-[40vw] mb-6",children:"Our Goals"}),_.jsx("p",{className:"text-center max-w-[65vw] text-2xl text-[#283D52] mb-24",children:"Sociopolis empowers learners of every background to build social literacy through playful, accessible pathways that honor diverse cultures. We turn growth into an inclusive, engaging journey where skills are practiced, progress is visible, and every voice belongs."}),_.jsx("h1",{className:"h2 max-w-[40vw] mb-6 self-start px-12  pl-32",children:"Notable Features?"})]}),_.jsxs("section",{className:"min-h-screen bg-white flex flex-col items-center pt-[20vh] px-6",style:{background:"radial-gradient(circle at center, white 20%, #DFEAF5 100%)",backgroundRepeat:"no-repeat",backgroundSize:"100% 100%"},children:[_.jsx("h1",{className:"h2 max-w-[40vw] mb-6 self-start mb-10 pl-32",children:"Meet The Team"}),_.jsx("p",{className:"text-center max-w-4xl mb-4 text-2xl pt-16 pb-32",children:"Born at the University of Florida, Sociopolis is opensource software making learning more accessible and enjoyable."}),_.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:[_.jsx("img",{src:"/src/assets/testTeammemebr.jpeg",alt:"Team member 1",className:"w-48 h-48 object-cover rounded-full mx-auto shadow-md"}),_.jsx("img",{src:"/src/assets/testTeammemebr.jpeg",alt:"Team member 2",className:"w-48 h-48 object-cover rounded-full mx-auto shadow-md"}),_.jsx("img",{src:"/src/assets/testTeammemebr.jpeg",alt:"Team member 3",className:"w-48 h-48 object-cover rounded-full mx-auto shadow-md"}),_.jsx("img",{src:"/src/assets/testTeammemebr.jpeg",alt:"Team member 4",className:"w-48 h-48 object-cover rounded-full mx-auto shadow-md"})]})]})]})}const QN=({label:t="Submit",onClick:e,type:n="submit",disabled:s=!1})=>_.jsx("button",{type:n,onClick:e,disabled:s,className:"btn",children:t}),WN=({isOpen:t,onClose:e})=>t?_.jsx("div",{className:"terms-overlay",children:_.jsxs("div",{className:"terms-box",children:[_.jsx("h1",{className:"h1",children:"Terms & Conditions"}),_.jsxs("ol",{className:"h2 p-2",children:[_.jsxs("li",{children:[_.jsx("h2",{className:"h2",children:" Eligibility "}),_.jsxs("ul",{className:"unordered-list",children:[_.jsx("li",{className:"text",children:"    You must provide accurate, current, and complete information when registering. "}),_.jsx("li",{className:"text",children:"    If you are under 13, you may only use the site with the consent and supervision of a parent or legal guardian. "}),_.jsx("li",{className:"text",children:"    By using the service, you represent that you have the legal capacity to enter into these Terms. "})]})]}),_.jsxs("li",{children:[_.jsx("h2",{className:"h2",children:" Accounts "}),_.jsxs("ul",{className:"unordered-list",children:[_.jsx("li",{className:"text",children:"    You are responsible for maintaining the confidentiality of your login credentials. "}),_.jsx("li",{className:"text",children:"    You are responsible for all activity that occurs under your account. "}),_.jsx("li",{className:"text",children:"    If you suspect unauthorized use of your account, you must notify us immediately. "}),_.jsx("li",{className:"text",children:"    We reserve the right to refuse registration, suspend, or terminate accounts at our discretion. "})]})]}),_.jsxs("li",{children:[_.jsx("h2",{className:"h2",children:" Use of the Service "}),_.jsxs("ul",{className:"unordered-list",children:[_.jsx("li",{className:"text",children:"    Sociopolis is provided for educational purposes only. "}),_.jsx("li",{className:"text",children:"    You agree not to misuse the service, including but not limited to: hacking, spamming, reverse engineering, or interfering with others use. "}),_.jsx("li",{className:"text",children:"    Social features are limited to a global leaderboard. By participating, your chosen display name may appear publicly. "}),_.jsx("li",{className:"text",children:"    You may not use the service for unlawful, commercial, or exploitative purposes. "})]})]}),_.jsxs("li",{children:[_.jsx("h2",{className:"h2",children:" Advertisements "}),_.jsxs("ul",{className:"unordered-list",children:[_.jsx("li",{className:"text",children:"    The free version of the service may include third-party advertisements. "}),_.jsx("li",{className:"text",children:"    We are not responsible for the content of third-party ads or any products/services offered through them. "}),_.jsx("li",{className:"text",children:"    If you are under 13, only non-personalized ads will be displayed. "})]})]}),_.jsxs("li",{children:[_.jsx("h2",{className:"h2",children:" Purchases (Ad-Free Tier) "}),_.jsxs("ul",{className:"unordered-list",children:[_.jsx("li",{className:"text",children:"    We may offer an optional paid subscription that removes ads. "}),_.jsx("li",{className:"text",children:"    Payments are processed securely by a trusted third-party provider. We do not store full payment card details. "}),_.jsx("li",{className:"text",children:"    All purchases are final unless otherwise required by applicable law. Refund requests will be reviewed on a case-by-case basis. "}),_.jsx("li",{className:"text",children:"    We reserve the right to change subscription prices or features. Changes will not affect an already purchased active subscription. "})]})]}),_.jsxs("li",{children:[_.jsx("h2",{className:"h2",children:" Privacy "}),_.jsxs("ul",{className:"unordered-list",children:[_.jsx("li",{className:"text",children:"    We collect and use personal information as described in our Privacy Policy. "}),_.jsx("li",{className:"text",children:"    By using the service, you consent to our collection, use, and disclosure of information in accordance with that policy. "})]})]}),_.jsxs("li",{children:[_.jsx("h2",{className:"h2",children:" Content & Accuracy "}),_.jsxs("ul",{className:"unordered-list",children:[_.jsx("li",{className:"text",children:"    Educational materials and resources are provided as is and as available. "}),_.jsx("li",{className:"text",children:"    We make no warranties regarding accuracy, completeness, reliability, or suitability for exams, work, or professional use. "}),_.jsx("li",{className:"text",children:"    You acknowledge that use of the content is at your own risk. "})]})]}),_.jsxs("li",{children:[_.jsx("h2",{className:"h2",children:" Termination "}),_.jsxs("ul",{className:"unordered-list",children:[_.jsx("li",{className:"text",children:"    We may suspend, restrict, or delete accounts that violate these Terms or applicable laws. "}),_.jsx("li",{className:"text",children:"    You may terminate your account at any time by contacting us. "}),_.jsx("li",{className:"text",children:"    Upon termination, your right to access the service will immediately cease. "})]})]}),_.jsxs("li",{children:[_.jsx("h2",{className:"h2",children:" Limitation of Liability "}),_.jsxs("ul",{className:"unordered-list",children:[_.jsx("li",{className:"text",children:"    Sociopolis is provided free of charge (with optional paid features). "}),_.jsx("li",{className:"text",children:"    To the maximum extent permitted by law, we are not liable for any indirect, incidental, consequential, or punitive damages arising from your use of the service. "}),_.jsx("li",{className:"text",children:"    Our total liability for any claim shall not exceed the amount you paid (if any) for the service in the 12 months preceding the claim. "})]})]}),_.jsxs("li",{children:[_.jsx("h2",{className:"h2",children:"  Indemnification "}),_.jsx("ul",{className:"unordered-list",children:_.jsx("li",{className:"text",children:"    You agree to indemnify and hold harmless Sociopolis, its affiliates, employees, and partners from any claims, damages, or expenses arising from your use of the service or violation of these Terms. "})})]}),_.jsxs("li",{children:[_.jsx("h2",{className:"h2",children:" Changes "}),_.jsxs("ul",{className:"unordered-list",children:[_.jsx("li",{className:"text",children:"   We may update these Terms from time to time. Updates will be posted with a new Last Updated date. "}),_.jsx("li",{className:"text",children:"   If changes are material, we will provide reasonable notice (such as by email or in-app notification). "}),_.jsx("li",{className:"text",children:"   Continued use of the service after changes take effect constitutes acceptance of the updated Terms. "})]})]}),_.jsxs("li",{children:[_.jsx("h2",{className:"h2",children:" Governing Law & Dispute Resolution "}),_.jsxs("ul",{className:"unordered-list",children:[_.jsx("li",{className:"text",children:"   These Terms are governed by the laws of Florida. "}),_.jsx("li",{className:"text",children:"   Any disputes will be resolved exclusively in the courts of Florida, unless otherwise required by applicable law. "}),_.jsx("li",{className:"text",children:"   You agree to first attempt to resolve disputes informally by contacting us before pursuing legal action. "})]})]}),_.jsxs("li",{children:[_.jsx("h2",{className:"h2",children:" Contact Us "}),_.jsxs("p",{className:"text",children:["   If you have questions about these Terms, please contact us at: ",_.jsx("br",{}),"Sociopolis Email: ",_.jsx("a",{href:"mailto:privacy@sociopolis.com",className:"text-blue-600 underline",children:"privacy@sociopolis.com"})]})]})]}),_.jsx("button",{onClick:e,className:"shadow-sm bg-[#F7F7F7] text-[#838080] border p border-[#D9D9D9] px-4 py-2 mx-2 rounded-lg focus:outline-none",children:"Close"})]})}):null,ZN=({isOpen:t,onClose:e})=>t?_.jsx("div",{className:"terms-overlay ",children:_.jsxs("div",{className:"terms-box",children:[_.jsx("h1",{className:"h1",children:"Privacy Policy"}),_.jsx("p",{className:"text",children:"Last Updated: September 25, 2025"}),_.jsx("p",{className:"text",children:"Sociopolis (we, our, or us) values your privacy. This Privacy Policy explains what information we collect, how we use it, and the choices you have regarding your personal data. By using our services, you agree to the practices described below."}),_.jsxs("ol",{className:"h2 p-2",children:[_.jsxs("li",{children:[_.jsx("h2",{className:"h2",children:"Information We Collect"}),_.jsxs("ul",{className:"text",children:[_.jsx("li",{className:"text",children:"Name (to display on the leaderboard)"}),_.jsx("li",{className:"text",children:"Age (to comply with age-related laws and restrictions)"}),_.jsx("li",{className:"text",children:"Email address (for login, account recovery, and communication)"}),_.jsx("li",{className:"text",children:"Password (stored securely in encrypted form)"}),_.jsx("li",{className:"text",children:"Payment details (processed securely by our payment provider; we do not store full card numbers)"}),_.jsx("li",{className:"text",children:"Technical info like IP address, browser type, and usage data"})]})]}),_.jsxs("li",{children:[_.jsx("h2",{className:"h2",children:"How We Use Your Information"}),_.jsxs("ul",{className:"text",children:[_.jsx("li",{className:"text",children:"Provide account access and core site functionality"}),_.jsx("li",{className:"text",children:"Display your chosen name on the global leaderboard"}),_.jsx("li",{className:"text",children:"Send service-related updates and support messages"}),_.jsx("li",{className:"text",children:"Display or remove ads based on your subscription tier"}),_.jsx("li",{className:"text",children:"Process payments and maintain transaction records"}),_.jsx("li",{className:"text",children:"Improve performance and prevent fraud or abuse"})]})]}),_.jsxs("li",{children:[_.jsx("h2",{className:"h2",children:"Advertising"}),_.jsxs("ul",{className:"unordered-list",children:[_.jsx("li",{className:"text",children:"Free version displays third-party ads"}),_.jsx("li",{className:"text",children:"Advertisers may use cookies or similar technologies"}),_.jsx("li",{className:"text",children:"Under 13: only non-personalized ads"}),_.jsx("li",{className:"text",children:"13 or older: ads may be personalized based on limited data"})]})]}),_.jsxs("li",{children:[_.jsx("h2",{className:"h2",children:"Purchases & Payments"}),_.jsxs("ul",{className:"unordered-list",children:[_.jsx("li",{className:"text",children:"Payments processed securely by third-party provider"}),_.jsx("li",{className:"text",children:"We do not store full card details"}),_.jsx("li",{className:"text",children:"We may store transaction records for account management"})]})]}),_.jsxs("li",{children:[_.jsx("h2",{className:"h2",children:"Childrens Privacy"}),_.jsxs("ul",{className:"unordered-list",children:[_.jsx("li",{className:"text",children:"Under 13 requires verified parental consent"}),_.jsx("li",{className:"text",children:"We comply with COPPA"}),_.jsx("li",{className:"text",children:"Children under 13 see only non-personalized ads"})]})]}),_.jsxs("li",{children:[_.jsx("h2",{className:"h2",children:"Data Storage & Security"}),_.jsxs("ul",{className:"unordered-list",children:[_.jsx("li",{className:"text",children:"Passwords encrypted, never stored in plain text"}),_.jsx("li",{className:"text",children:"We use reasonable safeguards to protect your data"}),_.jsx("li",{className:"text",children:"No method is 100% secure; use at your own risk"}),_.jsx("li",{className:"text",children:"We retain data only as long as necessary"})]})]}),_.jsxs("li",{children:[_.jsx("h2",{className:"h2",children:"Your Rights"}),_.jsxs("ul",{className:"unordered-list",children:[_.jsx("li",{className:"text",children:"Access, correct, or delete your data"}),_.jsx("li",{className:"text",children:"Opt out of personalized ads or analytics"}),_.jsx("li",{className:"text",children:"Request a copy of your data in portable format"}),_.jsx("li",{className:"text",children:"Contact privacy@sociopolis.com to exercise rights"})]})]}),_.jsxs("li",{children:[_.jsx("h2",{className:"h2",children:"Changes to This Policy"}),_.jsxs("ul",{className:"unordered-list",children:[_.jsx("li",{className:"text",children:"We may update this policy periodically"}),_.jsx("li",{className:"text",children:"Material changes will be announced via email or site notice"}),_.jsx("li",{className:"text",children:"Last Updated date reflects the current version"})]})]}),_.jsxs("li",{children:[_.jsx("h2",{className:"h2",children:"Contact Us"}),_.jsxs("p",{className:"text",children:["If you have questions or concerns about this Privacy Policy, please contact us at:",_.jsx("br",{}),"Sociopolis",_.jsx("br",{}),"Email: ",_.jsx("a",{href:"mailto:privacy@sociopolis.com",className:"text-blue-600 underline",children:"privacy@sociopolis.com"})]})]})]}),_.jsx("button",{onClick:e,className:"shadow-sm bg-[#F7F7F7] text-[#838080] border p border-[#D9D9D9] px-4 py-2 mx-2 rounded-lg focus:outline-none",children:"Close"})]})}):null,JN=()=>{};var GE={};const fA=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},eD=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],f=t[n++],m=((a&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],u=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},dA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,f=u?t[a+1]:0,m=a+2<t.length,p=m?t[a+2]:0,y=l>>2,T=(l&3)<<4|f>>4;let b=(f&15)<<2|p>>6,R=p&63;m||(R=64,u||(b=64)),s.push(n[y],n[T],n[b],n[R])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(fA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):eD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const T=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||p==null||T==null)throw new tD;const b=l<<2|f>>4;if(s.push(b),p!==64){const R=f<<4&240|p>>2;if(s.push(R),T!==64){const k=p<<6&192|T;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class tD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nD=function(t){const e=fA(t);return dA.encodeByteArray(e,!0)},Lf=function(t){return nD(t).replace(/\./g,"")},mA=function(t){try{return dA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function iD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const sD=()=>iD().__FIREBASE_DEFAULTS__,rD=()=>{if(typeof process>"u"||typeof GE>"u")return;const t=GE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},aD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&mA(t[1]);return e&&JSON.parse(e)},dd=()=>{try{return JN()||sD()||rD()||aD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},pA=t=>dd()?.emulatorHosts?.[t],gA=t=>{const e=pA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},yA=()=>dd()?.config,vA=t=>dd()?.[`_${t}`];class oD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Wa(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Oy(t){return(await fetch(t,{credentials:"include"})).ok}function lD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Lf(JSON.stringify(n)),Lf(JSON.stringify(u)),""].join(".")}const Qc={};function cD(){const t={prod:[],emulator:[]};for(const e of Object.keys(Qc))Qc[e]?t.emulator.push(e):t.prod.push(e);return t}function uD(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let $E=!1;function Ly(t,e){if(typeof window>"u"||typeof document>"u"||!Wa(window.location.host)||Qc[t]===e||Qc[t]||$E)return;Qc[t]=e;function n(b){return`__firebase__banner__${b}`}const s="__firebase__banner",l=cD().prod.length>0;function u(){const b=document.getElementById(s);b&&b.remove()}function f(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function m(b,R){b.setAttribute("width","24"),b.setAttribute("id",R),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function p(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{$E=!0,u()},b}function y(b,R){b.setAttribute("id",R),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function T(){const b=uD(s),R=n("text"),k=document.getElementById(R)||document.createElement("span"),U=n("learnmore"),O=document.getElementById(U)||document.createElement("a"),z=n("preprendIcon"),q=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const $=b.element;f($),y(O,U);const oe=p();m(q,z),$.append(q,k,O,oe),document.body.appendChild($)}l?(k.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function fD(){const t=dd()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _A(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function mD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pD(){const t=dn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function gD(){return!fD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TA(){try{return typeof indexedDB=="object"}catch{return!1}}function EA(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}function yD(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const vD="FirebaseError";class Ii extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=vD,Object.setPrototypeOf(this,Ii.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Za.prototype.create)}}class Za{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?_D(l,s):"Error",f=`${this.serviceName}: ${u} (${a}).`;return new Ii(a,f,s)}}function _D(t,e){return t.replace(TD,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const TD=/\{\$([^}]+)}/g;function ED(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Or(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],u=e[a];if(KE(l)&&KE(u)){if(!Or(l,u))return!1}else if(l!==u)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function KE(t){return t!==null&&typeof t=="object"}function xu(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function qc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Hc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function wD(t,e){const n=new bD(t,e);return n.subscribe.bind(n)}class bD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");AD(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=eg),a.error===void 0&&(a.error=eg),a.complete===void 0&&(a.complete=eg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function AD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function eg(){}const SD=1e3,xD=2,RD=14400*1e3,CD=.5;function YE(t,e=SD,n=xD){const s=e*Math.pow(n,t),a=Math.round(CD*s*(Math.random()-.5)*2);return Math.min(RD,s+a)}function st(t){return t&&t._delegate?t._delegate:t}class ai{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ka="[DEFAULT]";class ID{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new oD;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DD(e))try{this.getOrInitializeService({instanceIdentifier:ka})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=ka){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ka){return this.instances.has(e)}getOptions(e=ka){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&u.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:ND(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ka){return this.component?this.component.multipleInstances?e:ka:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ND(t){return t===ka?void 0:t}function DD(t){return t.instantiationMode==="EAGER"}class PD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ID(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(je||(je={}));const MD={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},kD=je.INFO,VD={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},OD=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=VD[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class md{constructor(e){this.name=e,this._logLevel=kD,this._logHandler=OD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const LD=(t,e)=>e.some(n=>t instanceof n);let XE,QE;function jD(){return XE||(XE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UD(){return QE||(QE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wA=new WeakMap,Mg=new WeakMap,bA=new WeakMap,tg=new WeakMap,jy=new WeakMap;function BD(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Pr(t.result)),a()},u=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&wA.set(n,t)}).catch(()=>{}),jy.set(e,t),e}function FD(t){if(Mg.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});Mg.set(t,e)}let kg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Mg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function zD(t){kg=t(kg)}function qD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(ng(this),e,...n);return bA.set(s,e.sort?e.sort():[e]),Pr(s)}:UD().includes(t)?function(...e){return t.apply(ng(this),e),Pr(wA.get(this))}:function(...e){return Pr(t.apply(ng(this),e))}}function HD(t){return typeof t=="function"?qD(t):(t instanceof IDBTransaction&&FD(t),LD(t,jD())?new Proxy(t,kg):t)}function Pr(t){if(t instanceof IDBRequest)return BD(t);if(tg.has(t))return tg.get(t);const e=HD(t);return e!==t&&(tg.set(t,e),jy.set(e,t)),e}const ng=t=>jy.get(t);function AA(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),f=Pr(u);return s&&u.addEventListener("upgradeneeded",m=>{s(Pr(u.result),m.oldVersion,m.newVersion,Pr(u.transaction),m)}),n&&u.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const GD=["get","getKey","getAll","getAllKeys","count"],$D=["put","add","delete","clear"],ig=new Map;function WE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ig.get(e))return ig.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=$D.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||GD.includes(n)))return;const l=async function(u,...f){const m=this.transaction(u,a?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(f.shift())),(await Promise.all([p[n](...f),a&&m.done]))[0]};return ig.set(e,l),l}zD(t=>({...t,get:(e,n,s)=>WE(e,n)||t.get(e,n,s),has:(e,n)=>!!WE(e,n)||t.has(e,n)}));class KD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(YD(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function YD(t){return t.getComponent()?.type==="VERSION"}const Vg="@firebase/app",ZE="0.14.4";const Ds=new md("@firebase/app"),XD="@firebase/app-compat",QD="@firebase/analytics-compat",WD="@firebase/analytics",ZD="@firebase/app-check-compat",JD="@firebase/app-check",eP="@firebase/auth",tP="@firebase/auth-compat",nP="@firebase/database",iP="@firebase/data-connect",sP="@firebase/database-compat",rP="@firebase/functions",aP="@firebase/functions-compat",oP="@firebase/installations",lP="@firebase/installations-compat",cP="@firebase/messaging",uP="@firebase/messaging-compat",hP="@firebase/performance",fP="@firebase/performance-compat",dP="@firebase/remote-config",mP="@firebase/remote-config-compat",pP="@firebase/storage",gP="@firebase/storage-compat",yP="@firebase/firestore",vP="@firebase/ai",_P="@firebase/firestore-compat",TP="firebase",EP="12.4.0";const Og="[DEFAULT]",wP={[Vg]:"fire-core",[XD]:"fire-core-compat",[WD]:"fire-analytics",[QD]:"fire-analytics-compat",[JD]:"fire-app-check",[ZD]:"fire-app-check-compat",[eP]:"fire-auth",[tP]:"fire-auth-compat",[nP]:"fire-rtdb",[iP]:"fire-data-connect",[sP]:"fire-rtdb-compat",[rP]:"fire-fn",[aP]:"fire-fn-compat",[oP]:"fire-iid",[lP]:"fire-iid-compat",[cP]:"fire-fcm",[uP]:"fire-fcm-compat",[hP]:"fire-perf",[fP]:"fire-perf-compat",[dP]:"fire-rc",[mP]:"fire-rc-compat",[pP]:"fire-gcs",[gP]:"fire-gcs-compat",[yP]:"fire-fst",[_P]:"fire-fst-compat",[vP]:"fire-vertex","fire-js":"fire-js",[TP]:"fire-js-all"};const jf=new Map,bP=new Map,Lg=new Map;function JE(t,e){try{t.container.addComponent(e)}catch(n){Ds.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ai(t){const e=t.name;if(Lg.has(e))return Ds.debug(`There were multiple attempts to register component ${e}.`),!1;Lg.set(e,t);for(const n of jf.values())JE(n,t);for(const n of bP.values())JE(n,t);return!0}function $r(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function jn(t){return t==null?!1:t.settings!==void 0}const AP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mr=new Za("app","Firebase",AP);class SP{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ai("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mr.create("app-deleted",{appName:this._name})}}const Al=EP;function SA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:Og,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Mr.create("bad-app-name",{appName:String(a)});if(n||(n=yA()),!n)throw Mr.create("no-options");const l=jf.get(a);if(l){if(Or(n,l.options)&&Or(s,l.config))return l;throw Mr.create("duplicate-app",{appName:a})}const u=new PD(a);for(const m of Lg.values())u.addComponent(m);const f=new SP(n,s,u);return jf.set(a,f),f}function pd(t=Og){const e=jf.get(t);if(!e&&t===Og&&yA())return SA();if(!e)throw Mr.create("no-app",{appName:t});return e}function Cn(t,e,n){let s=wP[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${s}" with version "${e}":`];a&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ds.warn(u.join(" "));return}Ai(new ai(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const xP="firebase-heartbeat-database",RP=1,lu="firebase-heartbeat-store";let sg=null;function xA(){return sg||(sg=AA(xP,RP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(lu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Mr.create("idb-open",{originalErrorMessage:t.message})})),sg}async function CP(t){try{const n=(await xA()).transaction(lu),s=await n.objectStore(lu).get(RA(t));return await n.done,s}catch(e){if(e instanceof Ii)Ds.warn(e.message);else{const n=Mr.create("idb-get",{originalErrorMessage:e?.message});Ds.warn(n.message)}}}async function ew(t,e){try{const s=(await xA()).transaction(lu,"readwrite");await s.objectStore(lu).put(e,RA(t)),await s.done}catch(n){if(n instanceof Ii)Ds.warn(n.message);else{const s=Mr.create("idb-set",{originalErrorMessage:n?.message});Ds.warn(s.message)}}}function RA(t){return`${t.name}!${t.options.appId}`}const IP=1024,NP=30;class DP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new MP(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=tw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>NP){const a=kP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ds.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=tw(),{heartbeatsToSend:n,unsentEntries:s}=PP(this._heartbeatsCache.heartbeats),a=Lf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Ds.warn(e),""}}}function tw(){return new Date().toISOString().substring(0,10)}function PP(t,e=IP){const n=[];let s=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),nw(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),nw(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class MP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TA()?EA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await CP(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return ew(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return ew(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function nw(t){return Lf(JSON.stringify({version:2,heartbeats:t})).length}function kP(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}function VP(t){Ai(new ai("platform-logger",e=>new KD(e),"PRIVATE")),Ai(new ai("heartbeat",e=>new DP(e),"PRIVATE")),Cn(Vg,ZE,t),Cn(Vg,ZE,"esm2020"),Cn("fire-js","")}VP("");function CA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const OP=CA,IA=new Za("auth","Firebase",CA());const Uf=new md("@firebase/auth");function LP(t,...e){Uf.logLevel<=je.WARN&&Uf.warn(`Auth (${Al}): ${t}`,...e)}function Ef(t,...e){Uf.logLevel<=je.ERROR&&Uf.error(`Auth (${Al}): ${t}`,...e)}function Si(t,...e){throw Uy(t,...e)}function Gi(t,...e){return Uy(t,...e)}function NA(t,e,n){const s={...OP(),[e]:n};return new Za("auth","Firebase",s).create(e,{appName:t.name})}function Cs(t){return NA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Uy(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return IA.create(t,...e)}function be(t,e,...n){if(!t)throw Uy(e,...n)}function Ss(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ef(e),new Error(e)}function Ps(t,e){t||Ss(e)}function jg(){return typeof self<"u"&&self.location?.href||""}function jP(){return iw()==="http:"||iw()==="https:"}function iw(){return typeof self<"u"&&self.location?.protocol||null}function UP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jP()||_A()||"connection"in navigator)?navigator.onLine:!0}function BP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Ru{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ps(n>e,"Short delay should be less than long delay!"),this.isMobile=hD()||mD()}get(){return UP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function By(t,e){Ps(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class DA{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ss("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ss("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ss("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const FP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const zP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],qP=new Ru(3e4,6e4);function js(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ns(t,e,n,s,a={}){return PA(t,a,async()=>{let l={},u={};s&&(e==="GET"?u=s:l={body:JSON.stringify(s)});const f=xu({key:t.config.apiKey,...u}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:m,...l};return dD()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&Wa(t.emulatorConfig.host)&&(p.credentials="include"),DA.fetch()(await MA(t,t.config.apiHost,n,f),p)})}async function PA(t,e,n){t._canInitEmulator=!1;const s={...FP,...e};try{const a=new GP(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw lf(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const f=l.ok?u.errorMessage:u.error.message,[m,p]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw lf(t,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw lf(t,"email-already-in-use",u);if(m==="USER_DISABLED")throw lf(t,"user-disabled",u);const y=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw NA(t,y,p);Si(t,y)}}catch(a){if(a instanceof Ii)throw a;Si(t,"network-request-failed",{message:String(a)})}}async function Cu(t,e,n,s,a={}){const l=await ns(t,e,n,s,a);return"mfaPendingCredential"in l&&Si(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function MA(t,e,n,s){const a=`${e}${n}?${s}`,l=t,u=l.config.emulator?By(t.config,a):`${t.config.apiScheme}://${a}`;return zP.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function HP(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class GP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Gi(this.auth,"network-request-failed")),qP.get())})}}function lf(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=Gi(t,e,s);return a.customData._tokenResponse=n,a}function sw(t){return t!==void 0&&t.enterprise!==void 0}class $P{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return HP(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function KP(t,e){return ns(t,"GET","/v2/recaptchaConfig",js(t,e))}async function YP(t,e){return ns(t,"POST","/v1/accounts:delete",e)}async function Bf(t,e){return ns(t,"POST","/v1/accounts:lookup",e)}function Wc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function XP(t,e=!1){const n=st(t),s=await n.getIdToken(e),a=Fy(s);be(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:s,authTime:Wc(rg(a.auth_time)),issuedAtTime:Wc(rg(a.iat)),expirationTime:Wc(rg(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function rg(t){return Number(t)*1e3}function Fy(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Ef("JWT malformed, contained fewer than 3 sections"),null;try{const a=mA(n);return a?JSON.parse(a):(Ef("Failed to decode base64 JWT payload"),null)}catch(a){return Ef("Caught error parsing JWT payload as JSON",a?.toString()),null}}function rw(t){const e=Fy(t);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function hl(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ii&&QP(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function QP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class WP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Ug{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wc(this.lastLoginAt),this.creationTime=Wc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ff(t){const e=t.auth,n=await t.getIdToken(),s=await hl(t,Bf(e,{idToken:n}));be(s?.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?kA(a.providerUserInfo):[],u=JP(t.providerData,l),f=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!u?.length,p=f?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Ug(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,y)}async function ZP(t){const e=st(t);await Ff(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function JP(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function kA(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function eM(t,e){const n=await PA(t,{},async()=>{const s=xu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await MA(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:s};return t.emulatorConfig&&Wa(t.emulatorConfig.host)&&(m.credentials="include"),DA.fetch()(u,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function tM(t,e){return ns(t,"POST","/v2/accounts:revokeToken",js(t,e))}class rl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):rw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=rw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await eM(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,u=new rl;return s&&(be(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),a&&(be(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(be(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new rl,this.toJSON())}_performRefresh(){return Ss("not implemented")}}function br(t,e){be(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ei{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new WP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Ug(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await hl(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return XP(this,e)}reload(){return ZP(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ei({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Ff(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jn(this.auth.app))return Promise.reject(Cs(this.auth));const e=await this.getIdToken();return await hl(this,YP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,f=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:T,emailVerified:b,isAnonymous:R,providerData:k,stsTokenManager:U}=n;be(T&&U,e,"internal-error");const O=rl.fromJSON(this.name,U);be(typeof T=="string",e,"internal-error"),br(s,e.name),br(a,e.name),be(typeof b=="boolean",e,"internal-error"),be(typeof R=="boolean",e,"internal-error"),br(l,e.name),br(u,e.name),br(f,e.name),br(m,e.name),br(p,e.name),br(y,e.name);const z=new Ei({uid:T,auth:e,email:a,emailVerified:b,displayName:s,isAnonymous:R,photoURL:u,phoneNumber:l,tenantId:f,stsTokenManager:O,createdAt:p,lastLoginAt:y});return k&&Array.isArray(k)&&(z.providerData=k.map(q=>({...q}))),m&&(z._redirectEventId=m),z}static async _fromIdTokenResponse(e,n,s=!1){const a=new rl;a.updateFromServerResponse(n);const l=new Ei({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await Ff(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];be(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?kA(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,f=new rl;f.updateFromIdToken(s);const m=new Ei({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Ug(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}const aw=new Map;function xs(t){Ps(t instanceof Function,"Expected a class definition");let e=aw.get(t);return e?(Ps(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,aw.set(t,e),e)}class VA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}VA.type="NONE";const ow=VA;function wf(t,e,n){return`firebase:${t}:${e}:${n}`}class al{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=wf(this.userKey,a.apiKey,l),this.fullPersistenceKey=wf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Bf(this.auth,{idToken:e}).catch(()=>{});return n?Ei._fromGetAccountInfoResponse(this.auth,n,e):null}return Ei._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new al(xs(ow),e,s);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||xs(ow);const u=wf(s,e.config.apiKey,e.name);let f=null;for(const p of n)try{const y=await p._get(u);if(y){let T;if(typeof y=="string"){const b=await Bf(e,{idToken:y}).catch(()=>{});if(!b)break;T=await Ei._fromGetAccountInfoResponse(e,b,y)}else T=Ei._fromJSON(e,y);p!==l&&(f=T),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new al(l,e,s):(l=m[0],f&&await l._set(u,f.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new al(l,e,s))}}function lw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(UA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(OA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(FA(e))return"Blackberry";if(zA(e))return"Webos";if(LA(e))return"Safari";if((e.includes("chrome/")||jA(e))&&!e.includes("edge/"))return"Chrome";if(BA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function OA(t=dn()){return/firefox\//i.test(t)}function LA(t=dn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jA(t=dn()){return/crios\//i.test(t)}function UA(t=dn()){return/iemobile/i.test(t)}function BA(t=dn()){return/android/i.test(t)}function FA(t=dn()){return/blackberry/i.test(t)}function zA(t=dn()){return/webos/i.test(t)}function zy(t=dn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function nM(t=dn()){return zy(t)&&!!window.navigator?.standalone}function iM(){return pD()&&document.documentMode===10}function qA(t=dn()){return zy(t)||BA(t)||zA(t)||FA(t)||/windows phone/i.test(t)||UA(t)}function HA(t,e=[]){let n;switch(t){case"Browser":n=lw(dn());break;case"Worker":n=`${lw(dn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Al}/${s}`}class sM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((u,f)=>{try{const m=e(l);u(m)}catch(m){f(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function rM(t,e={}){return ns(t,"GET","/v2/passwordPolicy",js(t,e))}const aM=6;class oM{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??aM,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class lM{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cw(this),this.idTokenSubscription=new cw(this),this.beforeStateQueue=new sM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=IA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=xs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await al.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Bf(this,{idToken:e}),s=await Ei._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(jn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=s?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===u)&&f?.user&&(s=f.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ff(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=BP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(jn(this.app))return Promise.reject(Cs(this));const n=e?st(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return jn(this.app)?Promise.reject(Cs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return jn(this.app)?Promise.reject(Cs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await rM(this),n=new oM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Za("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await tM(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&xs(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await al.create(this,[xs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(f,this,"internal-error"),f.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,a);return()=>{u=!0,m()}}else{const m=e.addObserver(n);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=HA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&LP(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Kr(t){return st(t)}class cw{constructor(e){this.auth=e,this.observer=null,this.addObserver=wD(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let gd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cM(t){gd=t}function GA(t){return gd.loadJS(t)}function uM(){return gd.recaptchaEnterpriseScript}function hM(){return gd.gapiScript}function fM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class dM{constructor(){this.enterprise=new mM}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class mM{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const pM="recaptcha-enterprise",$A="NO_RECAPTCHA";class gM{constructor(e){this.type=pM,this.auth=Kr(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,f)=>{KP(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new $P(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,u(p.siteKey)}}).catch(m=>{f(m)})})}function a(l,u,f){const m=window.grecaptcha;sw(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(p=>{u(p)}).catch(()=>{u($A)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new dM().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{s(this.auth).then(f=>{if(!n&&sw(window.grecaptcha))a(f,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let m=uM();m.length!==0&&(m+=f),GA(m).then(()=>{a(f,l,u)}).catch(p=>{u(p)})}}).catch(f=>{u(f)})})}}async function uw(t,e,n,s=!1,a=!1){const l=new gM(t);let u;if(a)u=$A;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const f={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return s?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function zf(t,e,n,s,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await uw(t,e,n,n==="getOobCode");return s(t,l)}else return s(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await uw(t,e,n,n==="getOobCode");return s(t,u)}else return Promise.reject(l)})}function yM(t,e){const n=$r(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Or(l,e??{}))return a;Si(a,"already-initialized")}return n.initialize({options:e})}function vM(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(xs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function _M(t,e,n){const s=Kr(t);be(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=KA(e),{host:u,port:f}=TM(e),m=f===null?"":`:${f}`,p={url:`${l}//${u}${m}/`},y=Object.freeze({host:u,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){be(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),be(Or(p,s.config.emulator)&&Or(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,Wa(u)?(Oy(`${l}//${u}${m}`),Ly("Auth",!0)):EM()}function KA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function TM(t){const e=KA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:hw(s.substr(l.length+1))}}else{const[l,u]=s.split(":");return{host:l,port:hw(u)}}}function hw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function EM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class qy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ss("not implemented")}_getIdTokenResponse(e){return Ss("not implemented")}_linkToIdToken(e,n){return Ss("not implemented")}_getReauthenticationResolver(e){return Ss("not implemented")}}async function wM(t,e){return ns(t,"POST","/v1/accounts:signUp",e)}async function bM(t,e){return Cu(t,"POST","/v1/accounts:signInWithPassword",js(t,e))}async function YA(t,e){return ns(t,"POST","/v1/accounts:sendOobCode",js(t,e))}async function AM(t,e){return YA(t,e)}async function SM(t,e){return YA(t,e)}async function xM(t,e){return Cu(t,"POST","/v1/accounts:signInWithEmailLink",js(t,e))}async function RM(t,e){return Cu(t,"POST","/v1/accounts:signInWithEmailLink",js(t,e))}class cu extends qy{constructor(e,n,s,a=null){super("password",s),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new cu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new cu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zf(e,n,"signInWithPassword",bM);case"emailLink":return xM(e,{email:this._email,oobCode:this._password});default:Si(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zf(e,s,"signUpPassword",wM);case"emailLink":return RM(e,{idToken:n,email:this._email,oobCode:this._password});default:Si(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ol(t,e){return Cu(t,"POST","/v1/accounts:signInWithIdp",js(t,e))}const CM="http://localhost";class Ga extends qy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ga(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Si("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const u=new Ga(s,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return ol(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,ol(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ol(e,n)}buildRequest(){const e={requestUri:CM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=xu(n)}return e}}function IM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function NM(t){const e=qc(Hc(t)).link,n=e?qc(Hc(e)).deep_link_id:null,s=qc(Hc(t)).deep_link_id;return(s?qc(Hc(s)).link:null)||s||n||e||t}class Hy{constructor(e){const n=qc(Hc(e)),s=n.apiKey??null,a=n.oobCode??null,l=IM(n.mode??null);be(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=NM(e);try{return new Hy(n)}catch{return null}}}class Sl{constructor(){this.providerId=Sl.PROVIDER_ID}static credential(e,n){return cu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Hy.parseLink(n);return be(s,"argument-error"),cu._fromEmailAndCode(e,s.code,s.tenantId)}}Sl.PROVIDER_ID="password";Sl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Sl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class XA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Iu extends XA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class xr extends Iu{constructor(){super("facebook.com")}static credential(e){return Ga._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xr.credentialFromTaggedObject(e)}static credentialFromError(e){return xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xr.credential(e.oauthAccessToken)}catch{return null}}}xr.FACEBOOK_SIGN_IN_METHOD="facebook.com";xr.PROVIDER_ID="facebook.com";class Rr extends Iu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ga._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Rr.credential(n,s)}catch{return null}}}Rr.GOOGLE_SIGN_IN_METHOD="google.com";Rr.PROVIDER_ID="google.com";class Cr extends Iu{constructor(){super("github.com")}static credential(e){return Ga._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cr.credentialFromTaggedObject(e)}static credentialFromError(e){return Cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cr.credential(e.oauthAccessToken)}catch{return null}}}Cr.GITHUB_SIGN_IN_METHOD="github.com";Cr.PROVIDER_ID="github.com";class Ir extends Iu{constructor(){super("twitter.com")}static credential(e,n){return Ga._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ir.credentialFromTaggedObject(e)}static credentialFromError(e){return Ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Ir.credential(n,s)}catch{return null}}}Ir.TWITTER_SIGN_IN_METHOD="twitter.com";Ir.PROVIDER_ID="twitter.com";async function DM(t,e){return Cu(t,"POST","/v1/accounts:signUp",js(t,e))}class $a{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await Ei._fromIdTokenResponse(e,s,a),u=fw(s);return new $a({user:l,providerId:u,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=fw(s);return new $a({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function fw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class qf extends Ii{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,qf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new qf(e,n,s,a)}}function QA(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?qf._fromErrorAndOperation(t,l,e,s):l})}async function PM(t,e,n=!1){const s=await hl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return $a._forOperation(t,"link",s)}async function MM(t,e,n=!1){const{auth:s}=t;if(jn(s.app))return Promise.reject(Cs(s));const a="reauthenticate";try{const l=await hl(t,QA(s,a,e,t),n);be(l.idToken,s,"internal-error");const u=Fy(l.idToken);be(u,s,"internal-error");const{sub:f}=u;return be(t.uid===f,s,"user-mismatch"),$a._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Si(s,"user-mismatch"),l}}async function WA(t,e,n=!1){if(jn(t.app))return Promise.reject(Cs(t));const s="signIn",a=await QA(t,s,e),l=await $a._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function kM(t,e){return WA(Kr(t),e)}async function ZA(t){const e=Kr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function VM(t,e,n){const s=Kr(t);await zf(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",SM)}async function OM(t,e,n){if(jn(t.app))return Promise.reject(Cs(t));const s=Kr(t),u=await zf(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",DM).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&ZA(t),m}),f=await $a._fromIdTokenResponse(s,"signIn",u);return await s._updateCurrentUser(f.user),f}function LM(t,e,n){return jn(t.app)?Promise.reject(Cs(t)):kM(st(t),Sl.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&ZA(t),s})}async function jM(t,e){const n=st(t),a={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:l}=await AM(n.auth,a);l!==t.email&&await t.reload()}async function UM(t,e){return ns(t,"POST","/v1/accounts:update",e)}async function BM(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=st(t),l={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=await hl(s,UM(s.auth,l));s.displayName=u.displayName||null,s.photoURL=u.photoUrl||null;const f=s.providerData.find(({providerId:m})=>m==="password");f&&(f.displayName=s.displayName,f.photoURL=s.photoURL),await s._updateTokensIfNecessary(u)}function FM(t,e,n,s){return st(t).onIdTokenChanged(e,n,s)}function zM(t,e,n){return st(t).beforeAuthStateChanged(e,n)}function qM(t,e,n,s){return st(t).onAuthStateChanged(e,n,s)}function HM(t){return st(t).signOut()}async function GM(t){return st(t).delete()}const Hf="__sak";class JA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hf,"1"),this.storage.removeItem(Hf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const $M=1e3,KM=10;class eS extends JA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,f,m)=>{this.notifyListeners(u,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(s);!n&&this.localCache[s]===u||this.notifyListeners(s,u)},l=this.storage.getItem(s);iM()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,KM):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},$M)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}eS.type="LOCAL";const YM=eS;class tS extends JA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}tS.type="SESSION";const nS=tS;function XM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class yd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new yd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const f=Array.from(u).map(async p=>p(n.origin,l)),m=await XM(f);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yd.receivers=[];function Gy(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}class QM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((f,m)=>{const p=Gy("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},s);u={messageChannel:a,onMessage(T){const b=T;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(b.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function $i(){return window}function WM(t){$i().location.href=t}function iS(){return typeof $i().WorkerGlobalScope<"u"&&typeof $i().importScripts=="function"}async function ZM(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JM(){return navigator?.serviceWorker?.controller||null}function ek(){return iS()?self:null}const sS="firebaseLocalStorageDb",tk=1,Gf="firebaseLocalStorage",rS="fbase_key";class Nu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function vd(t,e){return t.transaction([Gf],e?"readwrite":"readonly").objectStore(Gf)}function nk(){const t=indexedDB.deleteDatabase(sS);return new Nu(t).toPromise()}function Bg(){const t=indexedDB.open(sS,tk);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Gf,{keyPath:rS})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Gf)?e(s):(s.close(),await nk(),e(await Bg()))})})}async function dw(t,e,n){const s=vd(t,!0).put({[rS]:e,value:n});return new Nu(s).toPromise()}async function ik(t,e){const n=vd(t,!1).get(e),s=await new Nu(n).toPromise();return s===void 0?null:s.value}function mw(t,e){const n=vd(t,!0).delete(e);return new Nu(n).toPromise()}const sk=800,rk=3;class aS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Bg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>rk)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yd._getInstance(ek()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await ZM(),!this.activeServiceWorker)return;this.sender=new QM(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||JM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Bg();return await dw(e,Hf,"1"),await mw(e,Hf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>dw(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>ik(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>mw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=vd(a,!1).getAll();return new Nu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),sk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aS.type="LOCAL";const ak=aS;new Ru(3e4,6e4);function ok(t,e){return e?xs(e):(be(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class $y extends qy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ol(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ol(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ol(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function lk(t){return WA(t.auth,new $y(t),t.bypassAuthState)}function ck(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),MM(n,new $y(t),t.bypassAuthState)}async function uk(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),PM(n,new $y(t),t.bypassAuthState)}class oS{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:u,type:f}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lk;case"linkViaPopup":case"linkViaRedirect":return uk;case"reauthViaPopup":case"reauthViaRedirect":return ck;default:Si(this.auth,"internal-error")}}resolve(e){Ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const hk=new Ru(2e3,1e4);class Qo extends oS{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Qo.currentPopupAction&&Qo.currentPopupAction.cancel(),Qo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){Ps(this.filter.length===1,"Popup operations only handle one event");const e=Gy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Gi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Gi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hk.get())};e()}}Qo.currentPopupAction=null;const fk="pendingRedirect",bf=new Map;class dk extends oS{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=bf.get(this.auth._key());if(!e){try{const s=await mk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}bf.set(this.auth._key(),e)}return this.bypassAuthState||bf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mk(t,e){const n=yk(e),s=gk(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function pk(t,e){bf.set(t._key(),e)}function gk(t){return xs(t._redirectPersistence)}function yk(t){return wf(fk,t.config.apiKey,t.name)}async function vk(t,e,n=!1){if(jn(t.app))return Promise.reject(Cs(t));const s=Kr(t),a=ok(s,e),u=await new dk(s,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}const _k=600*1e3;class Tk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Ek(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!lS(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Gi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_k&&this.cachedEventUids.clear(),this.cachedEventUids.has(pw(e))}saveEventToCache(e){this.cachedEventUids.add(pw(e)),this.lastProcessedEventTime=Date.now()}}function pw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function lS({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function Ek(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lS(t);default:return!1}}async function wk(t,e={}){return ns(t,"GET","/v1/projects",e)}const bk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ak=/^https?/;async function Sk(t){if(t.config.emulator)return;const{authorizedDomains:e}=await wk(t);for(const n of e)try{if(xk(n))return}catch{}Si(t,"unauthorized-domain")}function xk(t){const e=jg(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===s}if(!Ak.test(n))return!1;if(bk.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const Rk=new Ru(3e4,6e4);function gw(){const t=$i().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Ck(t){return new Promise((e,n)=>{function s(){gw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gw(),n(Gi(t,"network-request-failed"))},timeout:Rk.get()})}if($i().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if($i().gapi?.load)s();else{const a=fM("iframefcb");return $i()[a]=()=>{gapi.load?s():n(Gi(t,"network-request-failed"))},GA(`${hM()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Af=null,e})}let Af=null;function Ik(t){return Af=Af||Ck(t),Af}const Nk=new Ru(5e3,15e3),Dk="__/auth/iframe",Pk="emulator/auth/iframe",Mk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Vk(t){const e=t.config;be(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?By(e,Pk):`https://${t.config.authDomain}/${Dk}`,s={apiKey:e.apiKey,appName:t.name,v:Al},a=kk.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${xu(s).slice(1)}`}async function Ok(t){const e=await Ik(t),n=$i().gapi;return be(n,t,"internal-error"),e.open({where:document.body,url:Vk(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Mk,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const u=Gi(t,"network-request-failed"),f=$i().setTimeout(()=>{l(u)},Nk.get());function m(){$i().clearTimeout(f),a(s)}s.ping(m).then(m,()=>{l(u)})}))}const Lk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jk=500,Uk=600,Bk="_blank",Fk="http://localhost";class yw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zk(t,e,n,s=jk,a=Uk){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const m={...Lk,width:s.toString(),height:a.toString(),top:l,left:u},p=dn().toLowerCase();n&&(f=jA(p)?Bk:n),OA(p)&&(e=e||Fk,m.scrollbars="yes");const y=Object.entries(m).reduce((b,[R,k])=>`${b}${R}=${k},`,"");if(nM(p)&&f!=="_self")return qk(e||"",f),new yw(null);const T=window.open(e||"",f,y);be(T,t,"popup-blocked");try{T.focus()}catch{}return new yw(T)}function qk(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const Hk="__/auth/handler",Gk="emulator/auth/handler",$k=encodeURIComponent("fac");async function vw(t,e,n,s,a,l){be(t.config.authDomain,t,"auth-domain-config-required"),be(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Al,eventId:a};if(e instanceof XA){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",ED(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,T]of Object.entries({}))u[y]=T}if(e instanceof Iu){const y=e.getScopes().filter(T=>T!=="");y.length>0&&(u.scopes=y.join(","))}t.tenantId&&(u.tid=t.tenantId);const f=u;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const m=await t._getAppCheckToken(),p=m?`#${$k}=${encodeURIComponent(m)}`:"";return`${Kk(t)}?${xu(f).slice(1)}${p}`}function Kk({config:t}){return t.emulator?By(t,Gk):`https://${t.authDomain}/${Hk}`}const ag="webStorageSupport";class Yk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nS,this._completeRedirectFn=vk,this._overrideRedirectResult=pk}async _openPopup(e,n,s,a){Ps(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await vw(e,n,s,jg(),a);return zk(e,l,Gy())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await vw(e,n,s,jg(),a);return WM(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Ps(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await Ok(e),s=new Tk(e);return n.register("authEvent",a=>(be(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ag,{type:ag},a=>{const l=a?.[0]?.[ag];l!==void 0&&n(!!l),Si(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Sk(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return qA()||LA()||zy()}}const Xk=Yk;var _w="@firebase/auth",Tw="1.11.0";class Qk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Wk(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Zk(t){Ai(new ai("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=s.options;be(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:u,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HA(t)},p=new lM(s,a,l,m);return vM(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Ai(new ai("auth-internal",e=>{const n=Kr(e.getProvider("auth").getImmediate());return(s=>new Qk(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Cn(_w,Tw,Wk(t)),Cn(_w,Tw,"esm2020")}const Jk=300,eV=vA("authIdTokenMaxAge")||Jk;let Ew=null;const tV=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>eV)return;const a=n?.token;Ew!==a&&(Ew=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function nV(t=pd()){const e=$r(t,"auth");if(e.isInitialized())return e.getImmediate();const n=yM(t,{popupRedirectResolver:Xk,persistence:[ak,YM,nS]}),s=vA("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const u=tV(l.toString());zM(n,u,()=>u(n.currentUser)),FM(n,f=>u(f))}}const a=pA("auth");return a&&_M(n,`http://${a}`),n}function iV(){return document.getElementsByTagName("head")?.[0]??document}cM({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=Gi("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",iV().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Zk("Browser");var sV="firebase",rV="12.4.0";Cn(sV,rV,"app");const cS="@firebase/installations",Ky="0.6.19";const uS=1e4,hS=`w:${Ky}`,fS="FIS_v2",aV="https://firebaseinstallations.googleapis.com/v1",oV=3600*1e3,lV="installations",cV="Installations";const uV={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ka=new Za(lV,cV,uV);function dS(t){return t instanceof Ii&&t.code.includes("request-failed")}function mS({projectId:t}){return`${aV}/projects/${t}/installations`}function pS(t){return{token:t.token,requestStatus:2,expiresIn:fV(t.expiresIn),creationTime:Date.now()}}async function gS(t,e){const s=(await e.json()).error;return Ka.create("request-failed",{requestName:t,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function yS({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function hV(t,{refreshToken:e}){const n=yS(t);return n.append("Authorization",dV(e)),n}async function vS(t){const e=await t();return e.status>=500&&e.status<600?t():e}function fV(t){return Number(t.replace("s","000"))}function dV(t){return`${fS} ${t}`}async function mV({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const s=mS(t),a=yS(t),l=e.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&a.append("x-firebase-client",p)}const u={fid:n,authVersion:fS,appId:t.appId,sdkVersion:hS},f={method:"POST",headers:a,body:JSON.stringify(u)},m=await vS(()=>fetch(s,f));if(m.ok){const p=await m.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:pS(p.authToken)}}else throw await gS("Create Installation",m)}function _S(t){return new Promise(e=>{setTimeout(e,t)})}function pV(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}const gV=/^[cdef][\w-]{21}$/,Fg="";function yV(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=vV(t);return gV.test(n)?n:Fg}catch{return Fg}}function vV(t){return pV(t).substr(0,22)}function _d(t){return`${t.appName}!${t.appId}`}const TS=new Map;function ES(t,e){const n=_d(t);wS(n,e),_V(n,e)}function wS(t,e){const n=TS.get(t);if(n)for(const s of n)s(e)}function _V(t,e){const n=TV();n&&n.postMessage({key:t,fid:e}),EV()}let La=null;function TV(){return!La&&"BroadcastChannel"in self&&(La=new BroadcastChannel("[Firebase] FID Change"),La.onmessage=t=>{wS(t.data.key,t.data.fid)}),La}function EV(){TS.size===0&&La&&(La.close(),La=null)}const wV="firebase-installations-database",bV=1,Ya="firebase-installations-store";let og=null;function Yy(){return og||(og=AA(wV,bV,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ya)}}})),og}async function $f(t,e){const n=_d(t),a=(await Yy()).transaction(Ya,"readwrite"),l=a.objectStore(Ya),u=await l.get(n);return await l.put(e,n),await a.done,(!u||u.fid!==e.fid)&&ES(t,e.fid),e}async function bS(t){const e=_d(t),s=(await Yy()).transaction(Ya,"readwrite");await s.objectStore(Ya).delete(e),await s.done}async function Td(t,e){const n=_d(t),a=(await Yy()).transaction(Ya,"readwrite"),l=a.objectStore(Ya),u=await l.get(n),f=e(u);return f===void 0?await l.delete(n):await l.put(f,n),await a.done,f&&(!u||u.fid!==f.fid)&&ES(t,f.fid),f}async function Xy(t){let e;const n=await Td(t.appConfig,s=>{const a=AV(s),l=SV(t,a);return e=l.registrationPromise,l.installationEntry});return n.fid===Fg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function AV(t){const e=t||{fid:yV(),registrationStatus:0};return AS(e)}function SV(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(Ka.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=xV(t,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:RV(t)}:{installationEntry:e}}async function xV(t,e){try{const n=await mV(t,e);return $f(t.appConfig,n)}catch(n){throw dS(n)&&n.customData.serverCode===409?await bS(t.appConfig):await $f(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function RV(t){let e=await ww(t.appConfig);for(;e.registrationStatus===1;)await _S(100),e=await ww(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await Xy(t);return s||n}return e}function ww(t){return Td(t,e=>{if(!e)throw Ka.create("installation-not-found");return AS(e)})}function AS(t){return CV(t)?{fid:t.fid,registrationStatus:0}:t}function CV(t){return t.registrationStatus===1&&t.registrationTime+uS<Date.now()}async function IV({appConfig:t,heartbeatServiceProvider:e},n){const s=NV(t,n),a=hV(t,n),l=e.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&a.append("x-firebase-client",p)}const u={installation:{sdkVersion:hS,appId:t.appId}},f={method:"POST",headers:a,body:JSON.stringify(u)},m=await vS(()=>fetch(s,f));if(m.ok){const p=await m.json();return pS(p)}else throw await gS("Generate Auth Token",m)}function NV(t,{fid:e}){return`${mS(t)}/${e}/authTokens:generate`}async function Qy(t,e=!1){let n;const s=await Td(t.appConfig,l=>{if(!SS(l))throw Ka.create("not-registered");const u=l.authToken;if(!e&&MV(u))return l;if(u.requestStatus===1)return n=DV(t,e),l;{if(!navigator.onLine)throw Ka.create("app-offline");const f=VV(l);return n=PV(t,f),f}});return n?await n:s.authToken}async function DV(t,e){let n=await bw(t.appConfig);for(;n.authToken.requestStatus===1;)await _S(100),n=await bw(t.appConfig);const s=n.authToken;return s.requestStatus===0?Qy(t,e):s}function bw(t){return Td(t,e=>{if(!SS(e))throw Ka.create("not-registered");const n=e.authToken;return OV(n)?{...e,authToken:{requestStatus:0}}:e})}async function PV(t,e){try{const n=await IV(t,e),s={...e,authToken:n};return await $f(t.appConfig,s),n}catch(n){if(dS(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await bS(t.appConfig);else{const s={...e,authToken:{requestStatus:0}};await $f(t.appConfig,s)}throw n}}function SS(t){return t!==void 0&&t.registrationStatus===2}function MV(t){return t.requestStatus===2&&!kV(t)}function kV(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+oV}function VV(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function OV(t){return t.requestStatus===1&&t.requestTime+uS<Date.now()}async function LV(t){const e=t,{installationEntry:n,registrationPromise:s}=await Xy(e);return s?s.catch(console.error):Qy(e).catch(console.error),n.fid}async function jV(t,e=!1){const n=t;return await UV(n),(await Qy(n,e)).token}async function UV(t){const{registrationPromise:e}=await Xy(t);e&&await e}function BV(t){if(!t||!t.options)throw lg("App Configuration");if(!t.name)throw lg("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw lg(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function lg(t){return Ka.create("missing-app-config-values",{valueName:t})}const xS="installations",FV="installations-internal",zV=t=>{const e=t.getProvider("app").getImmediate(),n=BV(e),s=$r(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},qV=t=>{const e=t.getProvider("app").getImmediate(),n=$r(e,xS).getImmediate();return{getId:()=>LV(n),getToken:a=>jV(n,a)}};function HV(){Ai(new ai(xS,zV,"PUBLIC")),Ai(new ai(FV,qV,"PRIVATE"))}HV();Cn(cS,Ky);Cn(cS,Ky,"esm2020");const Kf="analytics",GV="firebase_id",$V="origin",KV=60*1e3,YV="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Wy="https://www.googletagmanager.com/gtag/js";const En=new md("@firebase/analytics");const XV={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Bn=new Za("analytics","Analytics",XV);function QV(t){if(!t.startsWith(Wy)){const e=Bn.create("invalid-gtag-resource",{gtagURL:t});return En.warn(e.message),""}return t}function RS(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function WV(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function ZV(t,e){const n=WV("firebase-js-sdk-policy",{createScriptURL:QV}),s=document.createElement("script"),a=`${Wy}?l=${t}&id=${e}`;s.src=n?n?.createScriptURL(a):a,s.async=!0,document.head.appendChild(s)}function JV(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function eO(t,e,n,s,a,l){const u=s[a];try{if(u)await e[u];else{const m=(await RS(n)).find(p=>p.measurementId===a);m&&await e[m.appId]}}catch(f){En.error(f)}t("config",a,l)}async function tO(t,e,n,s,a){try{let l=[];if(a&&a.send_to){let u=a.send_to;Array.isArray(u)||(u=[u]);const f=await RS(n);for(const m of u){const p=f.find(T=>T.measurementId===m),y=p&&e[p.appId];if(y)l.push(y);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),t("event",s,a||{})}catch(l){En.error(l)}}function nO(t,e,n,s){async function a(l,...u){try{if(l==="event"){const[f,m]=u;await tO(t,e,n,f,m)}else if(l==="config"){const[f,m]=u;await eO(t,e,n,s,f,m)}else if(l==="consent"){const[f,m]=u;t("consent",f,m)}else if(l==="get"){const[f,m,p]=u;t("get",f,m,p)}else if(l==="set"){const[f]=u;t("set",f)}else t(l,...u)}catch(f){En.error(f)}}return a}function iO(t,e,n,s,a){let l=function(...u){window[s].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=nO(l,t,e,n),{gtagCore:l,wrappedGtag:window[a]}}function sO(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Wy)&&n.src.includes(t))return n;return null}const rO=30,aO=1e3;class oO{constructor(e={},n=aO){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const CS=new oO;function lO(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function cO(t){const{appId:e,apiKey:n}=t,s={method:"GET",headers:lO(n)},a=YV.replace("{app-id}",e),l=await fetch(a,s);if(l.status!==200&&l.status!==304){let u="";try{const f=await l.json();f.error?.message&&(u=f.error.message)}catch{}throw Bn.create("config-fetch-failed",{httpStatus:l.status,responseMessage:u})}return l.json()}async function uO(t,e=CS,n){const{appId:s,apiKey:a,measurementId:l}=t.options;if(!s)throw Bn.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:s};throw Bn.create("no-api-key")}const u=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new dO;return setTimeout(async()=>{f.abort()},KV),IS({appId:s,apiKey:a,measurementId:l},u,f,e)}async function IS(t,{throttleEndTimeMillis:e,backoffCount:n},s,a=CS){const{appId:l,measurementId:u}=t;try{await hO(s,e)}catch(f){if(u)return En.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${f?.message}]`),{appId:l,measurementId:u};throw f}try{const f=await cO(t);return a.deleteThrottleMetadata(l),f}catch(f){const m=f;if(!fO(m)){if(a.deleteThrottleMetadata(l),u)return En.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:l,measurementId:u};throw f}const p=Number(m?.customData?.httpStatus)===503?YE(n,a.intervalMillis,rO):YE(n,a.intervalMillis),y={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return a.setThrottleMetadata(l,y),En.debug(`Calling attemptFetch again in ${p} millis`),IS(t,y,s,a)}}function hO(t,e){return new Promise((n,s)=>{const a=Math.max(e-Date.now(),0),l=setTimeout(n,a);t.addEventListener(()=>{clearTimeout(l),s(Bn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function fO(t){if(!(t instanceof Ii)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class dO{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function mO(t,e,n,s,a){if(a&&a.global){t("event",n,s);return}else{const l=await e,u={...s,send_to:l};t("event",n,u)}}async function pO(t,e,n,s){if(s&&s.global){const a={};for(const l of Object.keys(n))a[`user_properties.${l}`]=n[l];return t("set",a),Promise.resolve()}else{const a=await e;t("config",a,{update:!0,user_properties:n})}}async function gO(){if(TA())try{await EA()}catch(t){return En.warn(Bn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return En.warn(Bn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function yO(t,e,n,s,a,l,u){const f=uO(t);f.then(b=>{n[b.measurementId]=b.appId,t.options.measurementId&&b.measurementId!==t.options.measurementId&&En.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${b.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(b=>En.error(b)),e.push(f);const m=gO().then(b=>{if(b)return s.getId()}),[p,y]=await Promise.all([f,m]);sO(l)||ZV(l,p.measurementId),a("js",new Date);const T=u?.config??{};return T[$V]="firebase",T.update=!0,y!=null&&(T[GV]=y),a("config",p.measurementId,T),p.measurementId}class vO{constructor(e){this.app=e}_delete(){return delete ll[this.app.options.appId],Promise.resolve()}}let ll={},Aw=[];const Sw={};let cg="dataLayer",_O="gtag",xw,Zy,Rw=!1;function TO(){const t=[];if(_A()&&t.push("This is a browser extension environment."),yD()||t.push("Cookies are not available."),t.length>0){const e=t.map((s,a)=>`(${a+1}) ${s}`).join(" "),n=Bn.create("invalid-analytics-context",{errorInfo:e});En.warn(n.message)}}function EO(t,e,n){TO();const s=t.options.appId;if(!s)throw Bn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)En.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Bn.create("no-api-key");if(ll[s]!=null)throw Bn.create("already-exists",{id:s});if(!Rw){JV(cg);const{wrappedGtag:l,gtagCore:u}=iO(ll,Aw,Sw,cg,_O);Zy=l,xw=u,Rw=!0}return ll[s]=yO(t,Aw,Sw,e,xw,cg,n),new vO(t)}function wO(t=pd()){t=st(t);const e=$r(t,Kf);return e.isInitialized()?e.getImmediate():bO(t)}function bO(t,e={}){const n=$r(t,Kf);if(n.isInitialized()){const a=n.getImmediate();if(Or(e,n.getOptions()))return a;throw Bn.create("already-initialized")}return n.initialize({options:e})}function AO(t,e,n){t=st(t),pO(Zy,ll[t.app.options.appId],e,n).catch(s=>En.error(s))}function SO(t,e,n,s){t=st(t),mO(Zy,ll[t.app.options.appId],e,n,s).catch(a=>En.error(a))}const Cw="@firebase/analytics",Iw="0.10.19";function xO(){Ai(new ai(Kf,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return EO(s,a,n)},"PUBLIC")),Ai(new ai("analytics-internal",t,"PRIVATE")),Cn(Cw,Iw),Cn(Cw,Iw,"esm2020");function t(e){try{const n=e.getProvider(Kf).getImmediate();return{logEvent:(s,a,l)=>SO(n,s,a,l),setUserProperties:(s,a)=>AO(n,s,a)}}catch(n){throw Bn.create("interop-component-reg-failed",{reason:n})}}}xO();var Nw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var kr,NS;(function(){var t;function e(I,x){function N(){}N.prototype=x.prototype,I.F=x.prototype,I.prototype=new N,I.prototype.constructor=I,I.D=function(L,V,B){for(var P=Array(arguments.length-2),He=2;He<arguments.length;He++)P[He-2]=arguments[He];return x.prototype[V].apply(L,P)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,x,N){N||(N=0);const L=Array(16);if(typeof x=="string")for(var V=0;V<16;++V)L[V]=x.charCodeAt(N++)|x.charCodeAt(N++)<<8|x.charCodeAt(N++)<<16|x.charCodeAt(N++)<<24;else for(V=0;V<16;++V)L[V]=x[N++]|x[N++]<<8|x[N++]<<16|x[N++]<<24;x=I.g[0],N=I.g[1],V=I.g[2];let B=I.g[3],P;P=x+(B^N&(V^B))+L[0]+3614090360&4294967295,x=N+(P<<7&4294967295|P>>>25),P=B+(V^x&(N^V))+L[1]+3905402710&4294967295,B=x+(P<<12&4294967295|P>>>20),P=V+(N^B&(x^N))+L[2]+606105819&4294967295,V=B+(P<<17&4294967295|P>>>15),P=N+(x^V&(B^x))+L[3]+3250441966&4294967295,N=V+(P<<22&4294967295|P>>>10),P=x+(B^N&(V^B))+L[4]+4118548399&4294967295,x=N+(P<<7&4294967295|P>>>25),P=B+(V^x&(N^V))+L[5]+1200080426&4294967295,B=x+(P<<12&4294967295|P>>>20),P=V+(N^B&(x^N))+L[6]+2821735955&4294967295,V=B+(P<<17&4294967295|P>>>15),P=N+(x^V&(B^x))+L[7]+4249261313&4294967295,N=V+(P<<22&4294967295|P>>>10),P=x+(B^N&(V^B))+L[8]+1770035416&4294967295,x=N+(P<<7&4294967295|P>>>25),P=B+(V^x&(N^V))+L[9]+2336552879&4294967295,B=x+(P<<12&4294967295|P>>>20),P=V+(N^B&(x^N))+L[10]+4294925233&4294967295,V=B+(P<<17&4294967295|P>>>15),P=N+(x^V&(B^x))+L[11]+2304563134&4294967295,N=V+(P<<22&4294967295|P>>>10),P=x+(B^N&(V^B))+L[12]+1804603682&4294967295,x=N+(P<<7&4294967295|P>>>25),P=B+(V^x&(N^V))+L[13]+4254626195&4294967295,B=x+(P<<12&4294967295|P>>>20),P=V+(N^B&(x^N))+L[14]+2792965006&4294967295,V=B+(P<<17&4294967295|P>>>15),P=N+(x^V&(B^x))+L[15]+1236535329&4294967295,N=V+(P<<22&4294967295|P>>>10),P=x+(V^B&(N^V))+L[1]+4129170786&4294967295,x=N+(P<<5&4294967295|P>>>27),P=B+(N^V&(x^N))+L[6]+3225465664&4294967295,B=x+(P<<9&4294967295|P>>>23),P=V+(x^N&(B^x))+L[11]+643717713&4294967295,V=B+(P<<14&4294967295|P>>>18),P=N+(B^x&(V^B))+L[0]+3921069994&4294967295,N=V+(P<<20&4294967295|P>>>12),P=x+(V^B&(N^V))+L[5]+3593408605&4294967295,x=N+(P<<5&4294967295|P>>>27),P=B+(N^V&(x^N))+L[10]+38016083&4294967295,B=x+(P<<9&4294967295|P>>>23),P=V+(x^N&(B^x))+L[15]+3634488961&4294967295,V=B+(P<<14&4294967295|P>>>18),P=N+(B^x&(V^B))+L[4]+3889429448&4294967295,N=V+(P<<20&4294967295|P>>>12),P=x+(V^B&(N^V))+L[9]+568446438&4294967295,x=N+(P<<5&4294967295|P>>>27),P=B+(N^V&(x^N))+L[14]+3275163606&4294967295,B=x+(P<<9&4294967295|P>>>23),P=V+(x^N&(B^x))+L[3]+4107603335&4294967295,V=B+(P<<14&4294967295|P>>>18),P=N+(B^x&(V^B))+L[8]+1163531501&4294967295,N=V+(P<<20&4294967295|P>>>12),P=x+(V^B&(N^V))+L[13]+2850285829&4294967295,x=N+(P<<5&4294967295|P>>>27),P=B+(N^V&(x^N))+L[2]+4243563512&4294967295,B=x+(P<<9&4294967295|P>>>23),P=V+(x^N&(B^x))+L[7]+1735328473&4294967295,V=B+(P<<14&4294967295|P>>>18),P=N+(B^x&(V^B))+L[12]+2368359562&4294967295,N=V+(P<<20&4294967295|P>>>12),P=x+(N^V^B)+L[5]+4294588738&4294967295,x=N+(P<<4&4294967295|P>>>28),P=B+(x^N^V)+L[8]+2272392833&4294967295,B=x+(P<<11&4294967295|P>>>21),P=V+(B^x^N)+L[11]+1839030562&4294967295,V=B+(P<<16&4294967295|P>>>16),P=N+(V^B^x)+L[14]+4259657740&4294967295,N=V+(P<<23&4294967295|P>>>9),P=x+(N^V^B)+L[1]+2763975236&4294967295,x=N+(P<<4&4294967295|P>>>28),P=B+(x^N^V)+L[4]+1272893353&4294967295,B=x+(P<<11&4294967295|P>>>21),P=V+(B^x^N)+L[7]+4139469664&4294967295,V=B+(P<<16&4294967295|P>>>16),P=N+(V^B^x)+L[10]+3200236656&4294967295,N=V+(P<<23&4294967295|P>>>9),P=x+(N^V^B)+L[13]+681279174&4294967295,x=N+(P<<4&4294967295|P>>>28),P=B+(x^N^V)+L[0]+3936430074&4294967295,B=x+(P<<11&4294967295|P>>>21),P=V+(B^x^N)+L[3]+3572445317&4294967295,V=B+(P<<16&4294967295|P>>>16),P=N+(V^B^x)+L[6]+76029189&4294967295,N=V+(P<<23&4294967295|P>>>9),P=x+(N^V^B)+L[9]+3654602809&4294967295,x=N+(P<<4&4294967295|P>>>28),P=B+(x^N^V)+L[12]+3873151461&4294967295,B=x+(P<<11&4294967295|P>>>21),P=V+(B^x^N)+L[15]+530742520&4294967295,V=B+(P<<16&4294967295|P>>>16),P=N+(V^B^x)+L[2]+3299628645&4294967295,N=V+(P<<23&4294967295|P>>>9),P=x+(V^(N|~B))+L[0]+4096336452&4294967295,x=N+(P<<6&4294967295|P>>>26),P=B+(N^(x|~V))+L[7]+1126891415&4294967295,B=x+(P<<10&4294967295|P>>>22),P=V+(x^(B|~N))+L[14]+2878612391&4294967295,V=B+(P<<15&4294967295|P>>>17),P=N+(B^(V|~x))+L[5]+4237533241&4294967295,N=V+(P<<21&4294967295|P>>>11),P=x+(V^(N|~B))+L[12]+1700485571&4294967295,x=N+(P<<6&4294967295|P>>>26),P=B+(N^(x|~V))+L[3]+2399980690&4294967295,B=x+(P<<10&4294967295|P>>>22),P=V+(x^(B|~N))+L[10]+4293915773&4294967295,V=B+(P<<15&4294967295|P>>>17),P=N+(B^(V|~x))+L[1]+2240044497&4294967295,N=V+(P<<21&4294967295|P>>>11),P=x+(V^(N|~B))+L[8]+1873313359&4294967295,x=N+(P<<6&4294967295|P>>>26),P=B+(N^(x|~V))+L[15]+4264355552&4294967295,B=x+(P<<10&4294967295|P>>>22),P=V+(x^(B|~N))+L[6]+2734768916&4294967295,V=B+(P<<15&4294967295|P>>>17),P=N+(B^(V|~x))+L[13]+1309151649&4294967295,N=V+(P<<21&4294967295|P>>>11),P=x+(V^(N|~B))+L[4]+4149444226&4294967295,x=N+(P<<6&4294967295|P>>>26),P=B+(N^(x|~V))+L[11]+3174756917&4294967295,B=x+(P<<10&4294967295|P>>>22),P=V+(x^(B|~N))+L[2]+718787259&4294967295,V=B+(P<<15&4294967295|P>>>17),P=N+(B^(V|~x))+L[9]+3951481745&4294967295,I.g[0]=I.g[0]+x&4294967295,I.g[1]=I.g[1]+(V+(P<<21&4294967295|P>>>11))&4294967295,I.g[2]=I.g[2]+V&4294967295,I.g[3]=I.g[3]+B&4294967295}s.prototype.v=function(I,x){x===void 0&&(x=I.length);const N=x-this.blockSize,L=this.C;let V=this.h,B=0;for(;B<x;){if(V==0)for(;B<=N;)a(this,I,B),B+=this.blockSize;if(typeof I=="string"){for(;B<x;)if(L[V++]=I.charCodeAt(B++),V==this.blockSize){a(this,L),V=0;break}}else for(;B<x;)if(L[V++]=I[B++],V==this.blockSize){a(this,L),V=0;break}}this.h=V,this.o+=x},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var x=1;x<I.length-8;++x)I[x]=0;x=this.o*8;for(var N=I.length-8;N<I.length;++N)I[N]=x&255,x/=256;for(this.v(I),I=Array(16),x=0,N=0;N<4;++N)for(let L=0;L<32;L+=8)I[x++]=this.g[N]>>>L&255;return I};function l(I,x){var N=f;return Object.prototype.hasOwnProperty.call(N,I)?N[I]:N[I]=x(I)}function u(I,x){this.h=x;const N=[];let L=!0;for(let V=I.length-1;V>=0;V--){const B=I[V]|0;L&&B==x||(N[V]=B,L=!1)}this.g=N}var f={};function m(I){return-128<=I&&I<128?l(I,function(x){return new u([x|0],x<0?-1:0)}):new u([I|0],I<0?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return T;if(I<0)return O(p(-I));const x=[];let N=1;for(let L=0;I>=N;L++)x[L]=I/N|0,N*=4294967296;return new u(x,0)}function y(I,x){if(I.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(I.charAt(0)=="-")return O(y(I.substring(1),x));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=p(Math.pow(x,8));let L=T;for(let B=0;B<I.length;B+=8){var V=Math.min(8,I.length-B);const P=parseInt(I.substring(B,B+V),x);V<8?(V=p(Math.pow(x,V)),L=L.j(V).add(p(P))):(L=L.j(N),L=L.add(p(P)))}return L}var T=m(0),b=m(1),R=m(16777216);t=u.prototype,t.m=function(){if(U(this))return-O(this).m();let I=0,x=1;for(let N=0;N<this.g.length;N++){const L=this.i(N);I+=(L>=0?L:4294967296+L)*x,x*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(k(this))return"0";if(U(this))return"-"+O(this).toString(I);const x=p(Math.pow(I,6));var N=this;let L="";for(;;){const V=oe(N,x).g;N=z(N,V.j(x));let B=((N.g.length>0?N.g[0]:N.h)>>>0).toString(I);if(N=V,k(N))return B+L;for(;B.length<6;)B="0"+B;L=B+L}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function k(I){if(I.h!=0)return!1;for(let x=0;x<I.g.length;x++)if(I.g[x]!=0)return!1;return!0}function U(I){return I.h==-1}t.l=function(I){return I=z(this,I),U(I)?-1:k(I)?0:1};function O(I){const x=I.g.length,N=[];for(let L=0;L<x;L++)N[L]=~I.g[L];return new u(N,~I.h).add(b)}t.abs=function(){return U(this)?O(this):this},t.add=function(I){const x=Math.max(this.g.length,I.g.length),N=[];let L=0;for(let V=0;V<=x;V++){let B=L+(this.i(V)&65535)+(I.i(V)&65535),P=(B>>>16)+(this.i(V)>>>16)+(I.i(V)>>>16);L=P>>>16,B&=65535,P&=65535,N[V]=P<<16|B}return new u(N,N[N.length-1]&-2147483648?-1:0)};function z(I,x){return I.add(O(x))}t.j=function(I){if(k(this)||k(I))return T;if(U(this))return U(I)?O(this).j(O(I)):O(O(this).j(I));if(U(I))return O(this.j(O(I)));if(this.l(R)<0&&I.l(R)<0)return p(this.m()*I.m());const x=this.g.length+I.g.length,N=[];for(var L=0;L<2*x;L++)N[L]=0;for(L=0;L<this.g.length;L++)for(let V=0;V<I.g.length;V++){const B=this.i(L)>>>16,P=this.i(L)&65535,He=I.i(V)>>>16,De=I.i(V)&65535;N[2*L+2*V]+=P*De,q(N,2*L+2*V),N[2*L+2*V+1]+=B*De,q(N,2*L+2*V+1),N[2*L+2*V+1]+=P*He,q(N,2*L+2*V+1),N[2*L+2*V+2]+=B*He,q(N,2*L+2*V+2)}for(I=0;I<x;I++)N[I]=N[2*I+1]<<16|N[2*I];for(I=x;I<2*x;I++)N[I]=0;return new u(N,0)};function q(I,x){for(;(I[x]&65535)!=I[x];)I[x+1]+=I[x]>>>16,I[x]&=65535,x++}function $(I,x){this.g=I,this.h=x}function oe(I,x){if(k(x))throw Error("division by zero");if(k(I))return new $(T,T);if(U(I))return x=oe(O(I),x),new $(O(x.g),O(x.h));if(U(x))return x=oe(I,O(x)),new $(O(x.g),x.h);if(I.g.length>30){if(U(I)||U(x))throw Error("slowDivide_ only works with positive integers.");for(var N=b,L=x;L.l(I)<=0;)N=J(N),L=J(L);var V=ie(N,1),B=ie(L,1);for(L=ie(L,2),N=ie(N,2);!k(L);){var P=B.add(L);P.l(I)<=0&&(V=V.add(N),B=P),L=ie(L,1),N=ie(N,1)}return x=z(I,V.j(x)),new $(V,x)}for(V=T;I.l(x)>=0;){for(N=Math.max(1,Math.floor(I.m()/x.m())),L=Math.ceil(Math.log(N)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),B=p(N),P=B.j(x);U(P)||P.l(I)>0;)N-=L,B=p(N),P=B.j(x);k(B)&&(B=b),V=V.add(B),I=z(I,P)}return new $(V,I)}t.B=function(I){return oe(this,I).h},t.and=function(I){const x=Math.max(this.g.length,I.g.length),N=[];for(let L=0;L<x;L++)N[L]=this.i(L)&I.i(L);return new u(N,this.h&I.h)},t.or=function(I){const x=Math.max(this.g.length,I.g.length),N=[];for(let L=0;L<x;L++)N[L]=this.i(L)|I.i(L);return new u(N,this.h|I.h)},t.xor=function(I){const x=Math.max(this.g.length,I.g.length),N=[];for(let L=0;L<x;L++)N[L]=this.i(L)^I.i(L);return new u(N,this.h^I.h)};function J(I){const x=I.g.length+1,N=[];for(let L=0;L<x;L++)N[L]=I.i(L)<<1|I.i(L-1)>>>31;return new u(N,I.h)}function ie(I,x){const N=x>>5;x%=32;const L=I.g.length-N,V=[];for(let B=0;B<L;B++)V[B]=x>0?I.i(B+N)>>>x|I.i(B+N+1)<<32-x:I.i(B+N);return new u(V,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,NS=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=y,kr=u}).apply(typeof Nw<"u"?Nw:typeof self<"u"?self:typeof window<"u"?window:{});var cf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var DS,Gc,PS,Sf,zg,MS,kS,VS;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof cf=="object"&&cf];for(var v=0;v<h.length;++v){var E=h[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function a(h,v){if(v)e:{var E=s;h=h.split(".");for(var S=0;S<h.length-1;S++){var G=h[S];if(!(G in E))break e;E=E[G]}h=h[h.length-1],S=E[h],v=v(S),v!=S&&v!=null&&e(E,h,{configurable:!0,writable:!0,value:v})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(v){var E=[],S;for(S in v)Object.prototype.hasOwnProperty.call(v,S)&&E.push([S,v[S]]);return E}});var l=l||{},u=this||self;function f(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function m(h,v,E){return h.call.apply(h.bind,arguments)}function p(h,v,E){return p=m,p.apply(null,arguments)}function y(h,v){var E=Array.prototype.slice.call(arguments,1);return function(){var S=E.slice();return S.push.apply(S,arguments),h.apply(this,S)}}function T(h,v){function E(){}E.prototype=v.prototype,h.Z=v.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(S,G,Q){for(var ce=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)ce[Ie-2]=arguments[Ie];return v.prototype[G].apply(S,ce)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function R(h){const v=h.length;if(v>0){const E=Array(v);for(let S=0;S<v;S++)E[S]=h[S];return E}return[]}function k(h,v){for(let S=1;S<arguments.length;S++){const G=arguments[S];var E=typeof G;if(E=E!="object"?E:G?Array.isArray(G)?"array":E:"null",E=="array"||E=="object"&&typeof G.length=="number"){E=h.length||0;const Q=G.length||0;h.length=E+Q;for(let ce=0;ce<Q;ce++)h[E+ce]=G[ce]}else h.push(G)}}class U{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function O(h){u.setTimeout(()=>{throw h},0)}function z(){var h=I;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class q{constructor(){this.h=this.g=null}add(v,E){const S=$.get();S.set(v,E),this.h?this.h.next=S:this.g=S,this.h=S}}var $=new U(()=>new oe,h=>h.reset());class oe{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let J,ie=!1,I=new q,x=()=>{const h=Promise.resolve(void 0);J=()=>{h.then(N)}};function N(){for(var h;h=z();){try{h.h.call(h.g)}catch(E){O(E)}var v=$;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}ie=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};u.addEventListener("test",E,v),u.removeEventListener("test",E,v)}catch{}return h})();function P(h){return/^[\s\xa0]*$/.test(h)}function He(h,v){V.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}T(He,V),He.prototype.init=function(h,v){const E=this.type=h.type,S=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(E=="mouseover"?v=h.fromElement:E=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&He.Z.h.call(this)},He.prototype.h=function(){He.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var De="closure_listenable_"+(Math.random()*1e6|0),Z=0;function ae(h,v,E,S,G){this.listener=h,this.proxy=null,this.src=v,this.type=E,this.capture=!!S,this.ha=G,this.key=++Z,this.da=this.fa=!1}function ue(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ce(h,v,E){for(const S in h)v.call(E,h[S],S,h)}function D(h,v){for(const E in h)v.call(void 0,h[E],E,h)}function W(h){const v={};for(const E in h)v[E]=h[E];return v}const le="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function he(h,v){let E,S;for(let G=1;G<arguments.length;G++){S=arguments[G];for(E in S)h[E]=S[E];for(let Q=0;Q<le.length;Q++)E=le[Q],Object.prototype.hasOwnProperty.call(S,E)&&(h[E]=S[E])}}function pe(h){this.src=h,this.g={},this.h=0}pe.prototype.add=function(h,v,E,S,G){const Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);const ce=Te(h,v,S,G);return ce>-1?(v=h[ce],E||(v.fa=!1)):(v=new ae(v,this.src,Q,!!S,G),v.fa=E,h.push(v)),v};function ke(h,v){const E=v.type;if(E in h.g){var S=h.g[E],G=Array.prototype.indexOf.call(S,v,void 0),Q;(Q=G>=0)&&Array.prototype.splice.call(S,G,1),Q&&(ue(v),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Te(h,v,E,S){for(let G=0;G<h.length;++G){const Q=h[G];if(!Q.da&&Q.listener==v&&Q.capture==!!E&&Q.ha==S)return G}return-1}var Ot="closure_lm_"+(Math.random()*1e6|0),ge={};function ve(h,v,E,S,G){if(Array.isArray(v)){for(let Q=0;Q<v.length;Q++)ve(h,v[Q],E,S,G);return null}return E=Fn(E),h&&h[De]?h.J(v,E,f(S)?!!S.capture:!1,G):Ge(h,v,E,!1,S,G)}function Ge(h,v,E,S,G,Q){if(!v)throw Error("Invalid event type");const ce=f(G)?!!G.capture:!!G;let Ie=is(h);if(Ie||(h[Ot]=Ie=new pe(h)),E=Ie.add(v,E,S,ce,Q),E.proxy)return E;if(S=zt(),E.proxy=S,S.src=h,S.listener=E,h.addEventListener)B||(G=ce),G===void 0&&(G=!1),h.addEventListener(v.toString(),S,G);else if(h.attachEvent)h.attachEvent(li(v.toString()),S);else if(h.addListener&&h.removeListener)h.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return E}function zt(){function h(E){return v.call(h.src,h.listener,E)}const v=ci;return h}function oi(h,v,E,S,G){if(Array.isArray(v))for(var Q=0;Q<v.length;Q++)oi(h,v[Q],E,S,G);else S=f(S)?!!S.capture:!!S,E=Fn(E),h&&h[De]?(h=h.i,Q=String(v).toString(),Q in h.g&&(v=h.g[Q],E=Te(v,E,S,G),E>-1&&(ue(v[E]),Array.prototype.splice.call(v,E,1),v.length==0&&(delete h.g[Q],h.h--)))):h&&(h=is(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Te(v,E,S,G)),(E=h>-1?v[h]:null)&&mn(E))}function mn(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[De])ke(v.i,h);else{var E=h.type,S=h.proxy;v.removeEventListener?v.removeEventListener(E,S,h.capture):v.detachEvent?v.detachEvent(li(E),S):v.addListener&&v.removeListener&&v.removeListener(S),(E=is(v))?(ke(E,h),E.h==0&&(E.src=null,v[Ot]=null)):ue(h)}}}function li(h){return h in ge?ge[h]:ge[h]="on"+h}function ci(h,v){if(h.da)h=!0;else{v=new He(v,this);const E=h.listener,S=h.ha||h.src;h.fa&&mn(h),h=E.call(S,v)}return h}function is(h){return h=h[Ot],h instanceof pe?h:null}var rt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Fn(h){return typeof h=="function"?h:(h[rt]||(h[rt]=function(v){return h.handleEvent(v)}),h[rt])}function Lt(){L.call(this),this.i=new pe(this),this.M=this,this.G=null}T(Lt,L),Lt.prototype[De]=!0,Lt.prototype.removeEventListener=function(h,v,E,S){oi(this,h,v,E,S)};function qt(h,v){var E,S=h.G;if(S)for(E=[];S;S=S.G)E.push(S);if(h=h.M,S=v.type||v,typeof v=="string")v=new V(v,h);else if(v instanceof V)v.target=v.target||h;else{var G=v;v=new V(S,h),he(v,G)}G=!0;let Q,ce;if(E)for(ce=E.length-1;ce>=0;ce--)Q=v.g=E[ce],G=ss(Q,S,!0,v)&&G;if(Q=v.g=h,G=ss(Q,S,!0,v)&&G,G=ss(Q,S,!1,v)&&G,E)for(ce=0;ce<E.length;ce++)Q=v.g=E[ce],G=ss(Q,S,!1,v)&&G}Lt.prototype.N=function(){if(Lt.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const E=h.g[v];for(let S=0;S<E.length;S++)ue(E[S]);delete h.g[v],h.h--}}this.G=null},Lt.prototype.J=function(h,v,E,S){return this.i.add(String(h),v,!1,E,S)},Lt.prototype.K=function(h,v,E,S){return this.i.add(String(h),v,!0,E,S)};function ss(h,v,E,S){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let G=!0;for(let Q=0;Q<v.length;++Q){const ce=v[Q];if(ce&&!ce.da&&ce.capture==E){const Ie=ce.listener,ct=ce.ha||ce.src;ce.fa&&ke(h.i,ce),G=Ie.call(ct,S)!==!1&&G}}return G&&!S.defaultPrevented}function Yd(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:u.setTimeout(h,v||0)}function kl(h){h.g=Yd(()=>{h.g=null,h.i&&(h.i=!1,kl(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class Xd extends L{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:kl(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wr(h){L.call(this),this.h=h,this.g={}}T(Wr,L);var Bs=[];function sn(h){Ce(h.g,function(v,E){this.g.hasOwnProperty(E)&&mn(v)},h),h.g={}}Wr.prototype.N=function(){Wr.Z.N.call(this),sn(this)},Wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zn=u.JSON.stringify,pn=u.JSON.parse,Qd=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function zu(){}function qu(){}var Ni={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Fs(){V.call(this,"d")}T(Fs,V);function ui(){V.call(this,"c")}T(ui,V);var qn={},zs=null;function to(){return zs=zs||new Lt}qn.Ia="serverreachability";function Vl(h){V.call(this,qn.Ia,h)}T(Vl,V);function qs(h){const v=to();qt(v,new Vl(v))}qn.STAT_EVENT="statevent";function no(h,v){V.call(this,qn.STAT_EVENT,h),this.stat=v}T(no,V);function wt(h){const v=to();qt(v,new no(v,h))}qn.Ja="timingevent";function Hu(h,v){V.call(this,qn.Ja,h),this.size=v}T(Hu,V);function Hs(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},v)}function Gs(){this.g=!0}Gs.prototype.ua=function(){this.g=!1};function Ol(h,v,E,S,G,Q){h.info(function(){if(h.g)if(Q){var ce="",Ie=Q.split("&");for(let Xe=0;Xe<Ie.length;Xe++){var ct=Ie[Xe].split("=");if(ct.length>1){const St=ct[0];ct=ct[1];const Nn=St.split("_");ce=Nn.length>=2&&Nn[1]=="type"?ce+(St+"="+ct+"&"):ce+(St+"=redacted&")}}}else ce=null;else ce=Q;return"XMLHTTP REQ ("+S+") [attempt "+G+"]: "+v+`
`+E+`
`+ce})}function Ll(h,v,E,S,G,Q,ce){h.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+G+"]: "+v+`
`+E+`
`+Q+" "+ce})}function rs(h,v,E,S){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Di(h,E)+(S?" "+S:"")})}function Wd(h,v){h.info(function(){return"TIMEOUT: "+v})}Gs.prototype.info=function(){};function Di(h,v){if(!h.g)return v;if(!v)return null;try{const Q=JSON.parse(v);if(Q){for(h=0;h<Q.length;h++)if(Array.isArray(Q[h])){var E=Q[h];if(!(E.length<2)){var S=E[1];if(Array.isArray(S)&&!(S.length<1)){var G=S[0];if(G!="noop"&&G!="stop"&&G!="close")for(let ce=1;ce<S.length;ce++)S[ce]=""}}}}return zn(Q)}catch{return v}}var bt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Xt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},as;function Zr(){}T(Zr,zu),Zr.prototype.g=function(){return new XMLHttpRequest},as=new Zr;function Jr(h){return encodeURIComponent(String(h))}function Zd(h){var v=1;h=h.split(":");const E=[];for(;v>0&&h.length;)E.push(h.shift()),v--;return h.length&&E.push(h.join(":")),E}function hi(h,v,E,S){this.j=h,this.i=v,this.l=E,this.S=S||1,this.V=new Wr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new $s}function $s(){this.i=null,this.g="",this.h=!1}var io={},Pi={};function Mi(h,v,E){h.M=1,h.A=ls(mt(v)),h.u=E,h.R=!0,Ks(h,null)}function Ks(h,v){h.F=Date.now(),ea(h),h.B=mt(h.A);var E=h.B,S=h.S;Array.isArray(S)||(S=[String(S)]),Yu(E.i,"t",S),h.C=0,E=h.j.L,h.h=new $s,h.g=mo(h.j,E?v:null,!h.u),h.P>0&&(h.O=new Xd(p(h.Y,h,h.g),h.P)),v=h.V,E=h.g,S=h.ba;var G="readystatechange";Array.isArray(G)||(G&&(Bs[0]=G.toString()),G=Bs);for(let Q=0;Q<G.length;Q++){const ce=ve(E,G[Q],S||v.handleEvent,!1,v.h||v);if(!ce)break;v.g[ce.key]=ce}v=h.J?W(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),qs(),Ol(h.i,h.v,h.B,h.l,h.S,h.u)}hi.prototype.ba=function(h){h=h.target;const v=this.O;v&&rn(h)==3?v.j():this.Y(h)},hi.prototype.Y=function(h){try{if(h==this.g)e:{const Ie=rn(this.g),ct=this.g.ya(),Xe=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||ha(this.g)))){this.K||Ie!=4||ct==7||(ct==8||Xe<=0?qs(3):qs(2)),Vi(this);var v=this.g.ca();this.X=v;var E=Ys(this);if(this.o=v==200,Ll(this.i,this.v,this.B,this.l,this.S,Ie,v),this.o){if(this.U&&!this.L){t:{if(this.g){var S,G=this.g;if((S=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(S)){var Q=S;break t}}Q=null}if(h=Q)rs(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,so(this,h);else{this.o=!1,this.m=3,wt(12),Oi(this),ta(this);break e}}if(this.R){h=!0;let St;for(;!this.K&&this.C<E.length;)if(St=Gu(this,E),St==Pi){Ie==4&&(this.m=4,wt(14),h=!1),rs(this.i,this.l,null,"[Incomplete Response]");break}else if(St==io){this.m=4,wt(15),rs(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else rs(this.i,this.l,St,null),so(this,St);if(At(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||E.length!=0||this.h.h||(this.m=1,wt(16),h=!1),this.o=this.o&&h,!h)rs(this.i,this.l,E,"[Invalid Chunked Response]"),Oi(this),ta(this);else if(E.length>0&&!this.W){this.W=!0;var ce=this.j;ce.g==this&&ce.aa&&!ce.P&&(ce.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Kl(ce),ce.P=!0,wt(11))}}else rs(this.i,this.l,E,null),so(this,E);Ie==4&&Oi(this),this.o&&!this.K&&(Ie==4?Yl(this.j,this):(this.o=!1,ea(this)))}else fa(this.g),v==400&&E.indexOf("Unknown SID")>0?(this.m=3,wt(12)):(this.m=0,wt(13)),Oi(this),ta(this)}}}catch{}finally{}};function Ys(h){if(!At(h))return h.g.la();const v=ha(h.g);if(v==="")return"";let E="";const S=v.length,G=rn(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Oi(h),ta(h),"";h.h.i=new u.TextDecoder}for(let Q=0;Q<S;Q++)h.h.h=!0,E+=h.h.i.decode(v[Q],{stream:!(G&&Q==S-1)});return v.length=0,h.h.g+=E,h.C=0,h.h.g}function At(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Gu(h,v){var E=h.C,S=v.indexOf(`
`,E);return S==-1?Pi:(E=Number(v.substring(E,S)),isNaN(E)?io:(S+=1,S+E>v.length?Pi:(v=v.slice(S,S+E),h.C=S+E,v)))}hi.prototype.cancel=function(){this.K=!0,Oi(this)};function ea(h){h.T=Date.now()+h.H,ki(h,h.H)}function ki(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Hs(p(h.aa,h),v)}function Vi(h){h.D&&(u.clearTimeout(h.D),h.D=null)}hi.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Wd(this.i,this.B),this.M!=2&&(qs(),wt(17)),Oi(this),this.m=2,ta(this)):ki(this,this.T-h)};function ta(h){h.j.I==0||h.K||Yl(h.j,h)}function Oi(h){Vi(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,sn(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function so(h,v){try{var E=h.j;if(E.I!=0&&(E.g==h||sa(E.h,h))){if(!h.L&&sa(E.h,h)&&E.I==3){try{var S=E.Ba.g.parse(v)}catch{S=null}if(Array.isArray(S)&&S.length==3){var G=S;if(G[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)fo(E),Li(E);else break e;$l(E),wt(18)}}else E.xa=G[1],0<E.xa-E.K&&G[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Hs(p(E.Va,E),6e3));Hn(E.h)<=1&&E.ta&&(E.ta=void 0)}else hs(E,11)}else if((h.L||E.g==h)&&fo(E),!P(v))for(G=E.Ba.g.parse(v),v=0;v<G.length;v++){let Xe=G[v];const St=Xe[0];if(!(St<=E.K))if(E.K=St,Xe=Xe[1],E.I==2)if(Xe[0]=="c"){E.M=Xe[1],E.ba=Xe[2];const Nn=Xe[3];Nn!=null&&(E.ka=Nn,E.j.info("VER="+E.ka));const ji=Xe[4];ji!=null&&(E.za=ji,E.j.info("SVER="+E.za));const mi=Xe[5];mi!=null&&typeof mi=="number"&&mi>0&&(S=1.5*mi,E.O=S,E.j.info("backChannelRequestTimeoutMs_="+S)),S=E;const pi=h.g;if(pi){const gi=pi.g?pi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gi){var Q=S.h;Q.g||gi.indexOf("spdy")==-1&&gi.indexOf("quic")==-1&&gi.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(ro(Q,Q.h),Q.h=null))}if(S.G){const Ql=pi.g?pi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ql&&(S.wa=Ql,Ze(S.J,S.G,Ql))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),S=E;var ce=h;if(S.na=ih(S,S.L?S.ba:null,S.W),ce.L){os(S.h,ce);var Ie=ce,ct=S.O;ct&&(Ie.H=ct),Ie.D&&(Vi(Ie),ea(Ie)),S.g=ce}else Ju(S);E.i.length>0&&ga(E)}else Xe[0]!="stop"&&Xe[0]!="close"||hs(E,7);else E.I==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?hs(E,7):ma(E):Xe[0]!="noop"&&E.l&&E.l.qa(Xe),E.A=0)}}qs(4)}catch{}}var Jd=class{constructor(h,v){this.g=h,this.map=v}};function na(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ia(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Hn(h){return h.h?1:h.g?h.g.size:0}function sa(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function ro(h,v){h.g?h.g.add(v):h.h=v}function os(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}na.prototype.cancel=function(){if(this.i=ao(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function ao(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const E of h.g.values())v=v.concat(E.G);return v}return R(h.i)}var oo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function em(h,v){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const S=h[E].indexOf("=");let G,Q=null;S>=0?(G=h[E].substring(0,S),Q=h[E].substring(S+1)):G=h[E],v(G,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function fi(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof fi?(this.l=h.l,Xs(this,h.j),this.o=h.o,this.g=h.g,ra(this,h.u),this.h=h.h,Qs(this,Xu(h.i)),this.m=h.m):h&&(v=String(h).match(oo))?(this.l=!1,Xs(this,v[1]||"",!0),this.o=aa(v[2]||""),this.g=aa(v[3]||"",!0),ra(this,v[4]),this.h=aa(v[5]||"",!0),Qs(this,v[6]||"",!0),this.m=aa(v[7]||"")):(this.l=!1,this.i=new Gn(null,this.l))}fi.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(Ht(v,Ul,!0),":");var E=this.g;return(E||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Ht(v,Ul,!0),"@"),h.push(Jr(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Ht(E,E.charAt(0)=="/"?Ws:Bl,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Ht(E,Ku)),h.join("")},fi.prototype.resolve=function(h){const v=mt(this);let E=!!h.j;E?Xs(v,h.j):E=!!h.o,E?v.o=h.o:E=!!h.g,E?v.g=h.g:E=h.u!=null;var S=h.h;if(E)ra(v,h.u);else if(E=!!h.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var G=v.h.lastIndexOf("/");G!=-1&&(S=v.h.slice(0,G+1)+S)}if(G=S,G==".."||G==".")S="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){S=G.lastIndexOf("/",0)==0,G=G.split("/");const Q=[];for(let ce=0;ce<G.length;){const Ie=G[ce++];Ie=="."?S&&ce==G.length&&Q.push(""):Ie==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),S&&ce==G.length&&Q.push("")):(Q.push(Ie),S=!0)}S=Q.join("/")}else S=G}return E?v.h=S:E=h.i.toString()!=="",E?Qs(v,Xu(h.i)):E=!!h.m,E&&(v.m=h.m),v};function mt(h){return new fi(h)}function Xs(h,v,E){h.j=E?aa(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function ra(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function Qs(h,v,E){v instanceof Gn?(h.i=v,ql(h.i,h.l)):(E||(v=Ht(v,$u)),h.i=new Gn(v,h.l))}function Ze(h,v,E){h.i.set(v,E)}function ls(h){return Ze(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function aa(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ht(h,v,E){return typeof h=="string"?(h=encodeURI(h).replace(v,jl),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function jl(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ul=/[#\/\?@]/g,Bl=/[#\?:]/g,Ws=/[#\?]/g,$u=/[#\?@]/g,Ku=/#/g;function Gn(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function cs(h){h.g||(h.g=new Map,h.h=0,h.i&&em(h.i,function(v,E){h.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}t=Gn.prototype,t.add=function(h,v){cs(this),this.i=null,h=di(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(v),this.h+=1,this};function Fl(h,v){cs(h),v=di(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function zl(h,v){return cs(h),v=di(h,v),h.g.has(v)}t.forEach=function(h,v){cs(this),this.g.forEach(function(E,S){E.forEach(function(G){h.call(v,G,S,this)},this)},this)};function lo(h,v){cs(h);let E=[];if(typeof v=="string")zl(h,v)&&(E=E.concat(h.g.get(di(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)E=E.concat(h[v]);return E}t.set=function(h,v){return cs(this),this.i=null,h=di(this,h),zl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},t.get=function(h,v){return h?(h=lo(this,h),h.length>0?String(h[0]):v):v};function Yu(h,v,E){Fl(h,v),E.length>0&&(h.i=null,h.g.set(di(h,v),R(E)),h.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let S=0;S<v.length;S++){var E=v[S];const G=Jr(E);E=lo(this,E);for(let Q=0;Q<E.length;Q++){let ce=G;E[Q]!==""&&(ce+="="+Jr(E[Q])),h.push(ce)}}return this.i=h.join("&")};function Xu(h){const v=new Gn;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function di(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function ql(h,v){v&&!h.j&&(cs(h),h.i=null,h.g.forEach(function(E,S){const G=S.toLowerCase();S!=G&&(Fl(this,S),Yu(this,G,E))},h)),h.j=v}function Hl(h,v){const E=new Gs;if(u.Image){const S=new Image;S.onload=y(gn,E,"TestLoadImage: loaded",!0,v,S),S.onerror=y(gn,E,"TestLoadImage: error",!1,v,S),S.onabort=y(gn,E,"TestLoadImage: abort",!1,v,S),S.ontimeout=y(gn,E,"TestLoadImage: timeout",!1,v,S),u.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=h}else v(!1)}function Zs(h,v){const E=new Gs,S=new AbortController,G=setTimeout(()=>{S.abort(),gn(E,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:S.signal}).then(Q=>{clearTimeout(G),Q.ok?gn(E,"TestPingServer: ok",!0,v):gn(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(G),gn(E,"TestPingServer: error",!1,v)})}function gn(h,v,E,S,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),S(E)}catch{}}function Qu(){this.g=new Qd}function oa(h){this.i=h.Sb||null,this.h=h.ab||!1}T(oa,zu),oa.prototype.g=function(){return new la(this.i,this.h)};function la(h,v){Lt.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(la,Lt),t=la.prototype,t.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,us(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||u).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,yn(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,us(this)),this.g&&(this.readyState=3,us(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Js(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Js(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?yn(this):us(this),this.readyState==3&&Js(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,yn(this))},t.Na=function(h){this.g&&(this.response=h,yn(this))},t.ga=function(){this.g&&yn(this)};function yn(h){h.readyState=4,h.l=null,h.j=null,h.B=null,us(h)}t.setRequestHeader=function(h,v){this.A.append(h,v)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=v.next();return h.join(`\r
`)};function us(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(la.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function er(h){let v="";return Ce(h,function(E,S){v+=S,v+=":",v+=E,v+=`\r
`}),v}function $n(h,v,E){e:{for(S in E){var S=!1;break e}S=!0}S||(E=er(E),typeof h=="string"?E!=null&&Jr(E):Ze(h,v,E))}function at(h){Lt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(at,Lt);var co=/^https?$/i,Wu=["POST","PUT"];t=at.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,v,E,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():as.g(),this.g.onreadystatechange=b(p(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(Q){ca(this,Q);return}if(h=E||"",E=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var G in S)E.set(G,S[G]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Q of S.keys())E.set(Q,S.get(Q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(E.keys()).find(Q=>Q.toLowerCase()=="content-type"),G=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(Wu,v,void 0)>=0)||S||G||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ce]of E)this.g.setRequestHeader(Q,ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Q){ca(this,Q)}};function ca(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,ua(h),jt(h)}function ua(h){h.A||(h.A=!0,qt(h,"complete"),qt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,qt(this,"complete"),qt(this,"abort"),jt(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jt(this,!0)),at.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Gl(this):this.Xa())},t.Xa=function(){Gl(this)};function Gl(h){if(h.h&&typeof l<"u"){if(h.v&&rn(h)==4)setTimeout(h.Ca.bind(h),0);else if(qt(h,"readystatechange"),rn(h)==4){h.h=!1;try{const Q=h.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var S;if(S=Q===0){let ce=String(h.D).match(oo)[1]||null;!ce&&u.self&&u.self.location&&(ce=u.self.location.protocol.slice(0,-1)),S=!co.test(ce?ce.toLowerCase():"")}E=S}if(E)qt(h,"complete"),qt(h,"success");else{h.o=6;try{var G=rn(h)>2?h.g.statusText:""}catch{G=""}h.l=G+" ["+h.ca()+"]",ua(h)}}finally{jt(h)}}}}function jt(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,v||qt(h,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function rn(h){return h.g?h.g.readyState:0}t.ca=function(){try{return rn(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),pn(v)}};function ha(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function fa(h){const v={};h=(h.g&&rn(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<h.length;S++){if(P(h[S]))continue;var E=Zd(h[S]);const G=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Q=v[G]||[];v[G]=Q,Q.push(E)}D(v,function(S){return S.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function da(h,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||v}function uo(h){this.za=0,this.i=[],this.j=new Gs,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=da("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=da("baseRetryDelayMs",5e3,h),this.Za=da("retryDelaySeedMs",1e4,h),this.Ta=da("forwardChannelMaxRetries",2,h),this.va=da("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new na(h&&h.concurrentRequestLimit),this.Ba=new Qu,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=uo.prototype,t.ka=8,t.I=1,t.connect=function(h,v,E,S){wt(0),this.W=h,this.H=v||{},E&&S!==void 0&&(this.H.OSID=E,this.H.OAID=S),this.F=this.X,this.J=ih(this,null,this.W),ga(this)};function ma(h){if(pa(h),h.I==3){var v=h.V++,E=mt(h.J);if(Ze(E,"SID",h.M),Ze(E,"RID",v),Ze(E,"TYPE","terminate"),ya(h,E),v=new hi(h,h.j,v),v.M=2,v.A=ls(mt(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(v.A.toString(),"")}catch{}!E&&u.Image&&(new Image().src=v.A,E=!0),E||(v.g=mo(v.j,null),v.g.ea(v.A)),v.F=Date.now(),ea(v)}nh(h)}function Li(h){h.g&&(Kl(h),h.g.cancel(),h.g=null)}function pa(h){Li(h),h.v&&(u.clearTimeout(h.v),h.v=null),fo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function ga(h){if(!ia(h.h)&&!h.m){h.m=!0;var v=h.Ea;J||x(),ie||(J(),ie=!0),I.add(v,h),h.D=0}}function tm(h,v){return Hn(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Hs(p(h.Ea,h,v),th(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const G=new hi(this,this.j,h);let Q=this.o;if(this.U&&(Q?(Q=W(Q),he(Q,this.U)):Q=this.U),this.u!==null||this.R||(G.J=Q,Q=null),this.S)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var S=this.i[E];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(v+=S,v>4096){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=ho(this,G,v),E=mt(this.J),Ze(E,"RID",h),Ze(E,"CVER",22),this.G&&Ze(E,"X-HTTP-Session-Id",this.G),ya(this,E),Q&&(this.R?v="headers="+Jr(er(Q))+"&"+v:this.u&&$n(E,this.u,Q)),ro(this.h,G),this.Ra&&Ze(E,"TYPE","init"),this.S?(Ze(E,"$req",v),Ze(E,"SID","null"),G.U=!0,Mi(G,E,null)):Mi(G,E,v),this.I=2}}else this.I==3&&(h?Zu(this,h):this.i.length==0||ia(this.h)||Zu(this))};function Zu(h,v){var E;v?E=v.l:E=h.V++;const S=mt(h.J);Ze(S,"SID",h.M),Ze(S,"RID",E),Ze(S,"AID",h.K),ya(h,S),h.u&&h.o&&$n(S,h.u,h.o),E=new hi(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),v&&(h.i=v.G.concat(h.i)),v=ho(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),ro(h.h,E),Mi(E,S,v)}function ya(h,v){h.H&&Ce(h.H,function(E,S){Ze(v,S,E)}),h.l&&Ce({},function(E,S){Ze(v,S,E)})}function ho(h,v,E){E=Math.min(h.i.length,E);const S=h.l?p(h.l.Ka,h.l,h):null;e:{var G=h.i;let Ie=-1;for(;;){const ct=["count="+E];Ie==-1?E>0?(Ie=G[0].g,ct.push("ofs="+Ie)):Ie=0:ct.push("ofs="+Ie);let Xe=!0;for(let St=0;St<E;St++){var Q=G[St].g;const Nn=G[St].map;if(Q-=Ie,Q<0)Ie=Math.max(0,G[St].g-100),Xe=!1;else try{Q="req"+Q+"_"||"";try{var ce=Nn instanceof Map?Nn:Object.entries(Nn);for(const[ji,mi]of ce){let pi=mi;f(mi)&&(pi=zn(mi)),ct.push(Q+ji+"="+encodeURIComponent(pi))}}catch(ji){throw ct.push(Q+"type="+encodeURIComponent("_badmap")),ji}}catch{S&&S(Nn)}}if(Xe){ce=ct.join("&");break e}}ce=void 0}return h=h.i.splice(0,E),v.G=h,ce}function Ju(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;J||x(),ie||(J(),ie=!0),I.add(v,h),h.A=0}}function $l(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Hs(p(h.Da,h),th(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,eh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Hs(p(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,wt(10),Li(this),eh(this))};function Kl(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function eh(h){h.g=new hi(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=mt(h.na);Ze(v,"RID","rpc"),Ze(v,"SID",h.M),Ze(v,"AID",h.K),Ze(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&Ze(v,"TO",h.ia),Ze(v,"TYPE","xmlhttp"),ya(h,v),h.u&&h.o&&$n(v,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=ls(mt(v)),E.u=null,E.R=!0,Ks(E,h)}t.Va=function(){this.C!=null&&(this.C=null,Li(this),$l(this),wt(19))};function fo(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function Yl(h,v){var E=null;if(h.g==v){fo(h),Kl(h),h.g=null;var S=2}else if(sa(h.h,v))E=v.G,os(h.h,v),S=1;else return;if(h.I!=0){if(v.o)if(S==1){E=v.u?v.u.length:0,v=Date.now()-v.F;var G=h.D;S=to(),qt(S,new Hu(S,E)),ga(h)}else Ju(h);else if(G=v.m,G==3||G==0&&v.X>0||!(S==1&&tm(h,v)||S==2&&$l(h)))switch(E&&E.length>0&&(v=h.h,v.i=v.i.concat(E)),G){case 1:hs(h,5);break;case 4:hs(h,10);break;case 3:hs(h,6);break;default:hs(h,2)}}}function th(h,v){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*v}function hs(h,v){if(h.j.info("Error code "+v),v==2){var E=p(h.bb,h),S=h.Ua;const G=!S;S=new fi(S||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Xs(S,"https"),ls(S),G?Hl(S.toString(),E):Zs(S.toString(),E)}else wt(2);h.I=0,h.l&&h.l.pa(v),nh(h),pa(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function nh(h){if(h.I=0,h.ja=[],h.l){const v=ao(h.h);(v.length!=0||h.i.length!=0)&&(k(h.ja,v),k(h.ja,h.i),h.h.i.length=0,R(h.i),h.i.length=0),h.l.oa()}}function ih(h,v,E){var S=E instanceof fi?mt(E):new fi(E);if(S.g!="")v&&(S.g=v+"."+S.g),ra(S,S.u);else{var G=u.location;S=G.protocol,v=v?v+"."+G.hostname:G.hostname,G=+G.port;const Q=new fi(null);S&&Xs(Q,S),v&&(Q.g=v),G&&ra(Q,G),E&&(Q.h=E),S=Q}return E=h.G,v=h.wa,E&&v&&Ze(S,E,v),Ze(S,"VER",h.ka),ya(h,S),S}function mo(h,v,E){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new at(new oa({ab:E})):new at(h.ma),v.Fa(h.L),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function sh(){}t=sh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function po(){}po.prototype.g=function(h,v){return new vn(h,v)};function vn(h,v){Lt.call(this),this.g=new uo(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!P(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!P(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new tr(this)}T(vn,Lt),vn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){ma(this.g)},vn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=zn(h),h=E);v.i.push(new Jd(v.Ya++,h)),v.I==3&&ga(v)},vn.prototype.N=function(){this.g.l=null,delete this.j,ma(this.g),delete this.g,vn.Z.N.call(this)};function Xl(h){Fs.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const E in v){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}T(Xl,Fs);function rh(){ui.call(this),this.status=1}T(rh,ui);function tr(h){this.g=h}T(tr,sh),tr.prototype.ra=function(){qt(this.g,"a")},tr.prototype.qa=function(h){qt(this.g,new Xl(h))},tr.prototype.pa=function(h){qt(this.g,new rh)},tr.prototype.oa=function(){qt(this.g,"b")},po.prototype.createWebChannel=po.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,VS=function(){return new po},kS=function(){return to()},MS=qn,zg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},bt.NO_ERROR=0,bt.TIMEOUT=8,bt.HTTP_ERROR=6,Sf=bt,Xt.COMPLETE="complete",PS=Xt,qu.EventType=Ni,Ni.OPEN="a",Ni.CLOSE="b",Ni.ERROR="c",Ni.MESSAGE="d",Lt.prototype.listen=Lt.prototype.J,Gc=qu,at.prototype.listenOnce=at.prototype.K,at.prototype.getLastError=at.prototype.Ha,at.prototype.getLastErrorCode=at.prototype.ya,at.prototype.getStatus=at.prototype.ca,at.prototype.getResponseJson=at.prototype.La,at.prototype.getResponseText=at.prototype.la,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Fa,DS=at}).apply(typeof cf<"u"?cf:typeof self<"u"?self:typeof window<"u"?window:{});const Dw="@firebase/firestore",Pw="4.9.2";class un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");let xl="12.3.0";const Xa=new md("@firebase/firestore");function Ho(){return Xa.logLevel}function de(t,...e){if(Xa.logLevel<=je.DEBUG){const n=e.map(Jy);Xa.debug(`Firestore (${xl}): ${t}`,...n)}}function Ms(t,...e){if(Xa.logLevel<=je.ERROR){const n=e.map(Jy);Xa.error(`Firestore (${xl}): ${t}`,...n)}}function fl(t,...e){if(Xa.logLevel<=je.WARN){const n=e.map(Jy);Xa.warn(`Firestore (${xl}): ${t}`,...n)}}function Jy(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Ae(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,OS(t,s,n)}function OS(t,e,n){let s=`FIRESTORE (${xl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ms(s),new Error(s)}function Ye(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||OS(e,a,s)}function Ne(t,e){return t}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Ii{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Is{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class LS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class RO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(un.UNAUTHENTICATED)))}shutdown(){}}class CO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class IO{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new Is;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Is,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},f=m=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Is)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ye(typeof s.accessToken=="string",31837,{l:s}),new LS(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new un(e)}}class NO{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class DO{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new NO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(un.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Mw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PO{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,jn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0,3512);const s=l=>{l.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,de("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Mw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Mw(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function MO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}class ev{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=MO(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function Ue(t,e){return t<e?-1:t>e?1:0}function qg(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return ug(a)===ug(l)?Ue(a,l):ug(a)?1:-1}return Ue(t.length,e.length)}const kO=55296,VO=57343;function ug(t){const e=t.charCodeAt(0);return e>=kO&&e<=VO}function dl(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}const kw="__name__";class Hi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ae(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ae(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Hi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Hi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=Hi.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Ue(e.length,n.length)}static compareSegments(e,n){const s=Hi.isNumericId(e),a=Hi.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Hi.extractNumericId(e).compare(Hi.extractNumericId(n)):qg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return kr.fromString(e.substring(4,e.length-2))}}class lt extends Hi{construct(e,n,s){return new lt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new fe(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new lt(n)}static emptyPath(){return new lt([])}}const OO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Hi{construct(e,n,s){return new tn(e,n,s)}static isValidIdentifier(e){return OO.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===kw}static keyField(){return new tn([kw])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new fe(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let u=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new fe(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new fe(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else f==="`"?(u=!u,a++):f!=="."||u?(s+=f,a++):(l(),a++)}if(l(),u)throw new fe(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(n)}static emptyPath(){return new tn([])}}class _e{constructor(e){this.path=e}static fromPath(e){return new _e(lt.fromString(e))}static fromName(e){return new _e(lt.fromString(e).popFirst(5))}static empty(){return new _e(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new lt(e.slice()))}}function jS(t,e,n){if(!n)throw new fe(ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function LO(t,e,n,s){if(e===!0&&s===!0)throw new fe(ne.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Vw(t){if(!_e.isDocumentKey(t))throw new fe(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Ow(t){if(_e.isDocumentKey(t))throw new fe(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function US(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Ed(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ae(12329,{type:typeof t})}function In(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ed(t);throw new fe(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Vt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Du(t,e){if(!US(t))throw new fe(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const u=t[s];if(a&&typeof u!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new fe(ne.INVALID_ARGUMENT,n);return!0}const Lw=-62135596800,jw=1e6;class ut{static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*jw);return new ut(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Lw)throw new fe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/jw}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ut._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Du(e,ut._jsonSchema))return new ut(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Lw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ut._jsonSchemaVersion="firestore/timestamp/1.0",ut._jsonSchema={type:Vt("string",ut._jsonSchemaVersion),seconds:Vt("number"),nanoseconds:Vt("number")};class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new ut(0,0))}static max(){return new Re(new ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const uu=-1;function jO(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Re.fromTimestamp(s===1e9?new ut(n+1,0):new ut(n,s));return new Lr(a,_e.empty(),e)}function UO(t){return new Lr(t.readTime,t.key,uu)}class Lr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Lr(Re.min(),_e.empty(),uu)}static max(){return new Lr(Re.max(),_e.empty(),uu)}}function BO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(t.documentKey,e.documentKey),n!==0?n:Ue(t.largestBatchId,e.largestBatchId))}const FO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Rl(t){if(t.code!==ne.FAILED_PRECONDITION||t.message!==FO)throw t;de("LocalStore","Unexpectedly lost primary lease")}class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):re.reject(n)}static resolve(e){return new re(((n,s)=>{n(e)}))}static reject(e){return new re(((n,s)=>{s(e)}))}static waitFor(e){return new re(((n,s)=>{let a=0,l=0,u=!1;e.forEach((f=>{++a,f.next((()=>{++l,u&&l===a&&n()}),(m=>s(m)))})),u=!0,l===a&&n()}))}static or(e){let n=re.resolve(!1);for(const s of e)n=n.next((a=>a?re.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new re(((s,a)=>{const l=e.length,u=new Array(l);let f=0;for(let m=0;m<l;m++){const p=m;n(e[p]).next((y=>{u[p]=y,++f,f===l&&s(u)}),(y=>a(y)))}}))}static doWhile(e,n){return new re(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function qO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Cl(t){return t.name==="IndexedDbTransactionError"}class wd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}wd.ce=-1;const tv=-1;function bd(t){return t==null}function Yf(t){return t===0&&1/t==-1/0}function HO(t){return typeof t=="number"&&Number.isInteger(t)&&!Yf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const BS="";function GO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Uw(e)),e=$O(t.get(n),e);return Uw(e)}function $O(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case BS:n+="";break;default:n+=l}}return n}function Uw(t){return t+BS+""}function Bw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Yr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function FS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class yt{constructor(e,n){this.comparator=e,this.root=n||en.EMPTY}insert(e,n){return new yt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uf(this.root,e,this.comparator,!1)}getReverseIterator(){return new uf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uf(this.root,e,this.comparator,!0)}}class uf{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??en.RED,this.left=a??en.EMPTY,this.right=l??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new en(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return en.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new en(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ft{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Fw(this.data.getIterator())}getIteratorFrom(e){return new Fw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ft(this.comparator);return n.data=e,n}}class Fw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Un{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new Un([])}unionWith(e){let n=new Ft(tn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Un(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return dl(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class zS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new zS("Invalid base64 string: "+l):l}})(e);return new nn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const KO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jr(t){if(Ye(!!t,39018),typeof t=="string"){let e=0;const n=KO.exec(t);if(Ye(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:It(t.seconds),nanos:It(t.nanos)}}function It(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ur(t){return typeof t=="string"?nn.fromBase64String(t):nn.fromUint8Array(t)}const qS="server_timestamp",HS="__type__",GS="__previous_value__",$S="__local_write_time__";function nv(t){return(t?.mapValue?.fields||{})[HS]?.stringValue===qS}function Ad(t){const e=t.mapValue.fields[GS];return nv(e)?Ad(e):e}function hu(t){const e=jr(t.mapValue.fields[$S].timestampValue);return new ut(e.seconds,e.nanos)}class YO{constructor(e,n,s,a,l,u,f,m,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y}}const Xf="(default)";class fu{constructor(e,n){this.projectId=e,this.database=n||Xf}static empty(){return new fu("","")}get isDefaultDatabase(){return this.database===Xf}isEqual(e){return e instanceof fu&&e.projectId===this.projectId&&e.database===this.database}}const KS="__type__",XO="__max__",hf={mapValue:{}},YS="__vector__",Qf="value";function Br(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?nv(t)?4:WO(t)?9007199254740991:QO(t)?10:11:Ae(28295,{value:t})}function es(t,e){if(t===e)return!0;const n=Br(t);if(n!==Br(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return hu(t).isEqual(hu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=jr(a.timestampValue),f=jr(l.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Ur(a.bytesValue).isEqual(Ur(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return It(a.geoPointValue.latitude)===It(l.geoPointValue.latitude)&&It(a.geoPointValue.longitude)===It(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return It(a.integerValue)===It(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=It(a.doubleValue),f=It(l.doubleValue);return u===f?Yf(u)===Yf(f):isNaN(u)&&isNaN(f)}return!1})(t,e);case 9:return dl(t.arrayValue.values||[],e.arrayValue.values||[],es);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},f=l.mapValue.fields||{};if(Bw(u)!==Bw(f))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(f[m]===void 0||!es(u[m],f[m])))return!1;return!0})(t,e);default:return Ae(52216,{left:t})}}function du(t,e){return(t.values||[]).find((n=>es(n,e)))!==void 0}function ml(t,e){if(t===e)return 0;const n=Br(t),s=Br(e);if(n!==s)return Ue(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const f=It(l.integerValue||l.doubleValue),m=It(u.integerValue||u.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1})(t,e);case 3:return zw(t.timestampValue,e.timestampValue);case 4:return zw(hu(t),hu(e));case 5:return qg(t.stringValue,e.stringValue);case 6:return(function(l,u){const f=Ur(l),m=Ur(u);return f.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const f=l.split("/"),m=u.split("/");for(let p=0;p<f.length&&p<m.length;p++){const y=Ue(f[p],m[p]);if(y!==0)return y}return Ue(f.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const f=Ue(It(l.latitude),It(u.latitude));return f!==0?f:Ue(It(l.longitude),It(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return qw(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const f=l.fields||{},m=u.fields||{},p=f[Qf]?.arrayValue,y=m[Qf]?.arrayValue,T=Ue(p?.values?.length||0,y?.values?.length||0);return T!==0?T:qw(p,y)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===hf.mapValue&&u===hf.mapValue)return 0;if(l===hf.mapValue)return 1;if(u===hf.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),p=u.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let T=0;T<m.length&&T<y.length;++T){const b=qg(m[T],y[T]);if(b!==0)return b;const R=ml(f[m[T]],p[y[T]]);if(R!==0)return R}return Ue(m.length,y.length)})(t.mapValue,e.mapValue);default:throw Ae(23264,{he:n})}}function zw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ue(t,e);const n=jr(t),s=jr(e),a=Ue(n.seconds,s.seconds);return a!==0?a:Ue(n.nanos,s.nanos)}function qw(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=ml(n[a],s[a]);if(l)return l}return Ue(n.length,s.length)}function pl(t){return Hg(t)}function Hg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=jr(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Ur(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return _e.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=Hg(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of s)l?l=!1:a+=",",a+=`${u}:${Hg(n.fields[u])}`;return a+"}"})(t.mapValue):Ae(61005,{value:t})}function xf(t){switch(Br(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ad(t);return e?16+xf(e):16;case 5:return 2*t.stringValue.length;case 6:return Ur(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+xf(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return Yr(s.fields,((l,u)=>{a+=l.length+xf(u)})),a})(t.mapValue);default:throw Ae(13486,{value:t})}}function Hw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Gg(t){return!!t&&"integerValue"in t}function iv(t){return!!t&&"arrayValue"in t}function Gw(t){return!!t&&"nullValue"in t}function $w(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Rf(t){return!!t&&"mapValue"in t}function QO(t){return(t?.mapValue?.fields||{})[KS]?.stringValue===YS}function Zc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Yr(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Zc(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zc(t.arrayValue.values[n]);return e}return{...t}}function WO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===XO}class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Rf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zc(n)}setAll(e){let n=tn.emptyPath(),s={},a=[];e.forEach(((u,f)=>{if(!n.isImmediateParentOf(f)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=f.popLast()}u?s[f.lastSegment()]=Zc(u):a.push(f.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());Rf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return es(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Rf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Yr(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new xn(Zc(this.value))}}function XS(t){const e=[];return Yr(t.fields,((n,s)=>{const a=new tn([n]);if(Rf(s)){const l=XS(s.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new Un(e)}class hn{constructor(e,n,s,a,l,u,f){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=u,this.documentState=f}static newInvalidDocument(e){return new hn(e,0,Re.min(),Re.min(),Re.min(),xn.empty(),0)}static newFoundDocument(e,n,s,a){return new hn(e,1,n,Re.min(),s,a,0)}static newNoDocument(e,n){return new hn(e,2,n,Re.min(),Re.min(),xn.empty(),0)}static newUnknownDocument(e,n){return new hn(e,3,n,Re.min(),Re.min(),xn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wf{constructor(e,n){this.position=e,this.inclusive=n}}function Kw(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?s=_e.comparator(_e.fromName(u.referenceValue),n.key):s=ml(u,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function Yw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!es(t.position[n],e.position[n]))return!1;return!0}class mu{constructor(e,n="asc"){this.field=e,this.dir=n}}function ZO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class QS{}class kt extends QS{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new e4(e,n,s):n==="array-contains"?new i4(e,s):n==="in"?new s4(e,s):n==="not-in"?new r4(e,s):n==="array-contains-any"?new a4(e,s):new kt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new t4(e,s):new n4(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ml(n,this.value)):n!==null&&Br(this.value)===Br(n)&&this.matchesComparison(ml(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xi extends QS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new xi(e,n)}matches(e){return WS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function WS(t){return t.op==="and"}function ZS(t){return JO(t)&&WS(t)}function JO(t){for(const e of t.filters)if(e instanceof xi)return!1;return!0}function $g(t){if(t instanceof kt)return t.field.canonicalString()+t.op.toString()+pl(t.value);if(ZS(t))return t.filters.map((e=>$g(e))).join(",");{const e=t.filters.map((n=>$g(n))).join(",");return`${t.op}(${e})`}}function JS(t,e){return t instanceof kt?(function(s,a){return a instanceof kt&&s.op===a.op&&s.field.isEqual(a.field)&&es(s.value,a.value)})(t,e):t instanceof xi?(function(s,a){return a instanceof xi&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,u,f)=>l&&JS(u,a.filters[f])),!0):!1})(t,e):void Ae(19439)}function ex(t){return t instanceof kt?(function(n){return`${n.field.canonicalString()} ${n.op} ${pl(n.value)}`})(t):t instanceof xi?(function(n){return n.op.toString()+" {"+n.getFilters().map(ex).join(" ,")+"}"})(t):"Filter"}class e4 extends kt{constructor(e,n,s){super(e,n,s),this.key=_e.fromName(s.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class t4 extends kt{constructor(e,n){super(e,"in",n),this.keys=tx("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class n4 extends kt{constructor(e,n){super(e,"not-in",n),this.keys=tx("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function tx(t,e){return(e.arrayValue?.values||[]).map((n=>_e.fromName(n.referenceValue)))}class i4 extends kt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return iv(n)&&du(n.arrayValue,this.value)}}class s4 extends kt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&du(this.value.arrayValue,n)}}class r4 extends kt{constructor(e,n){super(e,"not-in",n)}matches(e){if(du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!du(this.value.arrayValue,n)}}class a4 extends kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!iv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>du(this.value.arrayValue,s)))}}class o4{constructor(e,n=null,s=[],a=[],l=null,u=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=u,this.endAt=f,this.Te=null}}function Xw(t,e=null,n=[],s=[],a=null,l=null,u=null){return new o4(t,e,n,s,a,l,u)}function sv(t){const e=Ne(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>$g(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),bd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>pl(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>pl(s))).join(",")),e.Te=n}return e.Te}function rv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ZO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!JS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Yw(t.startAt,e.startAt)&&Yw(t.endAt,e.endAt)}function Kg(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Il{constructor(e,n=null,s=[],a=[],l=null,u="F",f=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function l4(t,e,n,s,a,l,u,f){return new Il(t,e,n,s,a,l,u,f)}function Sd(t){return new Il(t)}function Qw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function nx(t){return t.collectionGroup!==null}function Jc(t){const e=Ne(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new Ft(tn.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(f=f.add(p.field))}))})),f})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new mu(l,s))})),n.has(tn.keyField().canonicalString())||e.Ie.push(new mu(tn.keyField(),s))}return e.Ie}function Ki(t){const e=Ne(t);return e.Ee||(e.Ee=c4(e,Jc(t))),e.Ee}function c4(t,e){if(t.limitType==="F")return Xw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new mu(a.field,l)}));const n=t.endAt?new Wf(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Wf(t.startAt.position,t.startAt.inclusive):null;return Xw(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function Yg(t,e){const n=t.filters.concat([e]);return new Il(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Zf(t,e,n){return new Il(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xd(t,e){return rv(Ki(t),Ki(e))&&t.limitType===e.limitType}function ix(t){return`${sv(Ki(t))}|lt:${t.limitType}`}function Go(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>ex(a))).join(", ")}]`),bd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>pl(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>pl(a))).join(",")),`Target(${s})`})(Ki(t))}; limitType=${t.limitType})`}function Rd(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):_e.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of Jc(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(u,f,m){const p=Kw(u,f,m);return u.inclusive?p<=0:p<0})(s.startAt,Jc(s),a)||s.endAt&&!(function(u,f,m){const p=Kw(u,f,m);return u.inclusive?p>=0:p>0})(s.endAt,Jc(s),a))})(t,e)}function u4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function sx(t){return(e,n)=>{let s=!1;for(const a of Jc(t)){const l=h4(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function h4(t,e,n){const s=t.field.isKeyField()?_e.comparator(e.key,n.key):(function(l,u,f){const m=u.data.field(l),p=f.data.field(l);return m!==null&&p!==null?ml(m,p):Ae(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Ae(19790,{direction:t.dir})}}class Ja{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Yr(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return FS(this.inner)}size(){return this.innerSize}}const f4=new yt(_e.comparator);function ks(){return f4}const rx=new yt(_e.comparator);function $c(...t){let e=rx;for(const n of t)e=e.insert(n.key,n);return e}function ax(t){let e=rx;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ja(){return eu()}function ox(){return eu()}function eu(){return new Ja((t=>t.toString()),((t,e)=>t.isEqual(e)))}const d4=new yt(_e.comparator),m4=new Ft(_e.comparator);function Be(...t){let e=m4;for(const n of t)e=e.add(n);return e}const p4=new Ft(Ue);function g4(){return p4}function av(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yf(e)?"-0":e}}function lx(t){return{integerValue:""+t}}function y4(t,e){return HO(e)?lx(e):av(t,e)}class Cd{constructor(){this._=void 0}}function v4(t,e,n){return t instanceof pu?(function(a,l){const u={fields:{[HS]:{stringValue:qS},[$S]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&nv(l)&&(l=Ad(l)),l&&(u.fields[GS]=l),{mapValue:u}})(n,e):t instanceof gu?ux(t,e):t instanceof yu?hx(t,e):(function(a,l){const u=cx(a,l),f=Ww(u)+Ww(a.Ae);return Gg(u)&&Gg(a.Ae)?lx(f):av(a.serializer,f)})(t,e)}function _4(t,e,n){return t instanceof gu?ux(t,e):t instanceof yu?hx(t,e):n}function cx(t,e){return t instanceof Jf?(function(s){return Gg(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class pu extends Cd{}class gu extends Cd{constructor(e){super(),this.elements=e}}function ux(t,e){const n=fx(e);for(const s of t.elements)n.some((a=>es(a,s)))||n.push(s);return{arrayValue:{values:n}}}class yu extends Cd{constructor(e){super(),this.elements=e}}function hx(t,e){let n=fx(e);for(const s of t.elements)n=n.filter((a=>!es(a,s)));return{arrayValue:{values:n}}}class Jf extends Cd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Ww(t){return It(t.integerValue||t.doubleValue)}function fx(t){return iv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class T4{constructor(e,n){this.field=e,this.transform=n}}function E4(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof gu&&a instanceof gu||s instanceof yu&&a instanceof yu?dl(s.elements,a.elements,es):s instanceof Jf&&a instanceof Jf?es(s.Ae,a.Ae):s instanceof pu&&a instanceof pu})(t.transform,e.transform)}class w4{constructor(e,n){this.version=e,this.transformResults=n}}class si{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new si}static exists(e){return new si(void 0,e)}static updateTime(e){return new si(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Id{}function dx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ov(t.key,si.none()):new Pu(t.key,t.data,si.none());{const n=t.data,s=xn.empty();let a=new Ft(tn.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?s.delete(l):s.set(l,u),a=a.add(l)}return new Xr(t.key,s,new Un(a.toArray()),si.none())}}function b4(t,e,n){t instanceof Pu?(function(a,l,u){const f=a.value.clone(),m=Jw(a.fieldTransforms,l,u.transformResults);f.setAll(m),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(t,e,n):t instanceof Xr?(function(a,l,u){if(!Cf(a.precondition,l))return void l.convertToUnknownDocument(u.version);const f=Jw(a.fieldTransforms,l,u.transformResults),m=l.data;m.setAll(mx(a)),m.setAll(f),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function tu(t,e,n,s){return t instanceof Pu?(function(l,u,f,m){if(!Cf(l.precondition,u))return f;const p=l.value.clone(),y=eb(l.fieldTransforms,m,u);return p.setAll(y),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(t,e,n,s):t instanceof Xr?(function(l,u,f,m){if(!Cf(l.precondition,u))return f;const p=eb(l.fieldTransforms,m,u),y=u.data;return y.setAll(mx(l)),y.setAll(p),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((T=>T.field)))})(t,e,n,s):(function(l,u,f){return Cf(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f})(t,e,n)}function A4(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=cx(s.transform,a||null);l!=null&&(n===null&&(n=xn.empty()),n.set(s.field,l))}return n||null}function Zw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&dl(s,a,((l,u)=>E4(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Pu extends Id{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Xr extends Id{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function mx(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function Jw(t,e,n){const s=new Map;Ye(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,f=e.data.field(l.field);s.set(l.field,_4(u,f,n[a]))}return s}function eb(t,e,n){const s=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);s.set(a.field,v4(l,u,e))}return s}class ov extends Id{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class S4 extends Id{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class x4{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&b4(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=tu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=tu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=ox();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let f=this.applyToLocalView(u,l.mutatedFields);f=n.has(a.key)?null:f;const m=dx(u,f);m!==null&&s.set(a.key,m),u.isValidDocument()||u.convertToNoDocument(Re.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Be())}isEqual(e){return this.batchId===e.batchId&&dl(this.mutations,e.mutations,((n,s)=>Zw(n,s)))&&dl(this.baseMutations,e.baseMutations,((n,s)=>Zw(n,s)))}}class lv{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){Ye(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return d4})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,s[u].version);return new lv(e,n,s,a)}}class R4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class C4{constructor(e,n){this.count=e,this.unchangedNames=n}}var Pt,ze;function I4(t){switch(t){case ne.OK:return Ae(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Ae(15467,{code:t})}}function px(t){if(t===void 0)return Ms("GRPC error has no .code"),ne.UNKNOWN;switch(t){case Pt.OK:return ne.OK;case Pt.CANCELLED:return ne.CANCELLED;case Pt.UNKNOWN:return ne.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return ne.INTERNAL;case Pt.UNAVAILABLE:return ne.UNAVAILABLE;case Pt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Pt.NOT_FOUND:return ne.NOT_FOUND;case Pt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Pt.ABORTED:return ne.ABORTED;case Pt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Pt.DATA_LOSS:return ne.DATA_LOSS;default:return Ae(39323,{code:t})}}(ze=Pt||(Pt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";function N4(){return new TextEncoder}const D4=new kr([4294967295,4294967295],0);function tb(t){const e=N4().encode(t),n=new NS;return n.update(e),new Uint8Array(n.digest())}function nb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new kr([n,s],0),new kr([a,l],0)]}class cv{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Kc(`Invalid padding: ${n}`);if(s<0)throw new Kc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Kc(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Kc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=kr.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(kr.fromNumber(s)));return a.compare(D4)===1&&(a=new kr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=tb(e),[s,a]=nb(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);if(!this.we(u))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new cv(l,a,n);return s.forEach((f=>u.insert(f))),u}insert(e){if(this.ge===0)return;const n=tb(e),[s,a]=nb(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);this.Se(u)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Kc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Nd{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Mu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Nd(Re.min(),a,new yt(Ue),ks(),Be())}}class Mu{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Mu(s,n,Be(),Be(),Be())}}class If{constructor(e,n,s,a){this.be=e,this.removedTargetIds=n,this.key=s,this.De=a}}class gx{constructor(e,n){this.targetId=e,this.Ce=n}}class yx{constructor(e,n,s=nn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class ib{constructor(){this.ve=0,this.Fe=sb(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),n=Be(),s=Be();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Ae(38017,{changeType:l})}})),new Mu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=sb()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class P4{constructor(e){this.Ge=e,this.ze=new Map,this.je=ks(),this.Je=ff(),this.He=ff(),this.Ye=new yt(Ue)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Kg(l))if(s===0){const u=new _e(l.path);this.et(n,u,hn.newNoDocument(u,Re.min()))}else Ye(s===1,20013,{expectedCount:s});else{const u=this._t(n);if(u!==s){const f=this.ut(e),m=f?this.ct(f,e,u):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let u,f;try{u=Ur(s).toUint8Array()}catch(m){if(m instanceof zS)return fl("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new cv(u,a,l)}catch(m){return fl(m instanceof Kc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.ge===0?null:f}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const u=this.Ge.ht(),f=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const f=this.ot(u);if(f){if(l.current&&Kg(f.target)){const m=new _e(f.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,hn.newNoDocument(m,e))}l.Be&&(n.set(u,l.ke()),l.qe())}}));let s=Be();this.He.forEach(((l,u)=>{let f=!0;u.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(s=s.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new Nd(e,n,this.Ye,this.je,s);return this.je=ks(),this.Je=ff(),this.He=ff(),this.Ye=new yt(Ue),a}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new ib,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ft(Ue),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ft(Ue),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ib),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ff(){return new yt(_e.comparator)}function sb(){return new yt(_e.comparator)}const M4={asc:"ASCENDING",desc:"DESCENDING"},k4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},V4={and:"AND",or:"OR"};class O4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Xg(t,e){return t.useProto3Json||bd(e)?e:{value:e}}function ed(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vx(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function L4(t,e){return ed(t,e.toTimestamp())}function Yi(t){return Ye(!!t,49232),Re.fromTimestamp((function(n){const s=jr(n);return new ut(s.seconds,s.nanos)})(t))}function uv(t,e){return Qg(t,e).canonicalString()}function Qg(t,e){const n=(function(a){return new lt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function _x(t){const e=lt.fromString(t);return Ye(Ax(e),10190,{key:e.toString()}),e}function Wg(t,e){return uv(t.databaseId,e.path)}function hg(t,e){const n=_x(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e(Ex(n))}function Tx(t,e){return uv(t.databaseId,e)}function j4(t){const e=_x(t);return e.length===4?lt.emptyPath():Ex(e)}function Zg(t){return new lt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ex(t){return Ye(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function rb(t,e,n){return{name:Wg(t,e),fields:n.value.mapValue.fields}}function U4(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ae(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(Ye(y===void 0||typeof y=="string",58123),nn.fromBase64String(y||"")):(Ye(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),nn.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&(function(p){const y=p.code===void 0?ne.UNKNOWN:px(p.code);return new fe(y,p.message||"")})(u);n=new yx(s,a,l,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=hg(t,s.document.name),l=Yi(s.document.updateTime),u=s.document.createTime?Yi(s.document.createTime):Re.min(),f=new xn({mapValue:{fields:s.document.fields}}),m=hn.newFoundDocument(a,l,u,f),p=s.targetIds||[],y=s.removedTargetIds||[];n=new If(p,y,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=hg(t,s.document),l=s.readTime?Yi(s.readTime):Re.min(),u=hn.newNoDocument(a,l),f=s.removedTargetIds||[];n=new If([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=hg(t,s.document),l=s.removedTargetIds||[];n=new If([],l,a,null)}else{if(!("filter"in e))return Ae(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,u=new C4(a,l),f=s.targetId;n=new gx(f,u)}}return n}function B4(t,e){let n;if(e instanceof Pu)n={update:rb(t,e.key,e.value)};else if(e instanceof ov)n={delete:Wg(t,e.key)};else if(e instanceof Xr)n={update:rb(t,e.key,e.data),updateMask:X4(e.fieldMask)};else{if(!(e instanceof S4))return Ae(16599,{Vt:e.type});n={verify:Wg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,u){const f=u.transform;if(f instanceof pu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof gu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof yu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Jf)return{fieldPath:u.field.canonicalString(),increment:f.Ae};throw Ae(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:L4(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ae(27497)})(t,e.precondition)),n}function F4(t,e){return t&&t.length>0?(Ye(e!==void 0,14353),t.map((n=>(function(a,l){let u=a.updateTime?Yi(a.updateTime):Yi(l);return u.isEqual(Re.min())&&(u=Yi(l)),new w4(u,a.transformResults||[])})(n,e)))):[]}function z4(t,e){return{documents:[Tx(t,e.path)]}}function q4(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Tx(t,a);const l=(function(p){if(p.length!==0)return bx(xi.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(p){if(p.length!==0)return p.map((y=>(function(b){return{field:$o(b.field),direction:$4(b.dir)}})(y)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const f=Xg(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function H4(t){let e=j4(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Ye(s===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=(function(T){const b=wx(T);return b instanceof xi&&ZS(b)?b.getFilters():[b]})(n.where));let u=[];n.orderBy&&(u=(function(T){return T.map((b=>(function(k){return new mu(Ko(k.field),(function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(b)))})(n.orderBy));let f=null;n.limit&&(f=(function(T){let b;return b=typeof T=="object"?T.value:T,bd(b)?null:b})(n.limit));let m=null;n.startAt&&(m=(function(T){const b=!!T.before,R=T.values||[];return new Wf(R,b)})(n.startAt));let p=null;return n.endAt&&(p=(function(T){const b=!T.before,R=T.values||[];return new Wf(R,b)})(n.endAt)),l4(e,a,u,l,f,"F",m,p)}function G4(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function wx(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ko(n.unaryFilter.field);return kt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Ko(n.unaryFilter.field);return kt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ko(n.unaryFilter.field);return kt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ko(n.unaryFilter.field);return kt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(t):t.fieldFilter!==void 0?(function(n){return kt.create(Ko(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return xi.create(n.compositeFilter.filters.map((s=>wx(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(n.compositeFilter.op))})(t):Ae(30097,{filter:t})}function $4(t){return M4[t]}function K4(t){return k4[t]}function Y4(t){return V4[t]}function $o(t){return{fieldPath:t.canonicalString()}}function Ko(t){return tn.fromServerFormat(t.fieldPath)}function bx(t){return t instanceof kt?(function(n){if(n.op==="=="){if($w(n.value))return{unaryFilter:{field:$o(n.field),op:"IS_NAN"}};if(Gw(n.value))return{unaryFilter:{field:$o(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($w(n.value))return{unaryFilter:{field:$o(n.field),op:"IS_NOT_NAN"}};if(Gw(n.value))return{unaryFilter:{field:$o(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$o(n.field),op:K4(n.op),value:n.value}}})(t):t instanceof xi?(function(n){const s=n.getFilters().map((a=>bx(a)));return s.length===1?s[0]:{compositeFilter:{op:Y4(n.op),filters:s}}})(t):Ae(54877,{filter:t})}function X4(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Ax(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Nr{constructor(e,n,s,a,l=Re.min(),u=Re.min(),f=nn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new Nr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Q4{constructor(e){this.yt=e}}function W4(t){const e=H4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Zf(e,e.limit,"L"):e}class Z4{constructor(){this.Cn=new J4}addToCollectionParentIndex(e,n){return this.Cn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(Lr.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(Lr.min())}updateCollectionGroup(e,n,s){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class J4{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new Ft(lt.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Ft(lt.comparator)).toArray()}}const ab={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Sx=41943040;class Sn{static withCacheSize(e){return new Sn(e,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(Sx,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);class gl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new gl(0)}static cr(){return new gl(-1)}}const ob="LruGarbageCollector",eL=1048576;function lb([t,e],[n,s]){const a=Ue(t,n);return a===0?Ue(e,s):a}class tL{constructor(e){this.Ir=e,this.buffer=new Ft(lb),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();lb(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class nL{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(ob,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Cl(n)?de(ob,"Ignoring IndexedDB error during garbage collection: ",n):await Rl(n)}await this.Vr(3e5)}))}}class iL{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return re.resolve(wd.ce);const s=new tL(n);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(ab)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ab):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,a,l,u,f,m,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,u=Date.now(),this.nthSequenceNumber(e,a)))).next((T=>(s=T,f=Date.now(),this.removeTargets(e,s,n)))).next((T=>(l=T,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(p=Date.now(),Ho()<=je.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(f-u)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${T} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:T}))))}}function sL(t,e){return new iL(t,e)}class rL{constructor(){this.changes=new Ja((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?re.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class aL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class oL{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&tu(s.mutation,a,Un.empty(),ut.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Be()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Be()){const a=ja();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let u=$c();return l.forEach(((f,m)=>{u=u.insert(f,m.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const s=ja();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Be())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,f)=>{n.set(u,f)}))}))}computeViews(e,n,s,a){let l=ks();const u=eu(),f=(function(){return eu()})();return n.forEach(((m,p)=>{const y=s.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof Xr)?l=l.insert(p.key,p):y!==void 0?(u.set(p.key,y.mutation.getFieldMask()),tu(y.mutation,p,y.mutation.getFieldMask(),ut.now())):u.set(p.key,Un.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((p,y)=>u.set(p,y))),n.forEach(((p,y)=>f.set(p,new aL(y,u.get(p)??null)))),f)))}recalculateAndSaveOverlays(e,n){const s=eu();let a=new yt(((u,f)=>u-f)),l=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const f of u)f.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let y=s.get(m)||Un.empty();y=f.applyToLocalView(p,y),s.set(m,y);const T=(a.get(f.batchId)||Be()).add(m);a=a.insert(f.batchId,T)}))})).next((()=>{const u=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),p=m.key,y=m.value,T=ox();y.forEach((b=>{if(!l.has(b)){const R=dx(n.get(b),s.get(b));R!==null&&T.set(b,R),l=l.add(b)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,T))}return re.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return(function(u){return _e.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):nx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):re.resolve(ja());let f=uu,m=l;return u.next((p=>re.forEach(p,((y,T)=>(f<T.largestBatchId&&(f=T.largestBatchId),l.get(y)?re.resolve():this.remoteDocumentCache.getEntry(e,y).next((b=>{m=m.insert(y,b)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,m,p,Be()))).next((y=>({batchId:f,changes:ax(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next((s=>{let a=$c();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let u=$c();return this.indexManager.getCollectionParents(e,l).next((f=>re.forEach(f,(m=>{const p=(function(T,b){return new Il(b,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,s,a).next((y=>{y.forEach(((T,b)=>{u=u.insert(T,b)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((u=>{l.forEach(((m,p)=>{const y=p.getKey();u.get(y)===null&&(u=u.insert(y,hn.newInvalidDocument(y)))}));let f=$c();return u.forEach(((m,p)=>{const y=l.get(m);y!==void 0&&tu(y.mutation,p,Un.empty(),ut.now()),Rd(n,p)&&(f=f.insert(m,p))})),f}))}}class lL{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return re.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Yi(a.createTime)}})(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:W4(a.bundledQuery),readTime:Yi(a.readTime)}})(n)),re.resolve()}}class cL{constructor(){this.overlays=new yt(_e.comparator),this.qr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ja();return re.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.St(e,n,l)})),re.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),re.resolve()}getOverlaysForCollection(e,n,s){const a=ja(),l=n.length+1,u=new _e(n.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const m=f.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return re.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new yt(((p,y)=>p-y));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let y=l.get(p.largestBatchId);y===null&&(y=ja(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const f=ja(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,y)=>f.set(p,y))),!(f.size()>=a)););return re.resolve(f)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new R4(n,s));let l=this.qr.get(n);l===void 0&&(l=Be(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}class uL{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}class hv{constructor(){this.Qr=new Ft(Yt.$r),this.Ur=new Ft(Yt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Yt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Yt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new _e(new lt([])),s=new Yt(n,e),a=new Yt(n,e+1),l=[];return this.Ur.forEachInRange([s,a],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new _e(new lt([])),s=new Yt(n,e),a=new Yt(n,e+1);let l=Be();return this.Ur.forEachInRange([s,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new Yt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Yt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return _e.comparator(e.key,n.key)||Ue(e.Yr,n.Yr)}static Kr(e,n){return Ue(e.Yr,n.Yr)||_e.comparator(e.key,n.key)}}class hL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ft(Yt.$r)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new x4(l,n,s,a);this.mutationQueue.push(u);for(const f of a)this.Zr=this.Zr.add(new Yt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return re.resolve(u)}lookupMutationBatch(e,n){return re.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ei(s),l=a<0?0:a;return re.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?tv:this.tr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Yt(n,0),a=new Yt(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(u=>{const f=this.Xr(u.Yr);l.push(f)})),re.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ft(Ue);return n.forEach((a=>{const l=new Yt(a,0),u=new Yt(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(f=>{s=s.add(f.Yr)}))})),re.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;_e.isDocumentKey(l)||(l=l.child(""));const u=new Yt(new _e(l),0);let f=new Ft(Ue);return this.Zr.forEachWhile((m=>{const p=m.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(f=f.add(m.Yr)),!0)}),u),re.resolve(this.ti(f))}ti(e){const n=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){Ye(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return re.forEach(n.mutations,(a=>{const l=new Yt(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Yt(n,0),a=this.Zr.firstAfterOrEqual(s);return re.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class fL{constructor(e){this.ri=e,this.docs=(function(){return new yt(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,u=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return re.resolve(s?s.document.mutableCopy():hn.newInvalidDocument(n))}getEntries(e,n){let s=ks();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():hn.newInvalidDocument(a))})),re.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=ks();const u=n.path,f=new _e(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||BO(UO(y),s)<=0||(a.has(y.key)||Rd(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return re.resolve(l)}getAllFromCollectionGroup(e,n,s,a){Ae(9500)}ii(e,n){return re.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new dL(this)}getSize(e){return re.resolve(this.size)}}class dL extends rL{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),re.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class mL{constructor(e){this.persistence=e,this.si=new Ja((n=>sv(n)),rv),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new hv,this.targetCount=0,this.ai=gl.ur()}forEachTarget(e,n){return this.si.forEach(((s,a)=>n(a))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),re.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new gl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.Pr(n),re.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.si.forEach(((u,f)=>{f.sequenceNumber<=n&&s.get(f.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),re.waitFor(l).next((()=>a))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return re.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),re.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),re.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return re.resolve(s)}containsKey(e,n){return re.resolve(this._i.containsKey(n))}}class xx{constructor(e,n){this.ui={},this.overlays={},this.ci=new wd(0),this.li=!1,this.li=!0,this.hi=new uL,this.referenceDelegate=e(this),this.Pi=new mL(this),this.indexManager=new Z4,this.remoteDocumentCache=(function(a){return new fL(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new Q4(n),this.Ii=new lL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new cL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new hL(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){de("MemoryPersistence","Starting transaction:",e);const a=new pL(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return re.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class pL extends zO{constructor(e){super(),this.currentSequenceNumber=e}}class fv{constructor(e){this.persistence=e,this.Ri=new hv,this.Vi=null}static mi(e){return new fv(e)}get fi(){if(this.Vi)return this.Vi;throw Ae(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),re.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),re.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.fi,(s=>{const a=_e.fromPath(s);return this.gi(e,a).next((l=>{l||n.removeEntry(a,Re.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return re.or([()=>re.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class td{constructor(e,n){this.persistence=e,this.pi=new Ja((s=>GO(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=sL(this,n)}static mi(e,n){return new td(e,n)}Ei(){}di(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return re.forEach(this.pi,((s,a)=>this.br(e,s,a).next((l=>l?re.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,n).next((f=>{f||(s++,l.removeEntry(u,Re.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),re.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=xf(e.data.value)),n}br(e,n,s){return re.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return re.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class dv{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=a}static As(e,n){let s=Be(),a=Be();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new dv(e,n.fromCache,s,a)}}class gL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class yL{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return gD()?8:qO(dn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.ys(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,n,a,s).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new gL;return this.Ss(e,n,u).next((f=>{if(l.result=f,this.Vs)return this.bs(e,n,u,f.size)}))})).next((()=>l.result))}bs(e,n,s,a){return s.documentReadCount<this.fs?(Ho()<=je.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Go(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),re.resolve()):(Ho()<=je.DEBUG&&de("QueryEngine","Query:",Go(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(Ho()<=je.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Go(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ki(n))):re.resolve())}ys(e,n){if(Qw(n))return re.resolve(null);let s=Ki(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Zf(n,null,"F"),s=Ki(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const u=Be(...l);return this.ps.getDocuments(e,u).next((f=>this.indexManager.getMinOffset(e,s).next((m=>{const p=this.Ds(n,f);return this.Cs(n,p,u,m.readTime)?this.ys(e,Zf(n,null,"F")):this.vs(e,p,n,m)}))))})))))}ws(e,n,s,a){return Qw(n)||a.isEqual(Re.min())?re.resolve(null):this.ps.getDocuments(e,s).next((l=>{const u=this.Ds(n,l);return this.Cs(n,u,s,a)?re.resolve(null):(Ho()<=je.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Go(n)),this.vs(e,u,n,jO(a,uu)).next((f=>f)))}))}Ds(e,n){let s=new Ft(sx(e));return n.forEach(((a,l)=>{Rd(e,l)&&(s=s.add(l))})),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,s){return Ho()<=je.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Go(n)),this.ps.getDocumentsMatchingQuery(e,n,Lr.min(),s)}vs(e,n,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const mv="LocalStore",vL=3e8;class _L{constructor(e,n,s,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new yt(Ue),this.xs=new Ja((l=>sv(l)),rv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oL(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function TL(t,e,n,s){return new _L(t,e,n,s)}async function Rx(t,e){const n=Ne(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const u=[],f=[];let m=Be();for(const p of a){u.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){f.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(s,m).next((p=>({Ls:p,removedBatchIds:u,addedBatchIds:f})))}))}))}function EL(t,e){const n=Ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,m,p,y){const T=p.batch,b=T.keys();let R=re.resolve();return b.forEach((k=>{R=R.next((()=>y.getEntry(m,k))).next((U=>{const O=p.docVersions.get(k);Ye(O!==null,48541),U.version.compareTo(O)<0&&(T.applyToRemoteDocument(U,p),U.isValidDocument()&&(U.setReadTime(p.commitVersion),y.addEntry(U)))}))})),R.next((()=>f.mutationQueue.removeMutationBatch(m,T)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(f){let m=Be();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(m=m.add(f.batch.mutations[p].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function Cx(t){const e=Ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function wL(t,e){const n=Ne(t),s=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const f=[];e.targetChanges.forEach(((y,T)=>{const b=a.get(T);if(!b)return;f.push(n.Pi.removeMatchingKeys(l,y.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(l,y.addedDocuments,T))));let R=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?R=R.withResumeToken(nn.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):y.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(y.resumeToken,s)),a=a.insert(T,R),(function(U,O,z){return U.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=vL?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(b,R,y)&&f.push(n.Pi.updateTargetData(l,R))}));let m=ks(),p=Be();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),f.push(bL(l,u,e.documentUpdates).next((y=>{m=y.ks,p=y.qs}))),!s.isEqual(Re.min())){const y=n.Pi.getLastRemoteSnapshotVersion(l).next((T=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));f.push(y)}return re.waitFor(f).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(n.Ms=a,l)))}function bL(t,e,n){let s=Be(),a=Be();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let u=ks();return n.forEach(((f,m)=>{const p=l.get(f);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(Re.min())?(e.removeEntry(f,m.readTime),u=u.insert(f,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),u=u.insert(f,m)):de(mv,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",m.version)})),{ks:u,qs:a}}))}function AL(t,e){const n=Ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=tv),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function SL(t,e){const n=Ne(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,e).next((l=>l?(a=l,re.resolve(a)):n.Pi.allocateTargetId(s).next((u=>(a=new Nr(e,u,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Jg(t,e,n){const s=Ne(t),a=s.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(u=>s.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!Cl(u))throw u;de(mv,`Failed to update sequence numbers for target ${e}: ${u}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function cb(t,e,n){const s=Ne(t);let a=Re.min(),l=Be();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(m,p,y){const T=Ne(m),b=T.xs.get(y);return b!==void 0?re.resolve(T.Ms.get(b)):T.Pi.getTargetData(p,y)})(s,u,Ki(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(u,f.targetId).next((m=>{l=m}))})).next((()=>s.Fs.getDocumentsMatchingQuery(u,e,n?a:Re.min(),n?l:Be()))).next((f=>(xL(s,u4(e),f),{documents:f,Qs:l})))))}function xL(t,e,n){let s=t.Os.get(e)||Re.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Os.set(e,s)}class ub{constructor(){this.activeTargetIds=g4()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RL{constructor(){this.Mo=new ub,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ub,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class CL{Oo(e){}shutdown(){}}const hb="ConnectivityMonitor";class fb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(hb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(hb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let df=null;function ey(){return df===null?df=(function(){return 268435456+Math.round(2147483648*Math.random())})():df++,"0x"+df.toString(16)}const fg="RestConnection",IL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class NL{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===Xf?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,n,s,a,l){const u=ey(),f=this.zo(e,n.toUriEncodedString());de(fg,`Sending RPC '${e}' ${u}:`,f,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:p}=new URL(f),y=Wa(p);return this.Jo(e,f,m,s,y).then((T=>(de(fg,`Received RPC '${e}' ${u}: `,T),T)),(T=>{throw fl(fg,`RPC '${e}' ${u} failed with error: `,T,"url: ",f,"request:",s),T}))}Ho(e,n,s,a,l,u){return this.Go(e,n,s,a,l)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+xl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const s=IL[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class DL{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const ln="WebChannelConnection";class PL extends NL{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,l){const u=ey();return new Promise(((f,m)=>{const p=new DS;p.setWithCredentials(!0),p.listenOnce(PS.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Sf.NO_ERROR:const T=p.getResponseJson();de(ln,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(T)),f(T);break;case Sf.TIMEOUT:de(ln,`RPC '${e}' ${u} timed out`),m(new fe(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Sf.HTTP_ERROR:const b=p.getStatus();if(de(ln,`RPC '${e}' ${u} failed with status:`,b,"response text:",p.getResponseText()),b>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const k=R?.error;if(k&&k.status&&k.message){const U=(function(z){const q=z.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(q)>=0?q:ne.UNKNOWN})(k.status);m(new fe(U,k.message))}else m(new fe(ne.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new fe(ne.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{de(ln,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(a);de(ln,`RPC '${e}' ${u} sending request:`,a),p.send(n,"POST",y,s,15)}))}T_(e,n,s){const a=ey(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=VS(),f=kS(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const y=l.join("");de(ln,`Creating RPC '${e}' stream ${a}: ${y}`,m);const T=u.createWebChannel(y,m);this.I_(T);let b=!1,R=!1;const k=new DL({Yo:O=>{R?de(ln,`Not sending because RPC '${e}' stream ${a} is closed:`,O):(b||(de(ln,`Opening RPC '${e}' stream ${a} transport.`),T.open(),b=!0),de(ln,`RPC '${e}' stream ${a} sending:`,O),T.send(O))},Zo:()=>T.close()}),U=(O,z,q)=>{O.listen(z,($=>{try{q($)}catch(oe){setTimeout((()=>{throw oe}),0)}}))};return U(T,Gc.EventType.OPEN,(()=>{R||(de(ln,`RPC '${e}' stream ${a} transport opened.`),k.o_())})),U(T,Gc.EventType.CLOSE,(()=>{R||(R=!0,de(ln,`RPC '${e}' stream ${a} transport closed`),k.a_(),this.E_(T))})),U(T,Gc.EventType.ERROR,(O=>{R||(R=!0,fl(ln,`RPC '${e}' stream ${a} transport errored. Name:`,O.name,"Message:",O.message),k.a_(new fe(ne.UNAVAILABLE,"The operation could not be completed")))})),U(T,Gc.EventType.MESSAGE,(O=>{if(!R){const z=O.data[0];Ye(!!z,16349);const q=z,$=q?.error||q[0]?.error;if($){de(ln,`RPC '${e}' stream ${a} received error:`,$);const oe=$.status;let J=(function(x){const N=Pt[x];if(N!==void 0)return px(N)})(oe),ie=$.message;J===void 0&&(J=ne.INTERNAL,ie="Unknown error status: "+oe+" with message "+$.message),R=!0,k.a_(new fe(J,ie)),T.close()}else de(ln,`RPC '${e}' stream ${a} received:`,z),k.u_(z)}})),U(f,MS.STAT_EVENT,(O=>{O.stat===zg.PROXY?de(ln,`RPC '${e}' stream ${a} detected buffering proxy`):O.stat===zg.NOPROXY&&de(ln,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{k.__()}),0),k}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function dg(){return typeof document<"u"?document:null}function Dd(t){return new O4(t,!0)}class Ix{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&de("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const db="PersistentStream";class Nx{constructor(e,n,s,a,l,u,f,m){this.Mi=e,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Ix(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(Ms(n.toString()),Ms("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new fe(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(db,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(de(db,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ML extends Nx{constructor(e,n,s,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=U4(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Re.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Re.min():u.readTime?Yi(u.readTime):Re.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Zg(this.serializer),n.addTarget=(function(l,u){let f;const m=u.target;if(f=Kg(m)?{documents:z4(l,m)}:{query:q4(l,m).ft},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=vx(l,u.resumeToken);const p=Xg(l,u.expectedCount);p!==null&&(f.expectedCount=p)}else if(u.snapshotVersion.compareTo(Re.min())>0){f.readTime=ed(l,u.snapshotVersion.toTimestamp());const p=Xg(l,u.expectedCount);p!==null&&(f.expectedCount=p)}return f})(this.serializer,e);const s=G4(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Zg(this.serializer),n.removeTarget=e,this.q_(n)}}class kL extends Nx{constructor(e,n,s,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=F4(e.writeResults,e.commitTime),s=Yi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Zg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>B4(this.serializer,s)))};this.q_(n)}}class VL{}class OL extends VL{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new fe(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,Qg(n,s),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new fe(ne.UNKNOWN,l.toString())}))}Ho(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Ho(e,Qg(n,s),a,u,f,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(ne.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class LL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ms(n),this.aa=!1):de("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Qa="RemoteStore";class jL{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{s.enqueueAndForget((async()=>{eo(this)&&(de(Qa,"Restarting streams for network reachability change."),await(async function(m){const p=Ne(m);p.Ea.add(4),await ku(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Pd(p)})(this))}))})),this.Ra=new LL(s,a)}}async function Pd(t){if(eo(t))for(const e of t.da)await e(!0)}async function ku(t){for(const e of t.da)await e(!1)}function Dx(t,e){const n=Ne(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),vv(n)?yv(n):Nl(n).O_()&&gv(n,e))}function pv(t,e){const n=Ne(t),s=Nl(n);n.Ia.delete(e),s.O_()&&Px(n,e),n.Ia.size===0&&(s.O_()?s.L_():eo(n)&&n.Ra.set("Unknown"))}function gv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Nl(t).Y_(e)}function Px(t,e){t.Va.Ue(e),Nl(t).Z_(e)}function yv(t){t.Va=new P4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Nl(t).start(),t.Ra.ua()}function vv(t){return eo(t)&&!Nl(t).x_()&&t.Ia.size>0}function eo(t){return Ne(t).Ea.size===0}function Mx(t){t.Va=void 0}async function UL(t){t.Ra.set("Online")}async function BL(t){t.Ia.forEach(((e,n)=>{gv(t,e)}))}async function FL(t,e){Mx(t),vv(t)?(t.Ra.ha(e),yv(t)):t.Ra.set("Unknown")}async function zL(t,e,n){if(t.Ra.set("Online"),e instanceof yx&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,u),a.Ia.delete(f),a.Va.removeTarget(f))})(t,e)}catch(s){de(Qa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await nd(t,s)}else if(e instanceof If?t.Va.Ze(e):e instanceof gx?t.Va.st(e):t.Va.tt(e),!n.isEqual(Re.min()))try{const s=await Cx(t.localStore);n.compareTo(s)>=0&&await(function(l,u){const f=l.Va.Tt(u);return f.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(m.resumeToken,u))}})),f.targetMismatches.forEach(((m,p)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(nn.EMPTY_BYTE_STRING,y.snapshotVersion)),Px(l,m);const T=new Nr(y.target,m,p,y.sequenceNumber);gv(l,T)})),l.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(s){de(Qa,"Failed to raise snapshot:",s),await nd(t,s)}}async function nd(t,e,n){if(!Cl(e))throw e;t.Ea.add(1),await ku(t),t.Ra.set("Offline"),n||(n=()=>Cx(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{de(Qa,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Pd(t)}))}function kx(t,e){return e().catch((n=>nd(t,n,e)))}async function Md(t){const e=Ne(t),n=Fr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:tv;for(;qL(e);)try{const a=await AL(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,HL(e,a)}catch(a){await nd(e,a)}Vx(e)&&Ox(e)}function qL(t){return eo(t)&&t.Ta.length<10}function HL(t,e){t.Ta.push(e);const n=Fr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Vx(t){return eo(t)&&!Fr(t).x_()&&t.Ta.length>0}function Ox(t){Fr(t).start()}async function GL(t){Fr(t).ra()}async function $L(t){const e=Fr(t);for(const n of t.Ta)e.ea(n.mutations)}async function KL(t,e,n){const s=t.Ta.shift(),a=lv.from(s,e,n);await kx(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Md(t)}async function YL(t,e){e&&Fr(t).X_&&await(async function(s,a){if((function(u){return I4(u)&&u!==ne.ABORTED})(a.code)){const l=s.Ta.shift();Fr(s).B_(),await kx(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Md(s)}})(t,e),Vx(t)&&Ox(t)}async function mb(t,e){const n=Ne(t);n.asyncQueue.verifyOperationInProgress(),de(Qa,"RemoteStore received new credentials");const s=eo(n);n.Ea.add(3),await ku(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Pd(n)}async function XL(t,e){const n=Ne(t);e?(n.Ea.delete(2),await Pd(n)):e||(n.Ea.add(2),await ku(n),n.Ra.set("Unknown"))}function Nl(t){return t.ma||(t.ma=(function(n,s,a){const l=Ne(n);return l.sa(),new ML(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:UL.bind(null,t),t_:BL.bind(null,t),r_:FL.bind(null,t),H_:zL.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),vv(t)?yv(t):t.Ra.set("Unknown")):(await t.ma.stop(),Mx(t))}))),t.ma}function Fr(t){return t.fa||(t.fa=(function(n,s,a){const l=Ne(n);return l.sa(),new kL(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:GL.bind(null,t),r_:YL.bind(null,t),ta:$L.bind(null,t),na:KL.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Md(t)):(await t.fa.stop(),t.Ta.length>0&&(de(Qa,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class _v{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Is,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const u=Date.now()+s,f=new _v(e,n,u,a,l);return f.start(s),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tv(t,e){if(Ms("AsyncQueue",`${e}: ${t}`),Cl(t))return new fe(ne.UNAVAILABLE,`${e}: ${t}`);throw t}class cl{static emptySet(e){return new cl(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||_e.comparator(n.key,s.key):(n,s)=>_e.comparator(n.key,s.key),this.keyedMap=$c(),this.sortedSet=new yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof cl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new cl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class pb{constructor(){this.ga=new yt(_e.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ae(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class yl{constructor(e,n,s,a,l,u,f,m,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,a,l){const u=[];return n.forEach((f=>{u.push({type:0,doc:f})})),new yl(e,n,cl.emptySet(n),u,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class QL{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class WL{constructor(){this.queries=gb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Ne(n),l=a.queries;a.queries=gb(),l.forEach(((u,f)=>{for(const m of f.Sa)m.onError(s)}))})(this,new fe(ne.ABORTED,"Firestore shutting down"))}}function gb(){return new Ja((t=>ix(t)),xd)}async function Ev(t,e){const n=Ne(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(s=2):(l=new QL,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const f=Tv(u,`Initialization of query '${Go(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&bv(n)}async function wv(t,e){const n=Ne(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function ZL(t,e){const n=Ne(t);let s=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const f of u.Sa)f.Fa(a)&&(s=!0);u.wa=a}}s&&bv(n)}function JL(t,e,n){const s=Ne(t),a=s.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);s.queries.delete(e)}function bv(t){t.Ca.forEach((e=>{e.next()}))}var ty,yb;(yb=ty||(ty={})).Ma="default",yb.Cache="cache";class Av{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new yl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=yl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ty.Cache}}class Lx{constructor(e){this.key=e}}class jx{constructor(e){this.key=e}}class e6{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Be(),this.mutatedKeys=Be(),this.eu=sx(e),this.tu=new cl(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new pb,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,T)=>{const b=a.get(y),R=Rd(this.query,T)?T:null,k=!!b&&this.mutatedKeys.has(b.key),U=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let O=!1;b&&R?b.data.isEqual(R.data)?k!==U&&(s.track({type:3,doc:R}),O=!0):this.su(b,R)||(s.track({type:2,doc:R}),O=!0,(m&&this.eu(R,m)>0||p&&this.eu(R,p)<0)&&(f=!0)):!b&&R?(s.track({type:0,doc:R}),O=!0):b&&!R&&(s.track({type:1,doc:b}),O=!0,(m||p)&&(f=!0)),O&&(R?(u=u.add(R),l=U?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:u,iu:s,Cs:f,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,T)=>(function(R,k){const U=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Rt:O})}};return U(R)-U(k)})(y.type,T.type)||this.eu(y.doc,T.doc))),this.ou(s),a=a??!1;const f=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,p=m!==this.Za;return this.Za=m,u.length!==0||p?{snapshot:new yl(this.query,e.tu,l,u,e.mutatedKeys,m===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new pb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Be(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new jx(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new Lx(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Be();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return yl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Sv="SyncEngine";class t6{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class n6{constructor(e){this.key=e,this.hu=!1}}class i6{constructor(e,n,s,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Ja((f=>ix(f)),xd),this.Iu=new Map,this.Eu=new Set,this.du=new yt(_e.comparator),this.Au=new Map,this.Ru=new hv,this.Vu={},this.mu=new Map,this.fu=gl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function s6(t,e,n=!0){const s=Hx(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await Ux(s,e,n,!0),a}async function r6(t,e){const n=Hx(t);await Ux(n,e,!0,!1)}async function Ux(t,e,n,s){const a=await SL(t.localStore,Ki(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let f;return s&&(f=await a6(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&Dx(t.remoteStore,a),f}async function a6(t,e,n,s,a){t.pu=(T,b,R)=>(async function(U,O,z,q){let $=O.view.ru(z);$.Cs&&($=await cb(U.localStore,O.query,!1).then((({documents:I})=>O.view.ru(I,$))));const oe=q&&q.targetChanges.get(O.targetId),J=q&&q.targetMismatches.get(O.targetId)!=null,ie=O.view.applyChanges($,U.isPrimaryClient,oe,J);return _b(U,O.targetId,ie.au),ie.snapshot})(t,T,b,R);const l=await cb(t.localStore,e,!0),u=new e6(e,l.Qs),f=u.ru(l.documents),m=Mu.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),p=u.applyChanges(f,t.isPrimaryClient,m);_b(t,n,p.au);const y=new t6(e,n,u);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function o6(t,e,n){const s=Ne(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((u=>!xd(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Jg(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&pv(s.remoteStore,a.targetId),ny(s,a.targetId)})).catch(Rl)):(ny(s,a.targetId),await Jg(s.localStore,a.targetId,!0))}async function l6(t,e){const n=Ne(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),pv(n.remoteStore,s.targetId))}async function c6(t,e,n){const s=g6(t);try{const a=await(function(u,f){const m=Ne(u),p=ut.now(),y=f.reduce(((R,k)=>R.add(k.key)),Be());let T,b;return m.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let k=ks(),U=Be();return m.Ns.getEntries(R,y).next((O=>{k=O,k.forEach(((z,q)=>{q.isValidDocument()||(U=U.add(z))}))})).next((()=>m.localDocuments.getOverlayedDocuments(R,k))).next((O=>{T=O;const z=[];for(const q of f){const $=A4(q,T.get(q.key).overlayedDocument);$!=null&&z.push(new Xr(q.key,$,XS($.value.mapValue),si.exists(!0)))}return m.mutationQueue.addMutationBatch(R,p,z,f)})).next((O=>{b=O;const z=O.applyToLocalDocumentSet(T,U);return m.documentOverlayCache.saveOverlays(R,O.batchId,z)}))})).then((()=>({batchId:b.batchId,changes:ax(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(u,f,m){let p=u.Vu[u.currentUser.toKey()];p||(p=new yt(Ue)),p=p.insert(f,m),u.Vu[u.currentUser.toKey()]=p})(s,a.batchId,n),await Vu(s,a.changes),await Md(s.remoteStore)}catch(a){const l=Tv(a,"Failed to persist write");n.reject(l)}}async function Bx(t,e){const n=Ne(t);try{const s=await wL(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=n.Au.get(l);u&&(Ye(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?Ye(u.hu,14607):a.removedDocuments.size>0&&(Ye(u.hu,42227),u.hu=!1))})),await Vu(n,s,e)}catch(s){await Rl(s)}}function vb(t,e,n){const s=Ne(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,u)=>{const f=u.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(u,f){const m=Ne(u);m.onlineState=f;let p=!1;m.queries.forEach(((y,T)=>{for(const b of T.Sa)b.va(f)&&(p=!0)})),p&&bv(m)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function u6(t,e,n){const s=Ne(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let u=new yt(_e.comparator);u=u.insert(l,hn.newNoDocument(l,Re.min()));const f=Be().add(l),m=new Nd(Re.min(),new Map,new yt(Ue),u,f);await Bx(s,m),s.du=s.du.remove(l),s.Au.delete(e),xv(s)}else await Jg(s.localStore,e,!1).then((()=>ny(s,e,n))).catch(Rl)}async function h6(t,e){const n=Ne(t),s=e.batch.batchId;try{const a=await EL(n.localStore,e);zx(n,s,null),Fx(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Vu(n,a)}catch(a){await Rl(a)}}async function f6(t,e,n){const s=Ne(t);try{const a=await(function(u,f){const m=Ne(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return m.mutationQueue.lookupMutationBatch(p,f).next((T=>(Ye(T!==null,37113),y=T.keys(),m.mutationQueue.removeMutationBatch(p,T)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,f))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>m.localDocuments.getDocuments(p,y)))}))})(s.localStore,e);zx(s,e,n),Fx(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Vu(s,a)}catch(a){await Rl(a)}}function Fx(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function zx(t,e,n){const s=Ne(t);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function ny(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((s=>{t.Ru.containsKey(s)||qx(t,s)}))}function qx(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(pv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),xv(t))}function _b(t,e,n){for(const s of n)s instanceof Lx?(t.Ru.addReference(s.key,e),d6(t,s)):s instanceof jx?(de(Sv,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||qx(t,s.key)):Ae(19791,{wu:s})}function d6(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(de(Sv,"New document in limbo: "+n),t.Eu.add(s),xv(t))}function xv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new _e(lt.fromString(e)),s=t.fu.next();t.Au.set(s,new n6(n)),t.du=t.du.insert(n,s),Dx(t.remoteStore,new Nr(Ki(Sd(n.path)),s,"TargetPurposeLimboResolution",wd.ce))}}async function Vu(t,e,n){const s=Ne(t),a=[],l=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((f,m)=>{u.push(s.pu(m,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const y=p?!p.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(p){a.push(p);const y=dv.As(m.targetId,p);l.push(y)}})))})),await Promise.all(u),s.Pu.H_(a),await(async function(m,p){const y=Ne(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>re.forEach(p,(b=>re.forEach(b.Es,(R=>y.persistence.referenceDelegate.addReference(T,b.targetId,R))).next((()=>re.forEach(b.ds,(R=>y.persistence.referenceDelegate.removeReference(T,b.targetId,R)))))))))}catch(T){if(!Cl(T))throw T;de(mv,"Failed to update sequence numbers: "+T)}for(const T of p){const b=T.targetId;if(!T.fromCache){const R=y.Ms.get(b),k=R.snapshotVersion,U=R.withLastLimboFreeSnapshotVersion(k);y.Ms=y.Ms.insert(b,U)}}})(s.localStore,l))}async function m6(t,e){const n=Ne(t);if(!n.currentUser.isEqual(e)){de(Sv,"User change. New user:",e.toKey());const s=await Rx(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((f=>{f.forEach((m=>{m.reject(new fe(ne.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Vu(n,s.Ls)}}function p6(t,e){const n=Ne(t),s=n.Au.get(e);if(s&&s.hu)return Be().add(s.key);{let a=Be();const l=n.Iu.get(e);if(!l)return a;for(const u of l){const f=n.Tu.get(u);a=a.unionWith(f.view.nu)}return a}}function Hx(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Bx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=p6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=u6.bind(null,e),e.Pu.H_=ZL.bind(null,e.eventManager),e.Pu.yu=JL.bind(null,e.eventManager),e}function g6(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=h6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=f6.bind(null,e),e}class id{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Dd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return TL(this.persistence,new yL,e.initialUser,this.serializer)}Cu(e){return new xx(fv.mi,this.serializer)}Du(e){return new RL}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}id.provider={build:()=>new id};class y6 extends id{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ye(this.persistence.referenceDelegate instanceof td,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new nL(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new xx((s=>td.mi(s,n)),this.serializer)}}class iy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>vb(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=m6.bind(null,this.syncEngine),await XL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new WL})()}createDatastore(e){const n=Dd(e.databaseInfo.databaseId),s=(function(l){return new PL(l)})(e.databaseInfo);return(function(l,u,f,m){return new OL(l,u,f,m)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,u,f){return new jL(s,a,l,u,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>vb(this.syncEngine,n,0)),(function(){return fb.v()?new fb:new CL})())}createSyncEngine(e,n){return(function(a,l,u,f,m,p,y){const T=new i6(a,l,u,f,m,p);return y&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ne(n);de(Qa,"RemoteStore shutting down."),s.Ea.add(5),await ku(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}iy.provider={build:()=>new iy};class Rv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ms("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const zr="FirestoreClient";class v6{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=un.UNAUTHENTICATED,this.clientId=ev.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async u=>{de(zr,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(de(zr,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Is;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Tv(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function mg(t,e){t.asyncQueue.verifyOperationInProgress(),de(zr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await Rx(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Tb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await _6(t);de(zr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>mb(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>mb(e.remoteStore,a))),t._onlineComponents=e}async function _6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){de(zr,"Using user provided OfflineComponentProvider");try{await mg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ne.FAILED_PRECONDITION||a.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;fl("Error using user provided cache. Falling back to memory cache: "+n),await mg(t,new id)}}else de(zr,"Using default OfflineComponentProvider"),await mg(t,new y6(void 0));return t._offlineComponents}async function Gx(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(de(zr,"Using user provided OnlineComponentProvider"),await Tb(t,t._uninitializedComponentsProvider._online)):(de(zr,"Using default OnlineComponentProvider"),await Tb(t,new iy))),t._onlineComponents}function T6(t){return Gx(t).then((e=>e.syncEngine))}async function sd(t){const e=await Gx(t),n=e.eventManager;return n.onListen=s6.bind(null,e.syncEngine),n.onUnlisten=o6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=r6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=l6.bind(null,e.syncEngine),n}function E6(t,e,n={}){const s=new Is;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,m,p){const y=new Rv({next:b=>{y.Nu(),u.enqueueAndForget((()=>wv(l,T)));const R=b.docs.has(f);!R&&b.fromCache?p.reject(new fe(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&b.fromCache&&m&&m.source==="server"?p.reject(new fe(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(b)},error:b=>p.reject(b)}),T=new Av(Sd(f.path),y,{includeMetadataChanges:!0,qa:!0});return Ev(l,T)})(await sd(t),t.asyncQueue,e,n,s))),s.promise}function w6(t,e,n={}){const s=new Is;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,m,p){const y=new Rv({next:b=>{y.Nu(),u.enqueueAndForget((()=>wv(l,T))),b.fromCache&&m.source==="server"?p.reject(new fe(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(b)},error:b=>p.reject(b)}),T=new Av(f,y,{includeMetadataChanges:!0,qa:!0});return Ev(l,T)})(await sd(t),t.asyncQueue,e,n,s))),s.promise}function $x(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const Eb=new Map;const Kx="firestore.googleapis.com",wb=!0;class bb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Kx,this.ssl=wb}else this.host=e.host,this.ssl=e.ssl??wb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Sx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<eL)throw new fe(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$x(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kd{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new RO;switch(s.type){case"firstParty":return new DO(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=Eb.get(n);s&&(de("ComponentProvider","Removing Datastore"),Eb.delete(n),s.terminate())})(this),Promise.resolve()}}function b6(t,e,n,s={}){t=In(t,kd);const a=Wa(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;a&&(Oy(`https://${f}`),Ly("Firestore",!0)),l.host!==Kx&&l.host!==f&&fl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:f,ssl:a,emulatorOptions:s};if(!Or(m,u)&&(t._setSettings(m),s.mockUserToken)){let p,y;if(typeof s.mockUserToken=="string")p=s.mockUserToken,y=un.MOCK_USER;else{p=lD(s.mockUserToken,t._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new fe(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new un(T)}t._authCredentials=new CO(new LS(p,y))}}class Us{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Us(this.firestore,e,this._query)}}class Et{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Et(this.firestore,e,this._key)}toJSON(){return{type:Et._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Du(n,Et._jsonSchema))return new Et(e,s||null,new _e(lt.fromString(n.referencePath)))}}Et._jsonSchemaVersion="firestore/documentReference/1.0",Et._jsonSchema={type:Vt("string",Et._jsonSchemaVersion),referencePath:Vt("string")};class Vr extends Us{constructor(e,n,s){super(e,n,Sd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Et(this.firestore,null,new _e(e))}withConverter(e){return new Vr(this.firestore,e,this._path)}}function Dr(t,e,...n){if(t=st(t),jS("collection","path",e),t instanceof kd){const s=lt.fromString(e,...n);return Ow(s),new Vr(t,null,s)}{if(!(t instanceof Et||t instanceof Vr))throw new fe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(lt.fromString(e,...n));return Ow(s),new Vr(t.firestore,null,s)}}function it(t,e,...n){if(t=st(t),arguments.length===1&&(e=ev.newId()),jS("doc","path",e),t instanceof kd){const s=lt.fromString(e,...n);return Vw(s),new Et(t,null,new _e(s))}{if(!(t instanceof Et||t instanceof Vr))throw new fe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(lt.fromString(e,...n));return Vw(s),new Et(t.firestore,t instanceof Vr?t.converter:null,new _e(s))}}const Ab="AsyncQueue";class Sb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Ix(this,"async_queue_retry"),this._c=()=>{const s=dg();s&&de(Ab,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=dg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=dg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Is;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Cl(e))throw e;de(Ab,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ms("INTERNAL UNHANDLED ERROR: ",xb(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=_v.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ae(47125,{Pc:xb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function xb(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function Rb(t){return(function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class Vs extends kd{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new Sb,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Sb(e),this._firestoreClient=void 0,await e}}}function A6(t,e){const n=typeof t=="object"?t:pd(),s=typeof t=="string"?t:Xf,a=$r(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=gA("firestore");l&&b6(a,...l)}return a}function Vd(t){if(t._terminated)throw new fe(ne.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||S6(t),t._firestoreClient}function S6(t){const e=t._freezeSettings(),n=(function(a,l,u,f){return new YO(a,l,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,$x(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new v6(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class ni{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ni(nn.fromBase64String(e))}catch(n){throw new fe(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ni(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ni._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Du(e,ni._jsonSchema))return ni.fromBase64String(e.bytes)}}ni._jsonSchemaVersion="firestore/bytes/1.0",ni._jsonSchema={type:Vt("string",ni._jsonSchemaVersion),bytes:Vt("string")};class Od{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ld{constructor(e){this._methodName=e}}class Xi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xi._jsonSchemaVersion}}static fromJSON(e){if(Du(e,Xi._jsonSchema))return new Xi(e.latitude,e.longitude)}}Xi._jsonSchemaVersion="firestore/geoPoint/1.0",Xi._jsonSchema={type:Vt("string",Xi._jsonSchemaVersion),latitude:Vt("number"),longitude:Vt("number")};class Qi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Qi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Du(e,Qi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Qi(e.vectorValues);throw new fe(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Qi._jsonSchemaVersion="firestore/vectorValue/1.0",Qi._jsonSchema={type:Vt("string",Qi._jsonSchemaVersion),vectorValues:Vt("object")};const x6=/^__.*__$/;class R6{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Xr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Pu(e,this.data,n,this.fieldTransforms)}}class Yx{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Xr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Xx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ac:t})}}class Cv{constructor(e,n,s,a,l,u){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Cv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return rd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Xx(this.Ac)&&x6.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class C6{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Dd(e)}Cc(e,n,s,a=!1){return new Cv({Ac:e,methodName:n,Dc:s,path:tn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jd(t){const e=t._freezeSettings(),n=Dd(t._databaseId);return new C6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Qx(t,e,n,s,a,l={}){const u=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);Nv("Data must be an object, but it was:",u,s);const f=Wx(s,u);let m,p;if(l.merge)m=new Un(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const T of l.mergeFields){const b=sy(e,T,n);if(!u.contains(b))throw new fe(ne.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);Jx(y,b)||y.push(b)}m=new Un(y),p=u.fieldTransforms.filter((T=>m.covers(T.field)))}else m=null,p=u.fieldTransforms;return new R6(new xn(f),m,p)}class Ud extends Ld{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ud}}class Iv extends Ld{_toFieldTransform(e){return new T4(e.path,new pu)}isEqual(e){return e instanceof Iv}}function I6(t,e,n,s){const a=t.Cc(1,e,n);Nv("Data must be an object, but it was:",a,s);const l=[],u=xn.empty();Yr(s,((m,p)=>{const y=Dv(e,m,n);p=st(p);const T=a.yc(y);if(p instanceof Ud)l.push(y);else{const b=Ou(p,T);b!=null&&(l.push(y),u.set(y,b))}}));const f=new Un(l);return new Yx(u,f,a.fieldTransforms)}function N6(t,e,n,s,a,l){const u=t.Cc(1,e,n),f=[sy(e,s,n)],m=[a];if(l.length%2!=0)throw new fe(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)f.push(sy(e,l[b])),m.push(l[b+1]);const p=[],y=xn.empty();for(let b=f.length-1;b>=0;--b)if(!Jx(p,f[b])){const R=f[b];let k=m[b];k=st(k);const U=u.yc(R);if(k instanceof Ud)p.push(R);else{const O=Ou(k,U);O!=null&&(p.push(R),y.set(R,O))}}const T=new Un(p);return new Yx(y,T,u.fieldTransforms)}function D6(t,e,n,s=!1){return Ou(n,t.Cc(s?4:3,e))}function Ou(t,e){if(Zx(t=st(t)))return Nv("Unsupported field value:",e,t),Wx(t,e);if(t instanceof Ld)return(function(s,a){if(!Xx(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const l=[];let u=0;for(const f of s){let m=Ou(f,a.wc(u));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),u++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=st(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return y4(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=ut.fromDate(s);return{timestampValue:ed(a.serializer,l)}}if(s instanceof ut){const l=new ut(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ed(a.serializer,l)}}if(s instanceof Xi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ni)return{bytesValue:vx(a.serializer,s._byteString)};if(s instanceof Et){const l=a.databaseId,u=s.firestore._databaseId;if(!u.isEqual(l))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:uv(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Qi)return(function(u,f){return{mapValue:{fields:{[KS]:{stringValue:YS},[Qf]:{arrayValue:{values:u.toArray().map((p=>{if(typeof p!="number")throw f.Sc("VectorValues must only contain numeric values.");return av(f.serializer,p)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${Ed(s)}`)})(t,e)}function Wx(t,e){const n={};return FS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yr(t,((s,a)=>{const l=Ou(a,e.mc(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function Zx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ut||t instanceof Xi||t instanceof ni||t instanceof Et||t instanceof Ld||t instanceof Qi)}function Nv(t,e,n){if(!Zx(n)||!US(n)){const s=Ed(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function sy(t,e,n){if((e=st(e))instanceof Od)return e._internalPath;if(typeof e=="string")return Dv(t,e);throw rd("Field path arguments must be of type string or ",t,!1,void 0,n)}const P6=new RegExp("[~\\*/\\[\\]]");function Dv(t,e,n){if(e.search(P6)>=0)throw rd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Od(...e.split("."))._internalPath}catch{throw rd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function rd(t,e,n,s,a){const l=s&&!s.isEmpty(),u=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||u)&&(m+=" (found",l&&(m+=` in field ${s}`),u&&(m+=` in document ${a}`),m+=")"),new fe(ne.INVALID_ARGUMENT,f+t+m)}function Jx(t,e){return t.some((n=>n.isEqual(e)))}class eR{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Et(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new M6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Bd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class M6 extends eR{data(){return super.data()}}function Bd(t,e){return typeof e=="string"?Dv(t,e):e instanceof Od?e._internalPath:e._delegate._internalPath}function tR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Pv{}class Mv extends Pv{}function Wo(t,e,...n){let s=[];e instanceof Pv&&s.push(e),s=s.concat(n),(function(l){const u=l.filter((m=>m instanceof kv)).length,f=l.filter((m=>m instanceof Fd)).length;if(u>1||u>0&&f>0)throw new fe(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class Fd extends Mv{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Fd(e,n,s)}_apply(e){const n=this._parse(e);return nR(e._query,n),new Us(e.firestore,e.converter,Yg(e._query,n))}_parse(e){const n=jd(e.firestore);return(function(l,u,f,m,p,y,T){let b;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new fe(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Ib(T,y);const k=[];for(const U of T)k.push(Cb(m,l,U));b={arrayValue:{values:k}}}else b=Cb(m,l,T)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Ib(T,y),b=D6(f,u,T,y==="in"||y==="not-in");return kt.create(p,y,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Yo(t,e,n){const s=e,a=Bd("where",t);return Fd._create(a,s,n)}class kv extends Pv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new kv(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:xi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let u=a;const f=l.getFlattenedFilters();for(const m of f)nR(u,m),u=Yg(u,m)})(e._query,n),new Us(e.firestore,e.converter,Yg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Vv extends Mv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Vv(e,n)}_apply(e){const n=(function(a,l,u){if(a.startAt!==null)throw new fe(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new fe(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new mu(l,u)})(e._query,this._field,this._direction);return new Us(e.firestore,e.converter,(function(a,l){const u=a.explicitOrderBy.concat([l]);return new Il(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function Nf(t,e="asc"){const n=e,s=Bd("orderBy",t);return Vv._create(s,n)}class Ov extends Mv{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new Ov(e,n,s)}_apply(e){return new Us(e.firestore,e.converter,Zf(e._query,this._limit,this._limitType))}}function k6(t){return Ov._create("limit",t,"F")}function Cb(t,e,n){if(typeof(n=st(n))=="string"){if(n==="")throw new fe(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nx(e)&&n.indexOf("/")!==-1)throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(lt.fromString(n));if(!_e.isDocumentKey(s))throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Hw(t,new _e(s))}if(n instanceof Et)return Hw(t,n._key);throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ed(n)}.`)}function Ib(t,e){if(!Array.isArray(t)||t.length===0)throw new fe(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function nR(t,e){const n=(function(a,l){for(const u of a)for(const f of u.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new fe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class V6{convertValue(e,n="none"){switch(Br(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ur(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Yr(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){const n=e.fields?.[Qf].arrayValue?.values?.map((s=>It(s.doubleValue)));return new Qi(n)}convertGeoPoint(e){return new Xi(It(e.latitude),It(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Ad(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(hu(e));default:return null}}convertTimestamp(e){const n=jr(e);return new ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=lt.fromString(e);Ye(Ax(s),9688,{name:e});const a=new fu(s.get(1),s.get(3)),l=new _e(s.popFirst(5));return a.isEqual(n)||Ms(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function iR(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class Yc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fa extends eR{constructor(e,n,s,a,l,u){super(e,n,s,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Df(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Bd("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Fa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Fa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fa._jsonSchema={type:Vt("string",Fa._jsonSchemaVersion),bundleSource:Vt("string","DocumentSnapshot"),bundleName:Vt("string"),bundle:Vt("string")};class Df extends Fa{data(e={}){return super.data(e)}}class za{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Yc(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Df(this._firestore,this._userDataWriter,s.key,s,new Yc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((f=>{const m=new Df(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Yc(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const m=new Df(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Yc(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return f.type!==0&&(p=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),y=u.indexOf(f.doc.key)),{type:O6(f.type),doc:m,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=za._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ev.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function O6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:t})}}function wi(t){t=In(t,Et);const e=In(t.firestore,Vs);return E6(Vd(e),t._key).then((n=>aR(e,t,n)))}za._jsonSchemaVersion="firestore/querySnapshot/1.0",za._jsonSchema={type:Vt("string",za._jsonSchemaVersion),bundleSource:Vt("string","QuerySnapshot"),bundleName:Vt("string"),bundle:Vt("string")};class Lv extends V6{constructor(e){super(),this.firestore=e}convertBytes(e){return new ni(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Et(this.firestore,null,n)}}function Zo(t){t=In(t,Us);const e=In(t.firestore,Vs),n=Vd(e),s=new Lv(e);return tR(t._query),w6(n,t._query).then((a=>new za(e,s,t,a)))}function Jo(t,e,n){t=In(t,Et);const s=In(t.firestore,Vs),a=iR(t.converter,e,n);return zd(s,[Qx(jd(s),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,si.none())])}function vl(t,e,n,...s){t=In(t,Et);const a=In(t.firestore,Vs),l=jd(a);let u;return u=typeof(e=st(e))=="string"||e instanceof Od?N6(l,"updateDoc",t._key,e,n,s):I6(l,"updateDoc",t._key,e),zd(a,[u.toMutation(t._key,si.exists(!0))])}function mf(t){return zd(In(t.firestore,Vs),[new ov(t._key,si.none())])}function sR(t,e){const n=In(t.firestore,Vs),s=it(t),a=iR(t.converter,e);return zd(n,[Qx(jd(t.firestore),"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,si.exists(!1))]).then((()=>s))}function rR(t,...e){t=st(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Rb(e[s])||(n=e[s++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Rb(e[s])){const m=e[s];e[s]=m.next?.bind(m),e[s+1]=m.error?.bind(m),e[s+2]=m.complete?.bind(m)}let l,u,f;if(t instanceof Et)u=In(t.firestore,Vs),f=Sd(t._key.path),l={next:m=>{e[s]&&e[s](aR(u,t,m))},error:e[s+1],complete:e[s+2]};else{const m=In(t,Us);u=In(m.firestore,Vs),f=m._query;const p=new Lv(u);l={next:y=>{e[s]&&e[s](new za(u,p,m,y))},error:e[s+1],complete:e[s+2]},tR(t._query)}return(function(p,y,T,b){const R=new Rv(b),k=new Av(y,R,T);return p.asyncQueue.enqueueAndForget((async()=>Ev(await sd(p),k))),()=>{R.Nu(),p.asyncQueue.enqueueAndForget((async()=>wv(await sd(p),k)))}})(Vd(u),f,a,l)}function zd(t,e){return(function(s,a){const l=new Is;return s.asyncQueue.enqueueAndForget((async()=>c6(await T6(s),a,l))),l.promise})(Vd(t),e)}function aR(t,e,n){const s=n.docs.get(e._key),a=new Lv(t);return new Fa(t,a,e._key,s,new Yc(n.hasPendingWrites,n.fromCache),e.converter)}function cn(){return new Iv("serverTimestamp")}(function(e,n=!0){(function(a){xl=a})(Al),Ai(new ai("firestore",((s,{instanceIdentifier:a,options:l})=>{const u=s.getProvider("app").getImmediate(),f=new Vs(new IO(s.getProvider("auth-internal")),new PO(u,s.getProvider("app-check-internal")),(function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new fe(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fu(p.options.projectId,y)})(u,a),u);return l={useFetchStreams:n,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),Cn(Dw,Pw,e),Cn(Dw,Pw,"esm2020")})();const oR="functions";class L6{constructor(e,n,s,a){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,jn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=s.getImmediate({optional:!0}),this.auth||n.get().then(l=>this.auth=l,()=>{}),this.messaging||s.get().then(l=>this.messaging=l,()=>{}),this.appCheck||a?.get().then(l=>this.appCheck=l,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),s=await this.getMessagingToken(),a=await this.getAppCheckToken(e);return{authToken:n,messagingToken:s,appCheckToken:a}}}const ry="us-central1";class j6{constructor(e,n,s,a,l=ry,u=(...f)=>fetch(...f)){this.app=e,this.fetchImpl=u,this.emulatorOrigin=null,this.contextProvider=new L6(e,n,s,a),this.cancelAllRequests=new Promise(f=>{this.deleteService=()=>Promise.resolve(f())});try{const f=new URL(l);this.customDomain=f.origin+(f.pathname==="/"?"":f.pathname),this.region=ry}catch{this.customDomain=null,this.region=l}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function U6(t,e,n){const s=Wa(e);t.emulatorOrigin=`http${s?"s":""}://${e}:${n}`,s&&(Oy(t.emulatorOrigin+"/backends"),Ly("Functions",!0))}const Nb="@firebase/functions",Db="0.13.1";const B6="auth-internal",F6="app-check-internal",z6="messaging-internal";function q6(t){const e=(n,{instanceIdentifier:s})=>{const a=n.getProvider("app").getImmediate(),l=n.getProvider(B6),u=n.getProvider(z6),f=n.getProvider(F6);return new j6(a,l,u,f,s)};Ai(new ai(oR,e,"PUBLIC").setMultipleInstances(!0)),Cn(Nb,Db,t),Cn(Nb,Db,"esm2020")}function H6(t=pd(),e=ry){const s=$r(st(t),oR).getImmediate({identifier:e}),a=gA("functions");return a&&G6(s,...a),s}function G6(t,e,n){U6(st(t),e,n)}q6();const $6={apiKey:"AIzaSyBrPuJ3kAXmcz3Xs5sgphJRnzndWMNTTaY",authDomain:"sociopolis-bff81.firebaseapp.com",projectId:"sociopolis-bff81",storageBucket:"sociopolis-bff81.firebasestorage.app",messagingSenderId:"380051301679",appId:"1:380051301679:web:8db334cda9eff6d7006dda",measurementId:"G-TNDGLMXJ4K"},qd=SA($6);wO(qd);const Wi=nV(qd),qe=A6(qd);H6(qd);function K6(){const[t,e]=C.useState(""),[n,s]=C.useState(""),[a,l]=C.useState(""),[u,f]=C.useState(""),[m,p]=C.useState(!1),[y,T]=C.useState(!1),[b,R]=C.useState(!1),[k,U]=C.useState(""),O=ts(),z=$=>/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{6,}$/.test($),q=async $=>{if($.preventDefault(),z(n))U("");else{U("password must be at least 6 characters and include uppercase, lowercase, and a number");return}try{const oe=t.trim(),J=a.trim(),ie=Number(u),x=(await OM(Wi,oe,n)).user;J&&await BM(x,{displayName:J}),await Jo(it(qe,"users",x.uid),{displayName:J,age:ie,termsAccepted:!0,createdAt:cn(),updatedAt:cn(),xp:0,level:0,avatarUrl:"/src/assets/svg/avatars/soci_lightblue.svg",admin:!1,email:oe,emailVerified:!1}),await jM(x),alert("Account created! Please check your email for verification!"),O("/auth")}catch(oe){alert(`Registration Error: ${oe.message}`)}};return _.jsxs("div",{className:"p-16 py-12 flex flex-col justify-center items-center gap-y-4",children:[_.jsx("h1",{className:"h2 text-4xl",children:"Welcome to Sociopolis!"}),_.jsx("h2",{className:"h3 font-normal text-2xl",children:"Let's create an account to get started."}),_.jsx("img",{className:"h-auto w-35",src:"/src/assets/soci.png"}),_.jsxs("form",{onSubmit:q,className:"flex flex-col justify-center items-center gap-y-2",children:[_.jsx("input",{className:"form-input",placeholder:"Display-Name (Public)",type:"text",value:a,onChange:$=>l($.target.value),required:!0}),_.jsx("input",{className:"bg-[#F7F7F7] border text-[#C0C0C0] border-[#D9D9D9] focus:border-[#75BBFF] px-4 py-2 mx-2 rounded-lg w-full focus:outline-none",type:"number",placeholder:"Age",value:u,onChange:$=>f($.target.value),required:!0}),_.jsx("input",{className:"bg-[#F7F7F7] border text-[#C0C0C0] border-[#D9D9D9] focus:border-[#75BBFF] px-4 py-2 mx-2 rounded-lg w-full focus:outline-none",placeholder:"Email",type:"email",value:t,onChange:$=>e($.target.value),required:!0}),_.jsx("input",{className:"bg-[#F7F7F7] border text-[#C0C0C0] border-[#D9D9D9] focus:border-[#75BBFF] px-4 py-2 mx-2 rounded-lg w-full focus:outline-none",type:"password",placeholder:"Password",value:n,onChange:$=>s($.target.value),required:!0}),_.jsxs("label",{className:"check-box",children:[_.jsx("input",{type:"checkbox",checked:m,onChange:$=>p($.target.checked),required:!0}),_.jsxs("span",{className:"text",children:["I accept the"," ",_.jsx("button",{type:"button",className:"btn-ghost--underline",onClick:()=>T(!0),children:"Terms & Conditions"})," ","and"," ",_.jsx("button",{type:"button",className:"btn-ghost--underline",onClick:()=>R(!0),children:"Privacy Policy"})]})]}),_.jsx(QN,{label:"Register",disabled:!m})]}),y&&_.jsx(WN,{onClose:()=>T(!1),isOpen:!0}),b&&_.jsx(ZN,{onClose:()=>R(!1),isOpen:!0})]})}const Y6=()=>{const t=ts();return _.jsxs("nav",{className:"w-full z-50 flex justify-between h-24",children:[_.jsx("img",{src:"/src/assets/svg/Backarrow.svg",alt:"Back",className:"mx-6 my-8 w-8 h-8",onClick:()=>t(-1)}),_.jsx("button",{onClick:()=>t("/auth"),className:"btn-block absolute top-8 right-8",children:"Login"})]})};function X6(){return _.jsxs("div",{className:"bg-[#FFFFFF]",children:[_.jsx(Y6,{}),_.jsx(K6,{})]})}function Q6(){const[t,e]=C.useState(""),[n,s]=C.useState(""),[a,l]=C.useState(""),u=ts(),f=async p=>{p.preventDefault();try{const T=(await LM(Wi,t.trim(),n)).user;if(await T.reload(),!T.emailVerified){alert("Please verify your email before logging in."),await Wi.signOut();return}await vl(it(qe,"users",T.uid),{emailVerified:!0,updatedAt:cn()}),u("/landing")}catch(y){console.error("Login error:",y),alert(`Login failed: ${y.message}`)}},m=async()=>{if(!t.trim()){alert("Please enter your email to reset your password.");return}try{await VM(Wi,t.trim()),alert("Password reset email sent! Please check your inbox.")}catch(p){console.error("Password reset error:",p),alert(`Error: ${p.message}`)}};return _.jsxs("div",{className:"p-16 py-12 flex flex-col justify-center items-center gap-y-4",children:[_.jsx("h1",{className:"h2 !text-4xl",children:"Welcome back to Sociopolis!"}),_.jsx("h2",{className:"h3 !font-normal !text-2xl",children:"Its great to see you again, have fun learning ."}),_.jsx("img",{className:"h-auto w-35",src:"/src/assets/soci.png"}),_.jsxs("form",{onSubmit:f,className:"flex flex-col justify-center items-center !gap-y-2",children:[_.jsx("input",{className:"!bg-[#F7F7F7] !border !text-[#C0C0C0] border-[#D9D9D9] focus:border-[#75BBFF] !px-4 !py-2 !mx-2 !rounded-lg w-full focus:outline-none",type:"email",placeholder:"Email",value:t,onChange:p=>e(p.target.value),required:!0}),_.jsx("input",{className:"!bg-[#F7F7F7] !border !text-[#C0C0C0] border-[#D9D9D9] focus:border-[#75BBFF] !px-4 !py-2 !mx-2 !rounded-lg w-full focus:outline-none",type:"password",placeholder:"Password",value:n,onChange:p=>s(p.target.value),required:!0}),a&&_.jsx("p",{className:"error-message",children:a}),_.jsx("button",{type:"submit",className:"btn",children:"Login"}),_.jsx("button",{type:"button",onClick:()=>m(),className:"text-sm !bg-transparent underline mt-2 !border-none",children:"Forgot Password?"})]})]})}const W6=()=>{const t=ts();return _.jsxs("nav",{className:"relative w-full z-50 flex justify-between h-24",children:[_.jsx("img",{src:"/src/assets/svg/Backarrow.svg",alt:"Back",className:"mx-6 my-8 w-8 h-8",onClick:()=>t(-1)}),_.jsx("button",{onClick:()=>t("/register"),className:"btn-block absolute top-8 right-8",children:"Sign up"})]})};function Z6(){return _.jsxs("div",{className:"bg-[#FFFFFF]",children:[_.jsx(W6,{}),_.jsx(Q6,{})]})}const jv=C.createContext({});function Uv(t){const e=C.useRef(null);return e.current===null&&(e.current=t()),e.current}const Bv=typeof window<"u",lR=Bv?C.useLayoutEffect:C.useEffect,Hd=C.createContext(null);function Fv(t,e){t.indexOf(e)===-1&&t.push(e)}function zv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Os=(t,e,n)=>n>e?e:n<t?t:n;let qv=()=>{};const Ls={},cR=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function uR(t){return typeof t=="object"&&t!==null}const hR=t=>/^0[^.\s]+$/u.test(t);function Hv(t){let e;return()=>(e===void 0&&(e=t()),e)}const ri=t=>t,J6=(t,e)=>n=>e(t(n)),Lu=(...t)=>t.reduce(J6),vu=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class Gv{constructor(){this.subscriptions=[]}add(e){return Fv(this.subscriptions,e),()=>zv(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Zi=t=>t*1e3,ii=t=>t/1e3;function fR(t,e){return e?t*(1e3/e):0}const dR=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,e3=1e-7,t3=12;function n3(t,e,n,s,a){let l,u,f=0;do u=e+(n-e)/2,l=dR(u,s,a)-t,l>0?n=u:e=u;while(Math.abs(l)>e3&&++f<t3);return u}function ju(t,e,n,s){if(t===e&&n===s)return ri;const a=l=>n3(l,0,1,t,n);return l=>l===0||l===1?l:dR(a(l),e,s)}const mR=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,pR=t=>e=>1-t(1-e),gR=ju(.33,1.53,.69,.99),$v=pR(gR),yR=mR($v),vR=t=>(t*=2)<1?.5*$v(t):.5*(2-Math.pow(2,-10*(t-1))),Kv=t=>1-Math.sin(Math.acos(t)),_R=pR(Kv),TR=mR(Kv),i3=ju(.42,0,1,1),s3=ju(0,0,.58,1),ER=ju(.42,0,.58,1),r3=t=>Array.isArray(t)&&typeof t[0]!="number",wR=t=>Array.isArray(t)&&typeof t[0]=="number",a3={linear:ri,easeIn:i3,easeInOut:ER,easeOut:s3,circIn:Kv,circInOut:TR,circOut:_R,backIn:$v,backInOut:yR,backOut:gR,anticipate:vR},o3=t=>typeof t=="string",Pb=t=>{if(wR(t)){qv(t.length===4);const[e,n,s,a]=t;return ju(e,n,s,a)}else if(o3(t))return a3[t];return t},pf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function l3(t,e){let n=new Set,s=new Set,a=!1,l=!1;const u=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function m(y){u.has(y)&&(p.schedule(y),t()),y(f)}const p={schedule:(y,T=!1,b=!1)=>{const k=b&&a?n:s;return T&&u.add(y),k.has(y)||k.add(y),y},cancel:y=>{s.delete(y),u.delete(y)},process:y=>{if(f=y,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const c3=40;function bR(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=pf.reduce(($,oe)=>($[oe]=l3(l),$),{}),{setup:f,read:m,resolveKeyframes:p,preUpdate:y,update:T,preRender:b,render:R,postRender:k}=u,U=()=>{const $=Ls.useManualTiming?a.timestamp:performance.now();n=!1,Ls.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min($-a.timestamp,c3),1)),a.timestamp=$,a.isProcessing=!0,f.process(a),m.process(a),p.process(a),y.process(a),T.process(a),b.process(a),R.process(a),k.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(U))},O=()=>{n=!0,s=!0,a.isProcessing||t(U)};return{schedule:pf.reduce(($,oe)=>{const J=u[oe];return $[oe]=(ie,I=!1,x=!1)=>(n||O(),J.schedule(ie,I,x)),$},{}),cancel:$=>{for(let oe=0;oe<pf.length;oe++)u[pf[oe]].cancel($)},state:a,steps:u}}const{schedule:ft,cancel:qr,state:Jt,steps:pg}=bR(typeof requestAnimationFrame<"u"?requestAnimationFrame:ri,!0);let Pf;function u3(){Pf=void 0}const Rn={now:()=>(Pf===void 0&&Rn.set(Jt.isProcessing||Ls.useManualTiming?Jt.timestamp:performance.now()),Pf),set:t=>{Pf=t,queueMicrotask(u3)}},AR=t=>e=>typeof e=="string"&&e.startsWith(t),Yv=AR("--"),h3=AR("var(--"),Xv=t=>h3(t)?f3.test(t.split("/*")[0].trim()):!1,f3=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Dl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},_u={...Dl,transform:t=>Os(0,1,t)},gf={...Dl,default:1},nu=t=>Math.round(t*1e5)/1e5,Qv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function d3(t){return t==null}const m3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Wv=(t,e)=>n=>!!(typeof n=="string"&&m3.test(n)&&n.startsWith(t)||e&&!d3(n)&&Object.prototype.hasOwnProperty.call(n,e)),SR=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,u,f]=s.match(Qv);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},p3=t=>Os(0,255,t),gg={...Dl,transform:t=>Math.round(p3(t))},Ua={test:Wv("rgb","red"),parse:SR("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+gg.transform(t)+", "+gg.transform(e)+", "+gg.transform(n)+", "+nu(_u.transform(s))+")"};function g3(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const ay={test:Wv("#"),parse:g3,transform:Ua.transform},Uu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Sr=Uu("deg"),Ji=Uu("%"),xe=Uu("px"),y3=Uu("vh"),v3=Uu("vw"),Mb={...Ji,parse:t=>Ji.parse(t)/100,transform:t=>Ji.transform(t*100)},el={test:Wv("hsl","hue"),parse:SR("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Ji.transform(nu(e))+", "+Ji.transform(nu(n))+", "+nu(_u.transform(s))+")"},Mt={test:t=>Ua.test(t)||ay.test(t)||el.test(t),parse:t=>Ua.test(t)?Ua.parse(t):el.test(t)?el.parse(t):ay.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ua.transform(t):el.transform(t),getAnimatableNone:t=>{const e=Mt.parse(t);return e.alpha=0,Mt.transform(e)}},_3=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function T3(t){return isNaN(t)&&typeof t=="string"&&(t.match(Qv)?.length||0)+(t.match(_3)?.length||0)>0}const xR="number",RR="color",E3="var",w3="var(",kb="${}",b3=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Tu(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const f=e.replace(b3,m=>(Mt.test(m)?(s.color.push(l),a.push(RR),n.push(Mt.parse(m))):m.startsWith(w3)?(s.var.push(l),a.push(E3),n.push(m)):(s.number.push(l),a.push(xR),n.push(parseFloat(m))),++l,kb)).split(kb);return{values:n,split:f,indexes:s,types:a}}function CR(t){return Tu(t).values}function IR(t){const{split:e,types:n}=Tu(t),s=e.length;return a=>{let l="";for(let u=0;u<s;u++)if(l+=e[u],a[u]!==void 0){const f=n[u];f===xR?l+=nu(a[u]):f===RR?l+=Mt.transform(a[u]):l+=a[u]}return l}}const A3=t=>typeof t=="number"?0:Mt.test(t)?Mt.getAnimatableNone(t):t;function S3(t){const e=CR(t);return IR(t)(e.map(A3))}const Hr={test:T3,parse:CR,createTransformer:IR,getAnimatableNone:S3};function yg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function x3({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const f=n<.5?n*(1+e):n+e-n*e,m=2*n-f;a=yg(m,f,t+1/3),l=yg(m,f,t),u=yg(m,f,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}function ad(t,e){return n=>n>0?e:t}const gt=(t,e,n)=>t+(e-t)*n,vg=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},R3=[ay,Ua,el],C3=t=>R3.find(e=>e.test(t));function Vb(t){const e=C3(t);if(!e)return!1;let n=e.parse(t);return e===el&&(n=x3(n)),n}const Ob=(t,e)=>{const n=Vb(t),s=Vb(e);if(!n||!s)return ad(t,e);const a={...n};return l=>(a.red=vg(n.red,s.red,l),a.green=vg(n.green,s.green,l),a.blue=vg(n.blue,s.blue,l),a.alpha=gt(n.alpha,s.alpha,l),Ua.transform(a))},oy=new Set(["none","hidden"]);function I3(t,e){return oy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function N3(t,e){return n=>gt(t,e,n)}function Zv(t){return typeof t=="number"?N3:typeof t=="string"?Xv(t)?ad:Mt.test(t)?Ob:M3:Array.isArray(t)?NR:typeof t=="object"?Mt.test(t)?Ob:D3:ad}function NR(t,e){const n=[...t],s=n.length,a=t.map((l,u)=>Zv(l)(l,e[u]));return l=>{for(let u=0;u<s;u++)n[u]=a[u](l);return n}}function D3(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=Zv(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function P3(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][s[l]],f=t.values[u]??0;n[a]=f,s[l]++}return n}const M3=(t,e)=>{const n=Hr.createTransformer(e),s=Tu(t),a=Tu(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?oy.has(t)&&!a.values.length||oy.has(e)&&!s.values.length?I3(t,e):Lu(NR(P3(s,a),a.values),n):ad(t,e)};function DR(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?gt(t,e,n):Zv(t)(t,e)}const k3=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ft.update(e,n),stop:()=>qr(e),now:()=>Jt.isProcessing?Jt.timestamp:Rn.now()}},PR=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},od=2e4;function Jv(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<od;)e+=n,s=t.next(e);return e>=od?1/0:e}function V3(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(Jv(s),od);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:ii(a)}}const O3=5;function MR(t,e,n){const s=Math.max(e-O3,0);return fR(n-t(s),e-s)}const Tt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},_g=.001;function L3({duration:t=Tt.duration,bounce:e=Tt.bounce,velocity:n=Tt.velocity,mass:s=Tt.mass}){let a,l,u=1-e;u=Os(Tt.minDamping,Tt.maxDamping,u),t=Os(Tt.minDuration,Tt.maxDuration,ii(t)),u<1?(a=p=>{const y=p*u,T=y*t,b=y-n,R=ly(p,u),k=Math.exp(-T);return _g-b/R*k},l=p=>{const T=p*u*t,b=T*n+n,R=Math.pow(u,2)*Math.pow(p,2)*t,k=Math.exp(-T),U=ly(Math.pow(p,2),u);return(-a(p)+_g>0?-1:1)*((b-R)*k)/U}):(a=p=>{const y=Math.exp(-p*t),T=(p-n)*t+1;return-_g+y*T},l=p=>{const y=Math.exp(-p*t),T=(n-p)*(t*t);return y*T});const f=5/t,m=U3(a,l,f);if(t=Zi(t),isNaN(m))return{stiffness:Tt.stiffness,damping:Tt.damping,duration:t};{const p=Math.pow(m,2)*s;return{stiffness:p,damping:u*2*Math.sqrt(s*p),duration:t}}}const j3=12;function U3(t,e,n){let s=n;for(let a=1;a<j3;a++)s=s-t(s)/e(s);return s}function ly(t,e){return t*Math.sqrt(1-e*e)}const B3=["duration","bounce"],F3=["stiffness","damping","mass"];function Lb(t,e){return e.some(n=>t[n]!==void 0)}function z3(t){let e={velocity:Tt.velocity,stiffness:Tt.stiffness,damping:Tt.damping,mass:Tt.mass,isResolvedFromDuration:!1,...t};if(!Lb(t,F3)&&Lb(t,B3))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*Os(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Tt.mass,stiffness:a,damping:l}}else{const n=L3(t);e={...e,...n,mass:Tt.mass},e.isResolvedFromDuration=!0}return e}function ld(t=Tt.visualDuration,e=Tt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:m,damping:p,mass:y,duration:T,velocity:b,isResolvedFromDuration:R}=z3({...n,velocity:-ii(n.velocity||0)}),k=b||0,U=p/(2*Math.sqrt(m*y)),O=u-l,z=ii(Math.sqrt(m/y)),q=Math.abs(O)<5;s||(s=q?Tt.restSpeed.granular:Tt.restSpeed.default),a||(a=q?Tt.restDelta.granular:Tt.restDelta.default);let $;if(U<1){const J=ly(z,U);$=ie=>{const I=Math.exp(-U*z*ie);return u-I*((k+U*z*O)/J*Math.sin(J*ie)+O*Math.cos(J*ie))}}else if(U===1)$=J=>u-Math.exp(-z*J)*(O+(k+z*O)*J);else{const J=z*Math.sqrt(U*U-1);$=ie=>{const I=Math.exp(-U*z*ie),x=Math.min(J*ie,300);return u-I*((k+U*z*O)*Math.sinh(x)+J*O*Math.cosh(x))/J}}const oe={calculatedDuration:R&&T||null,next:J=>{const ie=$(J);if(R)f.done=J>=T;else{let I=J===0?k:0;U<1&&(I=J===0?Zi(k):MR($,J,ie));const x=Math.abs(I)<=s,N=Math.abs(u-ie)<=a;f.done=x&&N}return f.value=f.done?u:ie,f},toString:()=>{const J=Math.min(Jv(oe),od),ie=PR(I=>oe.next(J*I).value,J,30);return J+"ms "+ie},toTransition:()=>{}};return oe}ld.applyToOptions=t=>{const e=V3(t,100,ld);return t.ease=e.ease,t.duration=Zi(e.duration),t.type="keyframes",t};function cy({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:f,max:m,restDelta:p=.5,restSpeed:y}){const T=t[0],b={done:!1,value:T},R=x=>f!==void 0&&x<f||m!==void 0&&x>m,k=x=>f===void 0?m:m===void 0||Math.abs(f-x)<Math.abs(m-x)?f:m;let U=n*e;const O=T+U,z=u===void 0?O:u(O);z!==O&&(U=z-T);const q=x=>-U*Math.exp(-x/s),$=x=>z+q(x),oe=x=>{const N=q(x),L=$(x);b.done=Math.abs(N)<=p,b.value=b.done?z:L};let J,ie;const I=x=>{R(b.value)&&(J=x,ie=ld({keyframes:[b.value,k(b.value)],velocity:MR($,x,b.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return I(0),{calculatedDuration:null,next:x=>{let N=!1;return!ie&&J===void 0&&(N=!0,oe(x),I(x)),J!==void 0&&x>=J?ie.next(x-J):(!N&&oe(x),b)}}}function q3(t,e,n){const s=[],a=n||Ls.mix||DR,l=t.length-1;for(let u=0;u<l;u++){let f=a(t[u],t[u+1]);if(e){const m=Array.isArray(e)?e[u]||ri:e;f=Lu(m,f)}s.push(f)}return s}function H3(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(qv(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=q3(e,s,a),m=f.length,p=y=>{if(u&&y<t[0])return e[0];let T=0;if(m>1)for(;T<t.length-2&&!(y<t[T+1]);T++);const b=vu(t[T],t[T+1],y);return f[T](b)};return n?y=>p(Os(t[0],t[l-1],y)):p}function G3(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=vu(0,e,s);t.push(gt(n,1,a))}}function $3(t){const e=[0];return G3(e,t.length-1),e}function K3(t,e){return t.map(n=>n*e)}function Y3(t,e){return t.map(()=>e||ER).splice(0,t.length-1)}function iu({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=r3(s)?s.map(Pb):Pb(s),l={done:!1,value:e[0]},u=K3(n&&n.length===e.length?n:$3(e),t),f=H3(u,e,{ease:Array.isArray(a)?a:Y3(e,a)});return{calculatedDuration:t,next:m=>(l.value=f(m),l.done=m>=t,l)}}const X3=t=>t!==null;function e_(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(X3),f=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!f||s===void 0?l[f]:s}const Q3={decay:cy,inertia:cy,tween:iu,keyframes:iu,spring:ld};function kR(t){typeof t.type=="string"&&(t.type=Q3[t.type])}class t_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const W3=t=>t/100;class n_ extends t_{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Rn.now()&&this.tick(Rn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;kR(e);const{type:n=iu,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:f}=e;const m=n||iu;m!==iu&&typeof f[0]!="number"&&(this.mixKeyframes=Lu(W3,DR(f[0],f[1])),f=[0,100]);const p=m({...e,keyframes:f});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...f].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=Jv(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:y,repeat:T,repeatType:b,repeatDelay:R,type:k,onUpdate:U,finalKeyframe:O}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const z=this.currentTime-p*(this.playbackSpeed>=0?1:-1),q=this.playbackSpeed>=0?z<0:z>a;this.currentTime=Math.max(z,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let $=this.currentTime,oe=s;if(T){const x=Math.min(this.currentTime,a)/f;let N=Math.floor(x),L=x%1;!L&&x>=1&&(L=1),L===1&&N--,N=Math.min(N,T+1),!!(N%2)&&(b==="reverse"?(L=1-L,R&&(L-=R/f)):b==="mirror"&&(oe=u)),$=Os(0,1,L)*f}const J=q?{done:!1,value:y[0]}:oe.next($);l&&(J.value=l(J.value));let{done:ie}=J;!q&&m!==null&&(ie=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ie);return I&&k!==cy&&(J.value=e_(y,this.options,O,this.speed)),U&&U(J.value),I&&this.finish(),J}then(e,n){return this.finished.then(e,n)}get duration(){return ii(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ii(e)}get time(){return ii(this.currentTime)}set time(e){e=Zi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Rn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ii(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=k3,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Rn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function Z3(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ba=t=>t*180/Math.PI,uy=t=>{const e=Ba(Math.atan2(t[1],t[0]));return hy(e)},J3={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:uy,rotateZ:uy,skewX:t=>Ba(Math.atan(t[1])),skewY:t=>Ba(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},hy=t=>(t=t%360,t<0&&(t+=360),t),jb=uy,Ub=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Bb=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),ej={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Ub,scaleY:Bb,scale:t=>(Ub(t)+Bb(t))/2,rotateX:t=>hy(Ba(Math.atan2(t[6],t[5]))),rotateY:t=>hy(Ba(Math.atan2(-t[2],t[0]))),rotateZ:jb,rotate:jb,skewX:t=>Ba(Math.atan(t[4])),skewY:t=>Ba(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function fy(t){return t.includes("scale")?1:0}function dy(t,e){if(!t||t==="none")return fy(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=ej,a=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=J3,a=f}if(!a)return fy(e);const l=s[e],u=a[1].split(",").map(nj);return typeof l=="function"?l(u):u[l]}const tj=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return dy(n,e)};function nj(t){return parseFloat(t.trim())}const Pl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ml=new Set(Pl),Fb=t=>t===Dl||t===xe,ij=new Set(["x","y","z"]),sj=Pl.filter(t=>!ij.has(t));function rj(t){const e=[];return sj.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const qa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>dy(e,"x"),y:(t,{transform:e})=>dy(e,"y")};qa.translateX=qa.x;qa.translateY=qa.y;const Ha=new Set;let my=!1,py=!1,gy=!1;function VR(){if(py){const t=Array.from(Ha).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=rj(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,u])=>{s.getValue(l)?.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}py=!1,my=!1,Ha.forEach(t=>t.complete(gy)),Ha.clear()}function OR(){Ha.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(py=!0)})}function aj(){gy=!0,OR(),VR(),gy=!1}class i_{constructor(e,n,s,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Ha.add(this),my||(my=!0,ft.read(OR),ft.resolveKeyframes(VR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const f=s.readValue(n,u);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}Z3(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ha.delete(this)}cancel(){this.state==="scheduled"&&(Ha.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const oj=t=>t.startsWith("--");function lj(t,e,n){oj(e)?t.style.setProperty(e,n):t.style[e]=n}const cj=Hv(()=>window.ScrollTimeline!==void 0),uj={};function hj(t,e){const n=Hv(t);return()=>uj[e]??n()}const LR=hj(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Xc=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,zb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Xc([0,.65,.55,1]),circOut:Xc([.55,0,1,.45]),backIn:Xc([.31,.01,.66,-.59]),backOut:Xc([.33,1.53,.69,.99])};function jR(t,e){if(t)return typeof t=="function"?LR()?PR(t,e):"ease-out":wR(t)?Xc(t):Array.isArray(t)?t.map(n=>jR(n,e)||zb.easeOut):zb[t]}function fj(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:f="easeOut",times:m}={},p=void 0){const y={[e]:n};m&&(y.offset=m);const T=jR(f,a);Array.isArray(T)&&(y.easing=T);const b={delay:s,duration:a,easing:Array.isArray(T)?"linear":T,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return p&&(b.pseudoElement=p),t.animate(y,b)}function UR(t){return typeof t=="function"&&"applyToOptions"in t}function dj({type:t,...e}){return UR(t)&&LR()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class mj extends t_{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:f,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,qv(typeof e.type!="string");const p=dj(e);this.animation=fj(n,s,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=e_(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(y):lj(n,s,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return ii(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ii(e)}get time(){return ii(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Zi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&cj()?(this.animation.timeline=e,ri):n(this)}}const BR={anticipate:vR,backInOut:yR,circInOut:TR};function pj(t){return t in BR}function gj(t){typeof t.ease=="string"&&pj(t.ease)&&(t.ease=BR[t.ease])}const qb=10;class yj extends mj{constructor(e){gj(e),kR(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new n_({...u,autoplay:!1}),m=Zi(this.finishedTime??this.time);n.setWithVelocity(f.sample(m-qb).value,f.sample(m).value,qb),f.stop()}}const Hb=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Hr.test(t)||t==="0")&&!t.startsWith("url("));function vj(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function _j(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=Hb(a,e),f=Hb(l,e);return!u||!f?!1:vj(t)||(n==="spring"||UR(n))&&s}function yy(t){t.duration=0,t.type="keyframes"}const Tj=new Set(["opacity","clipPath","filter","transform"]),Ej=Hv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function wj(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=e.owner.getProps();return Ej()&&n&&Tj.has(n)&&(n!=="transform"||!p)&&!m&&!s&&a!=="mirror"&&l!==0&&u!=="inertia"}const bj=40;class Aj extends t_{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:f,name:m,motionValue:p,element:y,...T}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Rn.now();const b={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:u,name:m,motionValue:p,element:y,...T},R=y?.KeyframeResolver||i_;this.keyframeResolver=new R(f,(k,U,O)=>this.onKeyframesResolved(k,U,b,!O),m,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:f,delay:m,isHandoff:p,onUpdate:y}=s;this.resolvedAt=Rn.now(),_j(e,l,u,f)||((Ls.instantAnimations||!m)&&y?.(e_(e,s,n)),e[0]=e[e.length-1],yy(s),s.repeat=0);const b={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>bj?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},R=!p&&wj(b)?new yj({...b,element:b.motionValue.owner.current}):new n_(b);R.finished.then(()=>this.notifyFinished()).catch(ri),this.pendingTimeline&&(this.stopTimeline=R.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=R}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),aj()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Sj=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function xj(t){const e=Sj.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function FR(t,e,n=1){const[s,a]=xj(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const u=l.trim();return cR(u)?parseFloat(u):u}return Xv(a)?FR(a,e,n+1):a}function s_(t,e){return t?.[e]??t?.default??t}const zR=new Set(["width","height","top","left","right","bottom",...Pl]),Rj={test:t=>t==="auto",parse:t=>t},qR=t=>e=>e.test(t),HR=[Dl,xe,Ji,Sr,v3,y3,Rj],Gb=t=>HR.find(qR(t));function Cj(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||hR(t):!0}const Ij=new Set(["brightness","contrast","saturate","opacity"]);function Nj(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Qv)||[];if(!s)return t;const a=n.replace(s,"");let l=Ij.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const Dj=/\b([a-z-]*)\(.*?\)/gu,vy={...Hr,getAnimatableNone:t=>{const e=t.match(Dj);return e?e.map(Nj).join(" "):t}},$b={...Dl,transform:Math.round},Pj={rotate:Sr,rotateX:Sr,rotateY:Sr,rotateZ:Sr,scale:gf,scaleX:gf,scaleY:gf,scaleZ:gf,skew:Sr,skewX:Sr,skewY:Sr,distance:xe,translateX:xe,translateY:xe,translateZ:xe,x:xe,y:xe,z:xe,perspective:xe,transformPerspective:xe,opacity:_u,originX:Mb,originY:Mb,originZ:xe},r_={borderWidth:xe,borderTopWidth:xe,borderRightWidth:xe,borderBottomWidth:xe,borderLeftWidth:xe,borderRadius:xe,radius:xe,borderTopLeftRadius:xe,borderTopRightRadius:xe,borderBottomRightRadius:xe,borderBottomLeftRadius:xe,width:xe,maxWidth:xe,height:xe,maxHeight:xe,top:xe,right:xe,bottom:xe,left:xe,padding:xe,paddingTop:xe,paddingRight:xe,paddingBottom:xe,paddingLeft:xe,margin:xe,marginTop:xe,marginRight:xe,marginBottom:xe,marginLeft:xe,backgroundPositionX:xe,backgroundPositionY:xe,...Pj,zIndex:$b,fillOpacity:_u,strokeOpacity:_u,numOctaves:$b},Mj={...r_,color:Mt,backgroundColor:Mt,outlineColor:Mt,fill:Mt,stroke:Mt,borderColor:Mt,borderTopColor:Mt,borderRightColor:Mt,borderBottomColor:Mt,borderLeftColor:Mt,filter:vy,WebkitFilter:vy},GR=t=>Mj[t];function $R(t,e){let n=GR(t);return n!==vy&&(n=Hr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const kj=new Set(["auto","none","0"]);function Vj(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!kj.has(l)&&Tu(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=$R(n,a)}class Oj extends i_{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let p=e[m];if(typeof p=="string"&&(p=p.trim(),Xv(p))){const y=FR(p,n.current);y!==void 0&&(e[m]=y),m===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!zR.has(s)||e.length!==2)return;const[a,l]=e,u=Gb(a),f=Gb(l);if(u!==f)if(Fb(u)&&Fb(f))for(let m=0;m<e.length;m++){const p=e[m];typeof p=="string"&&(e[m]=parseFloat(p))}else qa[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||Cj(e[a]))&&s.push(a);s.length&&Vj(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=qa[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,u=s[l];s[l]=qa[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,m])=>{e.getValue(f).set(m)}),this.resolveNoneKeyframes()}}function Lj(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=n?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const KR=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function YR(t){return uR(t)&&"offsetHeight"in t}const Kb=30,jj=t=>!isNaN(parseFloat(t));class Uj{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=Rn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Rn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=jj(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Gv);const s=this.events[e].add(n);return e==="change"?()=>{s(),ft.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Rn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Kb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Kb);return fR(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function _l(t,e){return new Uj(t,e)}const{schedule:a_}=bR(queueMicrotask,!1),Ti={x:!1,y:!1};function XR(){return Ti.x||Ti.y}function Bj(t){return t==="x"||t==="y"?Ti[t]?null:(Ti[t]=!0,()=>{Ti[t]=!1}):Ti.x||Ti.y?null:(Ti.x=Ti.y=!0,()=>{Ti.x=Ti.y=!1})}function QR(t,e){const n=Lj(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function Yb(t){return!(t.pointerType==="touch"||XR())}function Fj(t,e,n={}){const[s,a,l]=QR(t,n),u=f=>{if(!Yb(f))return;const{target:m}=f,p=e(m,f);if(typeof p!="function"||!m)return;const y=T=>{Yb(T)&&(p(T),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return s.forEach(f=>{f.addEventListener("pointerenter",u,a)}),l}const WR=(t,e)=>e?t===e?!0:WR(t,e.parentElement):!1,o_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,zj=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function qj(t){return zj.has(t.tagName)||t.tabIndex!==-1}const Mf=new WeakSet;function Xb(t){return e=>{e.key==="Enter"&&t(e)}}function Tg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Hj=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=Xb(()=>{if(Mf.has(n))return;Tg(n,"down");const a=Xb(()=>{Tg(n,"up")}),l=()=>Tg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function Qb(t){return o_(t)&&!XR()}function Gj(t,e,n={}){const[s,a,l]=QR(t,n),u=f=>{const m=f.currentTarget;if(!Qb(f))return;Mf.add(m);const p=e(m,f),y=(R,k)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",b),Mf.has(m)&&Mf.delete(m),Qb(R)&&typeof p=="function"&&p(R,{success:k})},T=R=>{y(R,m===window||m===document||n.useGlobalTarget||WR(m,R.target))},b=R=>{y(R,!1)};window.addEventListener("pointerup",T,a),window.addEventListener("pointercancel",b,a)};return s.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",u,a),YR(f)&&(f.addEventListener("focus",p=>Hj(p,a)),!qj(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function ZR(t){return uR(t)&&"ownerSVGElement"in t}function $j(t){return ZR(t)&&t.tagName==="svg"}const fn=t=>!!(t&&t.getVelocity),Kj=[...HR,Mt,Hr],Yj=t=>Kj.find(qR(t)),l_=C.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Wb(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Xj(...t){return e=>{let n=!1;const s=t.map(a=>{const l=Wb(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():Wb(t[a],null)}}}}function Qj(...t){return C.useCallback(Xj(...t),t)}class Wj extends C.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=YR(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Zj({children:t,isPresent:e,anchorX:n,root:s}){const a=C.useId(),l=C.useRef(null),u=C.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=C.useContext(l_),m=Qj(l,t?.ref);return C.useInsertionEffect(()=>{const{width:p,height:y,top:T,left:b,right:R}=u.current;if(e||!l.current||!p||!y)return;const k=n==="left"?`left: ${b}`:`right: ${R}`;l.current.dataset.motionPopId=a;const U=document.createElement("style");f&&(U.nonce=f);const O=s??document.head;return O.appendChild(U),U.sheet&&U.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${y}px !important;
            ${k}px !important;
            top: ${T}px !important;
          }
        `),()=>{O.contains(U)&&O.removeChild(U)}},[e]),_.jsx(Wj,{isPresent:e,childRef:l,sizeRef:u,children:C.cloneElement(t,{ref:m})})}const Jj=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:u,anchorX:f,root:m})=>{const p=Uv(e9),y=C.useId();let T=!0,b=C.useMemo(()=>(T=!1,{id:y,initial:e,isPresent:n,custom:a,onExitComplete:R=>{p.set(R,!0);for(const k of p.values())if(!k)return;s&&s()},register:R=>(p.set(R,!1),()=>p.delete(R))}),[n,p,s]);return l&&T&&(b={...b}),C.useMemo(()=>{p.forEach((R,k)=>p.set(k,!1))},[n]),C.useEffect(()=>{!n&&!p.size&&s&&s()},[n]),u==="popLayout"&&(t=_.jsx(Zj,{isPresent:n,anchorX:f,root:m,children:t})),_.jsx(Hd.Provider,{value:b,children:t})};function e9(){return new Map}function JR(t=!0){const e=C.useContext(Hd);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=C.useId();C.useEffect(()=>{if(t)return a(l)},[t]);const u=C.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,u]:[!0]}const yf=t=>t.key||"";function Zb(t){const e=[];return C.Children.forEach(t,n=>{C.isValidElement(n)&&e.push(n)}),e}const t9=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:f="left",root:m})=>{const[p,y]=JR(u),T=C.useMemo(()=>Zb(t),[t]),b=u&&!p?[]:T.map(yf),R=C.useRef(!0),k=C.useRef(T),U=Uv(()=>new Map),[O,z]=C.useState(T),[q,$]=C.useState(T);lR(()=>{R.current=!1,k.current=T;for(let ie=0;ie<q.length;ie++){const I=yf(q[ie]);b.includes(I)?U.delete(I):U.get(I)!==!0&&U.set(I,!1)}},[q,b.length,b.join("-")]);const oe=[];if(T!==O){let ie=[...T];for(let I=0;I<q.length;I++){const x=q[I],N=yf(x);b.includes(N)||(ie.splice(I,0,x),oe.push(x))}return l==="wait"&&oe.length&&(ie=oe),$(Zb(ie)),z(T),null}const{forceRender:J}=C.useContext(jv);return _.jsx(_.Fragment,{children:q.map(ie=>{const I=yf(ie),x=u&&!p?!1:T===q||b.includes(I),N=()=>{if(U.has(I))U.set(I,!0);else return;let L=!0;U.forEach(V=>{V||(L=!1)}),L&&(J?.(),$(k.current),u&&y?.(),s&&s())};return _.jsx(Jj,{isPresent:x,initial:!R.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:m,onExitComplete:x?void 0:N,anchorX:f,children:ie},I)})})},eC=C.createContext({strict:!1}),Jb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Tl={};for(const t in Jb)Tl[t]={isEnabled:e=>Jb[t].some(n=>!!e[n])};function n9(t){for(const e in t)Tl[e]={...Tl[e],...t[e]}}const i9=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function cd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||i9.has(t)}let tC=t=>!cd(t);function s9(t){typeof t=="function"&&(tC=e=>e.startsWith("on")?!cd(e):t(e))}try{s9(require("@emotion/is-prop-valid").default)}catch{}function r9(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(tC(a)||n===!0&&cd(a)||!e&&!cd(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const Gd=C.createContext({});function $d(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Eu(t){return typeof t=="string"||Array.isArray(t)}const c_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],u_=["initial",...c_];function Kd(t){return $d(t.animate)||u_.some(e=>Eu(t[e]))}function nC(t){return!!(Kd(t)||t.variants)}function a9(t,e){if(Kd(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Eu(n)?n:void 0,animate:Eu(s)?s:void 0}}return t.inherit!==!1?e:{}}function o9(t){const{initial:e,animate:n}=a9(t,C.useContext(Gd));return C.useMemo(()=>({initial:e,animate:n}),[e1(e),e1(n)])}function e1(t){return Array.isArray(t)?t.join(" "):t}const wu={};function l9(t){for(const e in t)wu[e]=t[e],Yv(e)&&(wu[e].isCSSVariable=!0)}function iC(t,{layout:e,layoutId:n}){return Ml.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!wu[t]||t==="opacity")}const c9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},u9=Pl.length;function h9(t,e,n){let s="",a=!0;for(let l=0;l<u9;l++){const u=Pl[l],f=t[u];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(u.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||n){const p=KR(f,r_[u]);if(!m){a=!1;const y=c9[u]||u;s+=`${y}(${p}) `}n&&(e[u]=p)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function h_(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let u=!1,f=!1;for(const m in e){const p=e[m];if(Ml.has(m)){u=!0;continue}else if(Yv(m)){a[m]=p;continue}else{const y=KR(p,r_[m]);m.startsWith("origin")?(f=!0,l[m]=y):s[m]=y}}if(e.transform||(u||n?s.transform=h9(e,t.transform,n):s.transform&&(s.transform="none")),f){const{originX:m="50%",originY:p="50%",originZ:y=0}=l;s.transformOrigin=`${m} ${p} ${y}`}}const f_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function sC(t,e,n){for(const s in e)!fn(e[s])&&!iC(s,n)&&(t[s]=e[s])}function f9({transformTemplate:t},e){return C.useMemo(()=>{const n=f_();return h_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function d9(t,e){const n=t.style||{},s={};return sC(s,n,t),Object.assign(s,f9(t,e)),s}function m9(t,e){const n={},s=d9(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const p9={offset:"stroke-dashoffset",array:"stroke-dasharray"},g9={offset:"strokeDashoffset",array:"strokeDasharray"};function y9(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?p9:g9;t[l.offset]=xe.transform(-s);const u=xe.transform(e),f=xe.transform(n);t[l.array]=`${u} ${f}`}function rC(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...f},m,p,y){if(h_(t,f,p),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:T,style:b}=t;T.transform&&(b.transform=T.transform,delete T.transform),(b.transform||T.transformOrigin)&&(b.transformOrigin=T.transformOrigin??"50% 50%",delete T.transformOrigin),b.transform&&(b.transformBox=y?.transformBox??"fill-box",delete T.transformBox),e!==void 0&&(T.x=e),n!==void 0&&(T.y=n),s!==void 0&&(T.scale=s),a!==void 0&&y9(T,a,l,u,!1)}const aC=()=>({...f_(),attrs:{}}),oC=t=>typeof t=="string"&&t.toLowerCase()==="svg";function v9(t,e,n,s){const a=C.useMemo(()=>{const l=aC();return rC(l,e,oC(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};sC(l,t.style,t),a.style={...l,...a.style}}return a}const _9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function d_(t){return typeof t!="string"||t.includes("-")?!1:!!(_9.indexOf(t)>-1||/[A-Z]/u.test(t))}function T9(t,e,n,{latestValues:s},a,l=!1){const f=(d_(t)?v9:m9)(e,s,a,t),m=r9(e,typeof t=="string",l),p=t!==C.Fragment?{...m,...f,ref:n}:{},{children:y}=e,T=C.useMemo(()=>fn(y)?y.get():y,[y]);return C.createElement(t,{...p,children:T})}function t1(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function m_(t,e,n,s){if(typeof e=="function"){const[a,l]=t1(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=t1(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function kf(t){return fn(t)?t.get():t}function E9({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:w9(n,s,a,t),renderState:e()}}function w9(t,e,n,s){const a={},l=s(t,{});for(const b in l)a[b]=kf(l[b]);let{initial:u,animate:f}=t;const m=Kd(t),p=nC(t);e&&p&&!m&&t.inherit!==!1&&(u===void 0&&(u=e.initial),f===void 0&&(f=e.animate));let y=n?n.initial===!1:!1;y=y||u===!1;const T=y?f:u;if(T&&typeof T!="boolean"&&!$d(T)){const b=Array.isArray(T)?T:[T];for(let R=0;R<b.length;R++){const k=m_(t,b[R]);if(k){const{transitionEnd:U,transition:O,...z}=k;for(const q in z){let $=z[q];if(Array.isArray($)){const oe=y?$.length-1:0;$=$[oe]}$!==null&&(a[q]=$)}for(const q in U)a[q]=U[q]}}}return a}const lC=t=>(e,n)=>{const s=C.useContext(Gd),a=C.useContext(Hd),l=()=>E9(t,e,s,a);return n?l():Uv(l)};function p_(t,e,n){const{style:s}=t,a={};for(const l in s)(fn(s[l])||e.style&&fn(e.style[l])||iC(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=s[l]);return a}const b9=lC({scrapeMotionValuesFromProps:p_,createRenderState:f_});function cC(t,e,n){const s=p_(t,e,n);for(const a in t)if(fn(t[a])||fn(e[a])){const l=Pl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}const A9=lC({scrapeMotionValuesFromProps:cC,createRenderState:aC}),S9=Symbol.for("motionComponentSymbol");function tl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function x9(t,e,n){return C.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):tl(n)&&(n.current=s))},[e])}const g_=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),R9="framerAppearId",uC="data-"+g_(R9),hC=C.createContext({});function C9(t,e,n,s,a){const{visualElement:l}=C.useContext(Gd),u=C.useContext(eC),f=C.useContext(Hd),m=C.useContext(l_).reducedMotion,p=C.useRef(null);s=s||u.renderer,!p.current&&s&&(p.current=s(t,{visualState:e,parent:l,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const y=p.current,T=C.useContext(hC);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&I9(p.current,n,a,T);const b=C.useRef(!1);C.useInsertionEffect(()=>{y&&b.current&&y.update(n,f)});const R=n[uC],k=C.useRef(!!R&&!window.MotionHandoffIsComplete?.(R)&&window.MotionHasOptimisedAnimation?.(R));return lR(()=>{y&&(b.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),k.current&&y.animationState&&y.animationState.animateChanges())}),C.useEffect(()=>{y&&(!k.current&&y.animationState&&y.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(R)}),k.current=!1),y.enteringChildren=void 0)}),y}function I9(t,e,n,s){const{layoutId:a,layout:l,drag:u,dragConstraints:f,layoutScroll:m,layoutRoot:p,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:fC(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||f&&tl(f),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:m,layoutRoot:p})}function fC(t){if(t)return t.options.allowProjection!==!1?t.projection:fC(t.parent)}function Eg(t,{forwardMotionProps:e=!1}={},n,s){n&&n9(n);const a=d_(t)?A9:b9;function l(f,m){let p;const y={...C.useContext(l_),...f,layoutId:N9(f)},{isStatic:T}=y,b=o9(f),R=a(f,T);if(!T&&Bv){D9();const k=P9(y);p=k.MeasureLayout,b.visualElement=C9(t,R,y,s,k.ProjectionNode)}return _.jsxs(Gd.Provider,{value:b,children:[p&&b.visualElement?_.jsx(p,{visualElement:b.visualElement,...y}):null,T9(t,f,x9(R,b.visualElement,m),R,T,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=C.forwardRef(l);return u[S9]=t,u}function N9({layoutId:t}){const e=C.useContext(jv).id;return e&&t!==void 0?e+"-"+t:t}function D9(t,e){C.useContext(eC).strict}function P9(t){const{drag:e,layout:n}=Tl;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function M9(t,e){if(typeof Proxy>"u")return Eg;const n=new Map,s=(l,u)=>Eg(l,u,t,e),a=(l,u)=>s(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?s:(n.has(u)||n.set(u,Eg(u,void 0,t,e)),n.get(u))})}function dC({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function k9({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function V9(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function wg(t){return t===void 0||t===1}function _y({scale:t,scaleX:e,scaleY:n}){return!wg(t)||!wg(e)||!wg(n)}function Va(t){return _y(t)||mC(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function mC(t){return n1(t.x)||n1(t.y)}function n1(t){return t&&t!=="0%"}function ud(t,e,n){const s=t-n,a=e*s;return n+a}function i1(t,e,n,s,a){return a!==void 0&&(t=ud(t,a,s)),ud(t,n,s)+e}function Ty(t,e=0,n=1,s,a){t.min=i1(t.min,e,n,s,a),t.max=i1(t.max,e,n,s,a)}function pC(t,{x:e,y:n}){Ty(t.x,e.translate,e.scale,e.originPoint),Ty(t.y,n.translate,n.scale,n.originPoint)}const s1=.999999999999,r1=1.0000000000001;function O9(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let f=0;f<a;f++){l=n[f],u=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&il(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,pC(t,u)),s&&Va(l.latestValues)&&il(t,l.latestValues))}e.x<r1&&e.x>s1&&(e.x=1),e.y<r1&&e.y>s1&&(e.y=1)}function nl(t,e){t.min=t.min+e,t.max=t.max+e}function a1(t,e,n,s,a=.5){const l=gt(t.min,t.max,a);Ty(t,e,n,l,s)}function il(t,e){a1(t.x,e.x,e.scaleX,e.scale,e.originX),a1(t.y,e.y,e.scaleY,e.scale,e.originY)}function gC(t,e){return dC(V9(t.getBoundingClientRect(),e))}function L9(t,e,n){const s=gC(t,n),{scroll:a}=e;return a&&(nl(s.x,a.offset.x),nl(s.y,a.offset.y)),s}const o1=()=>({translate:0,scale:1,origin:0,originPoint:0}),sl=()=>({x:o1(),y:o1()}),l1=()=>({min:0,max:0}),Ct=()=>({x:l1(),y:l1()}),Ey={current:null},yC={current:!1};function j9(){if(yC.current=!0,!!Bv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ey.current=t.matches;t.addEventListener("change",e),e()}else Ey.current=!1}const U9=new WeakMap;function B9(t,e,n){for(const s in e){const a=e[s],l=n[s];if(fn(a))t.addValue(s,a);else if(fn(l))t.addValue(s,_l(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(s);t.addValue(s,_l(u!==void 0?u:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const c1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class F9{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=i_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Rn.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,ft.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=u;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=Kd(n),this.isVariantNode=nC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...T}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in T){const R=T[b];m[b]!==void 0&&fn(R)&&R.set(m[b])}}mount(e){this.current=e,U9.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),yC.current||j9(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ey.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),qr(this.notifyUpdate),qr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Ml.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&ft.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Tl){const n=Tl[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ct()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<c1.length;s++){const a=c1[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=B9(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=_l(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(cR(s)||hR(s))?s=parseFloat(s):!Yj(s)&&Hr.test(n)&&(s=$R(e,n)),this.setBaseTarget(e,fn(s)?s.get():s)),fn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=m_(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!fn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Gv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){a_.render(this.render)}}class vC extends F9{constructor(){super(...arguments),this.KeyframeResolver=Oj}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;fn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function _C(t,{style:e,vars:n},s,a){const l=t.style;let u;for(u in e)l[u]=e[u];a?.applyProjectionStyles(l,s);for(u in n)l.setProperty(u,n[u])}function z9(t){return window.getComputedStyle(t)}class q9 extends vC{constructor(){super(...arguments),this.type="html",this.renderInstance=_C}readValueFromInstance(e,n){if(Ml.has(n))return this.projection?.isProjecting?fy(n):tj(e,n);{const s=z9(e),a=(Yv(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return gC(e,n)}build(e,n,s){h_(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return p_(e,n,s)}}const TC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function H9(t,e,n,s){_C(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(TC.has(a)?a:g_(a),e.attrs[a])}class G9 extends vC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ct}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ml.has(n)){const s=GR(n);return s&&s.default||0}return n=TC.has(n)?n:g_(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return cC(e,n,s)}build(e,n,s){rC(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){H9(e,n,s,a)}mount(e){this.isSVGTag=oC(e.tagName),super.mount(e)}}const $9=(t,e)=>d_(t)?new G9(e):new q9(e,{allowProjection:t!==C.Fragment});function ul(t,e,n){const s=t.getProps();return m_(s,e,n!==void 0?n:s.custom,t)}const wy=t=>Array.isArray(t);function K9(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,_l(n))}function Y9(t){return wy(t)?t[t.length-1]||0:t}function X9(t,e){const n=ul(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const u in l){const f=Y9(l[u]);K9(t,u,f)}}function Q9(t){return!!(fn(t)&&t.add)}function by(t,e){const n=t.getValue("willChange");if(Q9(n))return n.add(e);if(!n&&Ls.WillChange){const s=new Ls.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function EC(t){return t.props[uC]}const W9=t=>t!==null;function Z9(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(W9),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const J9={type:"spring",stiffness:500,damping:25,restSpeed:10},eU=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),tU={type:"keyframes",duration:.8},nU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},iU=(t,{keyframes:e})=>e.length>2?tU:Ml.has(t)?t.startsWith("scale")?eU(e[1]):J9:nU;function sU({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:f,from:m,elapsed:p,...y}){return!!Object.keys(y).length}const y_=(t,e,n,s={},a,l)=>u=>{const f=s_(s,t)||{},m=f.delay||s.delay||0;let{elapsed:p=0}=s;p=p-Zi(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-p,onUpdate:b=>{e.set(b),f.onUpdate&&f.onUpdate(b)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:l?void 0:a};sU(f)||Object.assign(y,iU(t,y)),y.duration&&(y.duration=Zi(y.duration)),y.repeatDelay&&(y.repeatDelay=Zi(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let T=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(yy(y),y.delay===0&&(T=!0)),(Ls.instantAnimations||Ls.skipAnimations)&&(T=!0,yy(y),y.delay=0),y.allowFlatten=!f.type&&!f.ease,T&&!l&&e.get()!==void 0){const b=Z9(y.keyframes,f);if(b!==void 0){ft.update(()=>{y.onUpdate(b),y.onComplete()});return}}return f.isSync?new n_(y):new Aj(y)};function rU({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function wC(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...f}=e;s&&(l=s);const m=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const y in f){const T=t.getValue(y,t.latestValues[y]??null),b=f[y];if(b===void 0||p&&rU(p,y))continue;const R={delay:n,...s_(l||{},y)},k=T.get();if(k!==void 0&&!T.isAnimating&&!Array.isArray(b)&&b===k&&!R.velocity)continue;let U=!1;if(window.MotionHandoffAnimation){const z=EC(t);if(z){const q=window.MotionHandoffAnimation(z,y,ft);q!==null&&(R.startTime=q,U=!0)}}by(t,y),T.start(y_(y,T,b,t.shouldReduceMotion&&zR.has(y)?{type:!1}:R,t,U));const O=T.animation;O&&m.push(O)}return u&&Promise.all(m).then(()=>{ft.update(()=>{u&&X9(t,u)})}),m}function bC(t,e,n,s=0,a=1){const l=Array.from(t).sort((p,y)=>p.sortNodePosition(y)).indexOf(e),u=t.size,f=(u-1)*s;return typeof n=="function"?n(l,u):a===1?l*s:f-l*s}function Ay(t,e,n={}){const s=ul(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(wC(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:T}=a;return aU(t,e,m,p,y,T,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[m,p]=f==="beforeChildren"?[l,u]:[u,l];return m().then(()=>p())}else return Promise.all([l(),u(n.delay)])}function aU(t,e,n=0,s=0,a=0,l=1,u){const f=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),f.push(Ay(m,e,{...u,delay:n+(typeof s=="function"?0:s)+bC(t.variantChildren,m,s,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(f)}function oU(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>Ay(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=Ay(t,e,n);else{const a=typeof e=="function"?ul(t,e,n.custom):e;s=Promise.all(wC(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function AC(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const lU=u_.length;function SC(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?SC(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<lU;n++){const s=u_[n],a=t.props[s];(Eu(a)||a===!1)&&(e[s]=a)}return e}const cU=[...c_].reverse(),uU=c_.length;function hU(t){return e=>Promise.all(e.map(({animation:n,options:s})=>oU(t,n,s)))}function fU(t){let e=hU(t),n=u1(),s=!0;const a=m=>(p,y)=>{const T=ul(t,y,m==="exit"?t.presenceContext?.custom:void 0);if(T){const{transition:b,transitionEnd:R,...k}=T;p={...p,...k,...R}}return p};function l(m){e=m(t)}function u(m){const{props:p}=t,y=SC(t.parent)||{},T=[],b=new Set;let R={},k=1/0;for(let O=0;O<uU;O++){const z=cU[O],q=n[z],$=p[z]!==void 0?p[z]:y[z],oe=Eu($),J=z===m?q.isActive:null;J===!1&&(k=O);let ie=$===y[z]&&$!==p[z]&&oe;if(ie&&s&&t.manuallyAnimateOnMount&&(ie=!1),q.protectedKeys={...R},!q.isActive&&J===null||!$&&!q.prevProp||$d($)||typeof $=="boolean")continue;const I=dU(q.prevProp,$);let x=I||z===m&&q.isActive&&!ie&&oe||O>k&&oe,N=!1;const L=Array.isArray($)?$:[$];let V=L.reduce(a(z),{});J===!1&&(V={});const{prevResolvedValues:B={}}=q,P={...B,...V},He=ae=>{x=!0,b.has(ae)&&(N=!0,b.delete(ae)),q.needsAnimating[ae]=!0;const ue=t.getValue(ae);ue&&(ue.liveStyle=!1)};for(const ae in P){const ue=V[ae],Ce=B[ae];if(R.hasOwnProperty(ae))continue;let D=!1;wy(ue)&&wy(Ce)?D=!AC(ue,Ce):D=ue!==Ce,D?ue!=null?He(ae):b.add(ae):ue!==void 0&&b.has(ae)?He(ae):q.protectedKeys[ae]=!0}q.prevProp=$,q.prevResolvedValues=V,q.isActive&&(R={...R,...V}),s&&t.blockInitialAnimation&&(x=!1);const De=ie&&I;x&&(!De||N)&&T.push(...L.map(ae=>{const ue={type:z};if(typeof ae=="string"&&s&&!De&&t.manuallyAnimateOnMount&&t.parent){const{parent:Ce}=t,D=ul(Ce,ae);if(Ce.enteringChildren&&D){const{delayChildren:W}=D.transition||{};ue.delay=bC(Ce.enteringChildren,t,W)}}return{animation:ae,options:ue}}))}if(b.size){const O={};if(typeof p.initial!="boolean"){const z=ul(t,Array.isArray(p.initial)?p.initial[0]:p.initial);z&&z.transition&&(O.transition=z.transition)}b.forEach(z=>{const q=t.getBaseTarget(z),$=t.getValue(z);$&&($.liveStyle=!0),O[z]=q??null}),T.push({animation:O})}let U=!!T.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(U=!1),s=!1,U?e(T):Promise.resolve()}function f(m,p){if(n[m].isActive===p)return Promise.resolve();t.variantChildren?.forEach(T=>T.animationState?.setActive(m,p)),n[m].isActive=p;const y=u(m);for(const T in n)n[T].protectedKeys={};return y}return{animateChanges:u,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=u1()}}}function dU(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!AC(e,t):!1}function Ma(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function u1(){return{animate:Ma(!0),whileInView:Ma(),whileHover:Ma(),whileTap:Ma(),whileDrag:Ma(),whileFocus:Ma(),exit:Ma()}}class Qr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class mU extends Qr{constructor(e){super(e),e.animationState||(e.animationState=fU(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();$d(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let pU=0;class gU extends Qr{constructor(){super(...arguments),this.id=pU++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const yU={animation:{Feature:mU},exit:{Feature:gU}};function bu(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Bu(t){return{point:{x:t.pageX,y:t.pageY}}}const vU=t=>e=>o_(e)&&t(e,Bu(e));function su(t,e,n,s){return bu(t,e,vU(n),s)}const xC=1e-4,_U=1-xC,TU=1+xC,RC=.01,EU=0-RC,wU=0+RC;function Tn(t){return t.max-t.min}function bU(t,e,n){return Math.abs(t-e)<=n}function h1(t,e,n,s=.5){t.origin=s,t.originPoint=gt(e.min,e.max,t.origin),t.scale=Tn(n)/Tn(e),t.translate=gt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=_U&&t.scale<=TU||isNaN(t.scale))&&(t.scale=1),(t.translate>=EU&&t.translate<=wU||isNaN(t.translate))&&(t.translate=0)}function ru(t,e,n,s){h1(t.x,e.x,n.x,s?s.originX:void 0),h1(t.y,e.y,n.y,s?s.originY:void 0)}function f1(t,e,n){t.min=n.min+e.min,t.max=t.min+Tn(e)}function AU(t,e,n){f1(t.x,e.x,n.x),f1(t.y,e.y,n.y)}function d1(t,e,n){t.min=e.min-n.min,t.max=t.min+Tn(e)}function au(t,e,n){d1(t.x,e.x,n.x),d1(t.y,e.y,n.y)}function ti(t){return[t("x"),t("y")]}const CC=({current:t})=>t?t.ownerDocument.defaultView:null,m1=(t,e)=>Math.abs(t-e);function SU(t,e){const n=m1(t.x,e.x),s=m1(t.y,e.y);return Math.sqrt(n**2+s**2)}class IC{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Ag(this.lastMoveEventInfo,this.history),R=this.startEvent!==null,k=SU(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!R&&!k)return;const{point:U}=b,{timestamp:O}=Jt;this.history.push({...U,timestamp:O});const{onStart:z,onMove:q}=this.handlers;R||(z&&z(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),q&&q(this.lastMoveEvent,b)},this.handlePointerMove=(b,R)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=bg(R,this.transformPagePoint),ft.update(this.updatePoint,!0)},this.handlePointerUp=(b,R)=>{this.end();const{onEnd:k,onSessionEnd:U,resumeAnimation:O}=this.handlers;if(this.dragSnapToOrigin&&O&&O(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const z=Ag(b.type==="pointercancel"?this.lastMoveEventInfo:bg(R,this.transformPagePoint),this.history);this.startEvent&&k&&k(b,z),U&&U(b,z)},!o_(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=a||window;const f=Bu(e),m=bg(f,this.transformPagePoint),{point:p}=m,{timestamp:y}=Jt;this.history=[{...p,timestamp:y}];const{onSessionStart:T}=n;T&&T(e,Ag(m,this.history)),this.removeListeners=Lu(su(this.contextWindow,"pointermove",this.handlePointerMove),su(this.contextWindow,"pointerup",this.handlePointerUp),su(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),qr(this.updatePoint)}}function bg(t,e){return e?{point:e(t.point)}:t}function p1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ag({point:t},e){return{point:t,delta:p1(t,NC(e)),offset:p1(t,xU(e)),velocity:RU(e,.1)}}function xU(t){return t[0]}function NC(t){return t[t.length-1]}function RU(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=NC(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>Zi(e)));)n--;if(!s)return{x:0,y:0};const l=ii(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function CU(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?gt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?gt(n,t,s.max):Math.min(t,n)),t}function g1(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function IU(t,{top:e,left:n,bottom:s,right:a}){return{x:g1(t.x,n,a),y:g1(t.y,e,s)}}function y1(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function NU(t,e){return{x:y1(t.x,e.x),y:y1(t.y,e.y)}}function DU(t,e){let n=.5;const s=Tn(t),a=Tn(e);return a>s?n=vu(e.min,e.max-s,t.min):s>a&&(n=vu(t.min,t.max-a,e.min)),Os(0,1,n)}function PU(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Sy=.35;function MU(t=Sy){return t===!1?t=0:t===!0&&(t=Sy),{x:v1(t,"left","right"),y:v1(t,"top","bottom")}}function v1(t,e,n){return{min:_1(t,e),max:_1(t,n)}}function _1(t,e){return typeof t=="number"?t:t[e]||0}const kU=new WeakMap;class VU{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ct(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=T=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Bu(T).point)},u=(T,b)=>{const{drag:R,dragPropagation:k,onDragStart:U}=this.getProps();if(R&&!k&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Bj(R),!this.openDragLock))return;this.latestPointerEvent=T,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ti(z=>{let q=this.getAxisMotionValue(z).get()||0;if(Ji.test(q)){const{projection:$}=this.visualElement;if($&&$.layout){const oe=$.layout.layoutBox[z];oe&&(q=Tn(oe)*(parseFloat(q)/100))}}this.originPoint[z]=q}),U&&ft.postRender(()=>U(T,b)),by(this.visualElement,"transform");const{animationState:O}=this.visualElement;O&&O.setActive("whileDrag",!0)},f=(T,b)=>{this.latestPointerEvent=T,this.latestPanInfo=b;const{dragPropagation:R,dragDirectionLock:k,onDirectionLock:U,onDrag:O}=this.getProps();if(!R&&!this.openDragLock)return;const{offset:z}=b;if(k&&this.currentDirection===null){this.currentDirection=OU(z),this.currentDirection!==null&&U&&U(this.currentDirection);return}this.updateAxis("x",b.point,z),this.updateAxis("y",b.point,z),this.visualElement.render(),O&&O(T,b)},m=(T,b)=>{this.latestPointerEvent=T,this.latestPanInfo=b,this.stop(T,b),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>ti(T=>this.getAnimationState(T)==="paused"&&this.getAxisMotionValue(T).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new IC(e,{onSessionStart:l,onStart:u,onMove:f,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:CC(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:f}=this.getProps();f&&ft.postRender(()=>f(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!vf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=CU(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&tl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=IU(s.layoutBox,e):this.constraints=!1,this.elastic=MU(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ti(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=PU(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!tl(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=L9(s,a.root,this.visualElement.getTransformPagePoint());let u=NU(a.layout.layoutBox,l);if(n){const f=n(k9(u));this.hasMutatedConstraints=!!f,f&&(u=dC(f))}return u}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},p=ti(y=>{if(!vf(y,n,this.currentDirection))return;let T=m&&m[y]||{};u&&(T={min:0,max:0});const b=a?200:1e6,R=a?40:1e7,k={type:"inertia",velocity:s?e[y]:0,bounceStiffness:b,bounceDamping:R,timeConstant:750,restDelta:1,restSpeed:10,...l,...T};return this.startAxisValueAnimation(y,k)});return Promise.all(p).then(f)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return by(this.visualElement,e),s.start(y_(e,s,0,n,this.visualElement,!1))}stopAnimation(){ti(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ti(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){ti(n=>{const{drag:s}=this.getProps();if(!vf(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:f}=a.layout.layoutBox[n];l.set(e[n]-gt(u,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!tl(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ti(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const m=f.get();a[u]=DU({min:m,max:m},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ti(u=>{if(!vf(u,e,null))return;const f=this.getAxisMotionValue(u),{min:m,max:p}=this.constraints[u];f.set(gt(m,p,a[u]))})}addListeners(){if(!this.visualElement.current)return;kU.set(this.visualElement,this);const e=this.visualElement.current,n=su(e,"pointerdown",m=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();tl(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ft.read(s);const u=bu(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(ti(y=>{const T=this.getAxisMotionValue(y);T&&(this.originPoint[y]+=m[y].translate,T.set(T.get()+m[y].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=Sy,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:f}}}function vf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function OU(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class LU extends Qr{constructor(e){super(e),this.removeGroupControls=ri,this.removeListeners=ri,this.controls=new VU(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ri}unmount(){this.removeGroupControls(),this.removeListeners()}}const T1=t=>(e,n)=>{t&&ft.postRender(()=>t(e,n))};class jU extends Qr{constructor(){super(...arguments),this.removePointerDownListener=ri}onPointerDown(e){this.session=new IC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:CC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:T1(e),onStart:T1(n),onMove:s,onEnd:(l,u)=>{delete this.session,a&&ft.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=su(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Vf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function E1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Fc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(xe.test(t))t=parseFloat(t);else return t;const n=E1(t,e.target.x),s=E1(t,e.target.y);return`${n}% ${s}%`}},UU={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=Hr.parse(t);if(a.length>5)return s;const l=Hr.createTransformer(t),u=typeof a[0]!="number"?1:0,f=n.x.scale*e.x,m=n.y.scale*e.y;a[0+u]/=f,a[1+u]/=m;const p=gt(f,m,.5);return typeof a[2+u]=="number"&&(a[2+u]/=p),typeof a[3+u]=="number"&&(a[3+u]/=p),l(a)}};let Sg=!1;class BU extends C.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;l9(FU),l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),Sg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Vf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:u}=s;return u&&(u.isPresent=l,Sg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||ft.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),a_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;Sg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function DC(t){const[e,n]=JR(),s=C.useContext(jv);return _.jsx(BU,{...t,layoutGroup:s,switchLayoutGroup:C.useContext(hC),isPresent:e,safeToRemove:n})}const FU={borderRadius:{...Fc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Fc,borderTopRightRadius:Fc,borderBottomLeftRadius:Fc,borderBottomRightRadius:Fc,boxShadow:UU};function zU(t,e,n){const s=fn(t)?t:_l(t);return s.start(y_("",s,e,n)),s.animation}const qU=(t,e)=>t.depth-e.depth;class HU{constructor(){this.children=[],this.isDirty=!1}add(e){Fv(this.children,e),this.isDirty=!0}remove(e){zv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(qU),this.isDirty=!1,this.children.forEach(e)}}function GU(t,e){const n=Rn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(qr(s),t(l-e))};return ft.setup(s,!0),()=>qr(s)}const PC=["TopLeft","TopRight","BottomLeft","BottomRight"],$U=PC.length,w1=t=>typeof t=="string"?parseFloat(t):t,b1=t=>typeof t=="number"||xe.test(t);function KU(t,e,n,s,a,l){a?(t.opacity=gt(0,n.opacity??1,YU(s)),t.opacityExit=gt(e.opacity??1,0,XU(s))):l&&(t.opacity=gt(e.opacity??1,n.opacity??1,s));for(let u=0;u<$U;u++){const f=`border${PC[u]}Radius`;let m=A1(e,f),p=A1(n,f);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||b1(m)===b1(p)?(t[f]=Math.max(gt(w1(m),w1(p),s),0),(Ji.test(p)||Ji.test(m))&&(t[f]+="%")):t[f]=p}(e.rotate||n.rotate)&&(t.rotate=gt(e.rotate||0,n.rotate||0,s))}function A1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const YU=MC(0,.5,_R),XU=MC(.5,.95,ri);function MC(t,e,n){return s=>s<t?0:s>e?1:n(vu(t,e,s))}function S1(t,e){t.min=e.min,t.max=e.max}function ei(t,e){S1(t.x,e.x),S1(t.y,e.y)}function x1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function R1(t,e,n,s,a){return t-=e,t=ud(t,1/n,s),a!==void 0&&(t=ud(t,1/a,s)),t}function QU(t,e=0,n=1,s=.5,a,l=t,u=t){if(Ji.test(e)&&(e=parseFloat(e),e=gt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let f=gt(l.min,l.max,s);t===l&&(f-=e),t.min=R1(t.min,e,n,f,a),t.max=R1(t.max,e,n,f,a)}function C1(t,e,[n,s,a],l,u){QU(t,e[n],e[s],e[a],e.scale,l,u)}const WU=["x","scaleX","originX"],ZU=["y","scaleY","originY"];function I1(t,e,n,s){C1(t.x,e,WU,n?n.x:void 0,s?s.x:void 0),C1(t.y,e,ZU,n?n.y:void 0,s?s.y:void 0)}function N1(t){return t.translate===0&&t.scale===1}function kC(t){return N1(t.x)&&N1(t.y)}function D1(t,e){return t.min===e.min&&t.max===e.max}function JU(t,e){return D1(t.x,e.x)&&D1(t.y,e.y)}function P1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function VC(t,e){return P1(t.x,e.x)&&P1(t.y,e.y)}function M1(t){return Tn(t.x)/Tn(t.y)}function k1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class e5{constructor(){this.members=[]}add(e){Fv(this.members,e),e.scheduleRender()}remove(e){if(zv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function t5(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((a||l||u)&&(s=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:T,rotateY:b,skewX:R,skewY:k}=n;p&&(s=`perspective(${p}px) ${s}`),y&&(s+=`rotate(${y}deg) `),T&&(s+=`rotateX(${T}deg) `),b&&(s+=`rotateY(${b}deg) `),R&&(s+=`skewX(${R}deg) `),k&&(s+=`skewY(${k}deg) `)}const f=t.x.scale*e.x,m=t.y.scale*e.y;return(f!==1||m!==1)&&(s+=`scale(${f}, ${m})`),s||"none"}const xg=["","X","Y","Z"],n5=1e3;let i5=0;function Rg(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function OC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=EC(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ft,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&OC(s)}function LC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(u={},f=e?.()){this.id=i5++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(a5),this.nodes.forEach(u5),this.nodes.forEach(h5),this.nodes.forEach(o5)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new HU)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Gv),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const m=this.eventHandlers.get(u);m&&m.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=ZR(u)&&!$j(u),this.instance=u;const{layoutId:f,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),t){let y,T=0;const b=()=>this.root.updateBlockedByResize=!1;ft.read(()=>{T=window.innerWidth}),t(u,()=>{const R=window.innerWidth;R!==T&&(T=R,this.root.updateBlockedByResize=!0,y&&y(),y=GU(b,250),Vf.hasAnimatedSinceResize&&(Vf.hasAnimatedSinceResize=!1,this.nodes.forEach(L1)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:T,hasRelativeLayoutChanged:b,layout:R})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||p.getDefaultTransition()||g5,{onLayoutAnimationStart:U,onLayoutAnimationComplete:O}=p.getProps(),z=!this.targetLayout||!VC(this.targetLayout,R),q=!T&&b;if(this.options.layoutRoot||this.resumeFrom||q||T&&(z||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const $={...s_(k,"layout"),onPlay:U,onComplete:O};(p.shouldReduceMotion||this.options.layoutRoot)&&($.delay=0,$.type=!1),this.startAnimation($),this.setAnimationOrigin(y,q)}else T||L1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=R})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),qr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(f5),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&OC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const T=this.path[y];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(V1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(O1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(c5),this.nodes.forEach(s5),this.nodes.forEach(r5)):this.nodes.forEach(O1),this.clearAllSnapshots();const f=Rn.now();Jt.delta=Os(0,1e3/60,f-Jt.timestamp),Jt.timestamp=f,Jt.isProcessing=!0,pg.update.process(Jt),pg.preRender.process(Jt),pg.render.process(Jt),Jt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,a_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(l5),this.sharedNodes.forEach(d5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ft.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ft.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Tn(this.snapshot.measuredBox.x)&&!Tn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ct(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!kC(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;u&&this.instance&&(f||Va(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return u&&(m=this.removeTransform(m)),y5(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Ct();const f=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(v5))){const{scroll:p}=this.root;p&&(nl(f.x,p.offset.x),nl(f.y,p.offset.y))}return f}removeElementScroll(u){const f=Ct();if(ei(f,u),this.scroll?.wasRoot)return f;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:y,options:T}=p;p!==this.root&&y&&T.layoutScroll&&(y.wasRoot&&ei(f,u),nl(f.x,y.offset.x),nl(f.y,y.offset.y))}return f}applyTransform(u,f=!1){const m=Ct();ei(m,u);for(let p=0;p<this.path.length;p++){const y=this.path[p];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&il(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Va(y.latestValues)&&il(m,y.latestValues)}return Va(this.latestValues)&&il(m,this.latestValues),m}removeTransform(u){const f=Ct();ei(f,u);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!Va(p.latestValues))continue;_y(p.latestValues)&&p.updateSnapshot();const y=Ct(),T=p.measurePageBox();ei(y,T),I1(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return Va(this.latestValues)&&I1(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Jt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:T}=this.options;if(!(!this.layout||!(y||T))){if(this.resolvedRelativeTargetAt=Jt.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ct(),this.relativeTargetOrigin=Ct(),au(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),ei(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ct(),this.targetWithTransforms=Ct()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),AU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ei(this.target,this.layout.layoutBox),pC(this.target,this.targetDelta)):ei(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ct(),this.relativeTargetOrigin=Ct(),au(this.relativeTargetOrigin,this.target,b.target),ei(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||_y(this.parent.latestValues)||mC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),f=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Jt.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;ei(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,b=this.treeScale.y;O9(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Ct());const{target:R}=u;if(!R){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(x1(this.prevProjectionDelta.x,this.projectionDelta.x),x1(this.prevProjectionDelta.y,this.projectionDelta.y)),ru(this.projectionDelta,this.layoutCorrected,R,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==b||!k1(this.projectionDelta.x,this.prevProjectionDelta.x)||!k1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",R))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=sl(),this.projectionDelta=sl(),this.projectionDeltaWithTransform=sl()}setAnimationOrigin(u,f=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},T=sl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const b=Ct(),R=m?m.source:void 0,k=this.layout?this.layout.source:void 0,U=R!==k,O=this.getStack(),z=!O||O.members.length<=1,q=!!(U&&!z&&this.options.crossfade===!0&&!this.path.some(p5));this.animationProgress=0;let $;this.mixTargetDelta=oe=>{const J=oe/1e3;j1(T.x,u.x,J),j1(T.y,u.y,J),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(au(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),m5(this.relativeTarget,this.relativeTargetOrigin,b,J),$&&JU(this.relativeTarget,$)&&(this.isProjectionDirty=!1),$||($=Ct()),ei($,this.relativeTarget)),U&&(this.animationValues=y,KU(y,p,this.latestValues,J,q,z)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=J},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(qr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ft.update(()=>{Vf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=_l(0)),this.currentAnimation=zU(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),u.onUpdate&&u.onUpdate(f)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(n5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:m,layout:p,latestValues:y}=u;if(!(!f||!m||!p)){if(this!==u&&this.layout&&p&&jC(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||Ct();const T=Tn(this.layout.layoutBox.x);m.x.min=u.target.x.min,m.x.max=m.x.min+T;const b=Tn(this.layout.layoutBox.y);m.y.min=u.target.y.min,m.y.max=m.y.min+b}ei(f,m),il(f,y),ru(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new e5),this.sharedNodes.get(u).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:m}=u;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const p={};m.z&&Rg("z",u,p,this.animationValues);for(let y=0;y<xg.length;y++)Rg(`rotate${xg[y]}`,u,p,this.animationValues),Rg(`skew${xg[y]}`,u,p,this.animationValues);u.render();for(const y in p)u.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);u.scheduleRender()}applyProjectionStyles(u,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=kf(f?.pointerEvents)||"",u.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=kf(f?.pointerEvents)||""),this.hasProjected&&!Va(this.latestValues)&&(u.transform=m?m({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let T=t5(this.projectionDeltaWithTransform,this.treeScale,y);m&&(T=m(y,T)),u.transform=T;const{x:b,y:R}=this.projectionDelta;u.transformOrigin=`${b.origin*100}% ${R.origin*100}% 0`,p.animationValues?u.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const k in wu){if(y[k]===void 0)continue;const{correct:U,applyTo:O,isCSSVariable:z}=wu[k],q=T==="none"?y[k]:U(y[k],p);if(O){const $=O.length;for(let oe=0;oe<$;oe++)u[O[oe]]=q}else z?this.options.visualElement.renderState.vars[k]=q:u[k]=q}this.options.layoutId&&(u.pointerEvents=p===this?kf(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(V1),this.root.sharedNodes.clear()}}}function s5(t){t.updateLayout()}function r5(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?ti(y=>{const T=l?e.measuredBox[y]:e.layoutBox[y],b=Tn(T);T.min=n[y].min,T.max=T.min+b}):jC(a,e.layoutBox,n)&&ti(y=>{const T=l?e.measuredBox[y]:e.layoutBox[y],b=Tn(n[y]);T.max=T.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+b)});const u=sl();ru(u,n,e.layoutBox);const f=sl();l?ru(f,t.applyTransform(s,!0),e.measuredBox):ru(f,n,e.layoutBox);const m=!kC(u);let p=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:T,layout:b}=y;if(T&&b){const R=Ct();au(R,e.layoutBox,T.layoutBox);const k=Ct();au(k,n,b.layoutBox),VC(R,k)||(p=!0),y.options.layoutRoot&&(t.relativeTarget=k,t.relativeTargetOrigin=R,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:f,layoutDelta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function a5(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function o5(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function l5(t){t.clearSnapshot()}function V1(t){t.clearMeasurements()}function O1(t){t.isLayoutDirty=!1}function c5(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function L1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function u5(t){t.resolveTargetDelta()}function h5(t){t.calcProjection()}function f5(t){t.resetSkewAndRotation()}function d5(t){t.removeLeadSnapshot()}function j1(t,e,n){t.translate=gt(e.translate,0,n),t.scale=gt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function U1(t,e,n,s){t.min=gt(e.min,n.min,s),t.max=gt(e.max,n.max,s)}function m5(t,e,n,s){U1(t.x,e.x,n.x,s),U1(t.y,e.y,n.y,s)}function p5(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const g5={duration:.45,ease:[.4,0,.1,1]},B1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),F1=B1("applewebkit/")&&!B1("chrome/")?Math.round:ri;function z1(t){t.min=F1(t.min),t.max=F1(t.max)}function y5(t){z1(t.x),z1(t.y)}function jC(t,e,n){return t==="position"||t==="preserve-aspect"&&!bU(M1(e),M1(n),.2)}function v5(t){return t!==t.root&&t.scroll?.wasRoot}const _5=LC({attachResizeListener:(t,e)=>bu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Cg={current:void 0},UC=LC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Cg.current){const t=new _5({});t.mount(window),t.setOptions({layoutScroll:!0}),Cg.current=t}return Cg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),T5={pan:{Feature:jU},drag:{Feature:LU,ProjectionNode:UC,MeasureLayout:DC}};function q1(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&ft.postRender(()=>l(e,Bu(e)))}class E5 extends Qr{mount(){const{current:e}=this.node;e&&(this.unmount=Fj(e,(n,s)=>(q1(this.node,s,"Start"),a=>q1(this.node,a,"End"))))}unmount(){}}class w5 extends Qr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Lu(bu(this.node.current,"focus",()=>this.onFocus()),bu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function H1(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&ft.postRender(()=>l(e,Bu(e)))}class b5 extends Qr{mount(){const{current:e}=this.node;e&&(this.unmount=Gj(e,(n,s)=>(H1(this.node,s,"Start"),(a,{success:l})=>H1(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const xy=new WeakMap,Ig=new WeakMap,A5=t=>{const e=xy.get(t.target);e&&e(t)},S5=t=>{t.forEach(A5)};function x5({root:t,...e}){const n=t||document;Ig.has(n)||Ig.set(n,{});const s=Ig.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(S5,{root:t,...e})),s[a]}function R5(t,e,n){const s=x5(e);return xy.set(t,n),s.observe(t),()=>{xy.delete(t),s.unobserve(t)}}const C5={some:0,all:1};class I5 extends Qr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:C5[a]},f=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:T}=this.node.getProps(),b=p?y:T;b&&b(m)};return R5(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(N5(e,n))&&this.startObserver()}unmount(){}}function N5({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const D5={inView:{Feature:I5},tap:{Feature:b5},focus:{Feature:w5},hover:{Feature:E5}},P5={layout:{ProjectionNode:UC,MeasureLayout:DC}},M5={...yU,...D5,...T5,...P5},G1=M9(M5,$9),k5=({onClick:t})=>_.jsx("button",{onClick:t,className:"fixed bottom-4 left-4 z-50 p-2 rounded !border-transparent !bg-transparent w-10 h-10 !p-0","aria-label":"Toggle menu",children:_.jsx("img",{src:"/src/assets/svg/hamburger.svg",alt:"Menu Expand Button",className:""})}),zc=({label:t,iconSrc:e,onClick:n})=>_.jsxs("button",{onClick:n,className:`flex items-center gap-2 px-3 !py-5 w-full text-left\r
            !bg-transparent !border-transparent !rounded-none`,children:[_.jsx("img",{src:e,alt:`${t} icon`,className:"w-8 h-8 !object-contain !align-middle"}),_.jsx("h4",{className:"!m-[0] !text-md leading-none !self-center",children:t})]}),BC=C.createContext({user:null,loading:!0}),V5=({children:t})=>{const[e,n]=C.useState(null),[s,a]=C.useState(!0);return C.useEffect(()=>qM(Wi,u=>{n(u),a(!1)}),[]),_.jsx(BC.Provider,{value:{user:e,loading:s},children:t})},Fu=()=>C.useContext(BC),O5=()=>{const{user:t,loading:e}=Fu(),[n,s]=C.useState(null),[a,l]=C.useState(!0),[u,f]=C.useState(!1),m=()=>f(!0),p=async()=>{try{await HM(Wi),console.log("User signed out"),f(!1)}catch(y){console.error("Error signing out:",y)}};return C.useEffect(()=>{if(!t||e)return;console.log(` Setting up profile listener for user: ${t.uid}`);const y=it(qe,"users",t.uid),T=rR(y,b=>{if(console.log(` Profile snapshot received for user ${t.uid}`),b.exists()){const R=b.data(),k={id:b.id,displayName:R.displayName??"Anonymous",xp:R.xp??0,avatarUrl:R.avatarUrl,currentLesson:R.currentLesson??"Intro to Sociology",streaks:R.streaks??0};s(k),console.log(" Profile XP updated to:",R.xp??0),console.log(" Full profile data:",k)}else console.log(" No profile document found for user:",t.uid),s(null);l(!1)},b=>{console.error(" Error listening to profile updates:",b),l(!1)});return()=>{console.log(` Cleaning up profile listener for user: ${t.uid}`),T()}},[t,e]),e||a?_.jsx("p",{className:"p-4 text-center text-gray-600",children:"Loading profile"}):n?_.jsxs("div",{className:"p-4 h-full overflow-y-auto relative",children:[_.jsx("h3",{className:"text-2xl font-bold mb-2",children:"profile"}),_.jsx("p",{className:"text-sm text-gray-700 mb-6",children:"See your progress and badges"}),_.jsxs("div",{className:"flex flex-row items-start p-6",children:[_.jsx("div",{className:"relative",children:_.jsx("img",{src:n.avatarUrl||"/src/assets/soci.png",alt:"Profile avatar",className:"w-28 h-28"})}),_.jsxs("div",{className:"flex-col !items-end",children:[_.jsx("h4",{className:"p-4 !text-base",children:n.displayName}),_.jsxs("span",{className:"p-4 !text-base text-gray-700",children:[n.xp," XP"]})]})]}),_.jsxs("div",{className:"rounded-lg p-2",children:[_.jsx("h5",{className:"!text-lg font-bold mb-2",children:"Current Lesson"}),_.jsx("p",{className:"!text-sm text-gray-700",children:n.currentLesson})]}),_.jsxs("div",{className:"p-2 mb-6",children:[_.jsx("h5",{className:"font-semibold mb-2",children:"Streaks"}),_.jsx("div",{className:"h-[25vh] bg-white rounded-lg flex items-center justify-center",children:" // Placeholder for streaks visualization"})]}),_.jsx("button",{onClick:m,className:"w-full bg-red-500 text-white py-2 font-semibold rounded-lg hover:bg-red-600 transition",children:"SIGN OUT"}),u&&_.jsx("div",{className:"fixed inset-0 bg-gray-100/80 flex items-center justify-center z-50",children:_.jsxs("div",{className:"bg-white rounded-lg p-6 w-80 shadow-lg",children:[_.jsx("h4",{className:"h4",children:"Confirm Sign Out"}),_.jsx("p",{className:"",children:"Are you sure you want to sign out?"}),_.jsxs("div",{className:"flex justify-end space-x-4",children:[_.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 text-white bg-gray-300 rounded ",children:"CANCEL"}),_.jsx("button",{onClick:p,className:"px-4 py-2 !bg-red-500 text-white rounded",children:"SIGN OUT"})]})]})})]}):_.jsx("p",{className:"p-4 text-center text-gray-600",children:"No profile found"})};async function FC(t,e){if(e<=0)throw new Error("xp amount needs to be positive");try{console.log(` Starting XP award: ${e} XP to user ${t}`);const n=it(qe,"users",t),s=await wi(n);if(!s.exists())throw new Error("user not found");const a=s.data(),l=a.xp||0,u=l+e;console.log(` XP Update: ${l}  ${u} (+${e})`),await vl(n,{xp:u,updatedAt:cn()}),console.log(` User document updated with new XP: ${u}`);const f=await checkLeaderboardEligibility(t,u,a.displayName||"Anonymous");return console.log(" Leaderboard check result:",f),await L5(),console.log(" Leaderboard updated successfully"),u}catch(n){throw console.error(" Error awarding XP:",n),n}}async function Ry(t){try{const e=it(qe,"users",t),n=await wi(e);return n.exists()&&n.data().xp||0}catch(e){return console.error("error getting user xp:",e),0}}async function L5(){try{console.log(" Updating leaderboard...");const t=Dr(qe,"users"),e=Wo(t,Nf("xp","desc"),k6(10)),n=await Zo(e),s=[],a=[];n.forEach(l=>{const u=l.data();s.push(l.id),a.push({id:l.id,xp:u.xp||0})}),console.log(" Top 10 users by XP:",a),await Jo(it(qe,"leaderboard","top10"),{topUserIds:s,updatedAt:cn()}),console.log(" Leaderboard document updated with top users:",s)}catch(t){throw console.error(" Error updating leaderboard:",t),t}}async function j5(t){try{const e=await Ry(t),n=it(qe,"leaderboard","top10"),s=await wi(n);if(!s.exists())return{onLeaderboard:!1,xp:e};const a=s.data().topUserIds||[],l=a.indexOf(t);if(l!==-1)return{onLeaderboard:!0,rank:l+1,xp:e};if(a.length>0){const u=a[a.length-1],f=await Ry(u),m=Math.max(0,f-e+1);return{onLeaderboard:!1,xp:e,xpToNextRank:m}}return{onLeaderboard:!1,xp:e}}catch(e){return console.error("Error getting leaderboard status:",e),{onLeaderboard:!1,xp:0}}}function U5(){const[t,e]=C.useState(""),[n,s]=C.useState(""),[a,l]=C.useState(""),[u,f]=C.useState(null),[m,p]=C.useState(!1),[y,T]=C.useState(!1),[b,R]=C.useState(!1),[k,U]=C.useState(""),[O,z]=C.useState(""),[q,$]=C.useState(""),[oe,J]=C.useState(""),[ie,I]=C.useState(null),[x,N]=C.useState(""),[L,V]=C.useState(!1),[B,P]=C.useState(null);C.useEffect(()=>{(async()=>{const W=Wi.currentUser;if(W)try{const le=await wi(it(qe,"users",W.uid));le.exists()&&R(le.data().admin||!1)}catch(le){console.error("Error checking admin status:",le)}})()},[]);async function He(){const D=Wi.currentUser,W=t.trim(),le=W===""?0:W.split(/\s+/).length;if(le===0){s("Please write something");return}if(le>500){s("Too long (max 500 words)");return}try{await sR(Dr(qe,"reports"),{message:W,wordCount:le,sourcePage:"landing",uid:D?.uid??null,email:D?.email??null,displayName:D?.displayName??null,createdAt:cn()}),e(""),s("Thank you for your report!")}catch(he){console.error("Error Submitting Report. Please try again later.",he),s("Failed to submit")}}async function De(){J("Searching..."),I(null);try{if(q.includes("@")){const D=Wo(Dr(qe,"users"),Yo("email","==",q)),W=await Zo(D);if(W.empty)J("No user found with that email.");else{const le=W.docs[0];I({uid:le.id,...le.data()}),J("User found by email.")}}else{const D=it(qe,"users",q),W=await wi(D);W.exists()?(I({uid:W.id,...W.data()}),J("User found by UID.")):J("No user found with that UID.")}}catch(D){console.error("Error searching user:",D),J("Search failed.")}}async function Z(){const D=parseInt(k);if(!ie||isNaN(D)){z("Invalid target or amount.");return}try{const W=await FC(ie.uid,D);U(""),z(`XP updated. New XP: ${W}`)}catch(W){console.error("Error updating XP:",W),z("Failed to update XP.")}}async function ae(){if(!ie){l("No target user.");return}try{await mf(it(qe,"users",ie.uid)),await mf(it(qe,"leaderboard",ie.uid)),l("User account and leaderboard entry deleted."),I(null)}catch(D){console.error("Error deleting user:",D),l("Failed to delete user.")}}async function ue(){const D=Wi.currentUser;if(!D){l("No user is signed in.");return}try{await mf(it(qe,"users",D.uid)),await mf(it(qe,"leaderboard",D.uid)),await GM(D),l("Your account and leaderboard entry have been deleted."),f(null)}catch(W){console.error("Error deleting account:",W),W.code==="auth/requires-recent-login"?l("Please reauthenticate to delete your account."):l("Failed to delete account.")}}async function Ce(D){if(!(!ie||D===null))try{await vl(it(qe,"users",ie.uid),{admin:D}),I({...ie,admin:D}),N(`Admin status updated to: ${D?"Admin":"Not Admin"}`)}catch(W){console.error("Error updating admin status:",W),N("Failed to update admin status.")}}return _.jsxs("div",{className:"panel-content relative",children:[_.jsx("h3",{className:"subheading",children:"Settings"}),_.jsxs("div",{className:"mt-4 mb-6 max-w-[600px] space-y-4",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("span",{className:"text-sm text-gray-700",children:"Text-to-Speech"}),_.jsx("button",{onClick:()=>p(!m),className:`relative inline-flex h-6 w-11 items-center rounded-full transition ${m?"bg-blue-600":"bg-gray-300"}`,children:_.jsx("span",{className:`absolute left-1 top-1 h-4 w-4 rounded-full bg-white transition-transform ${m?"translate-x-5":"translate-x-0"}`})})]}),_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("span",{className:"text-sm text-gray-700",children:"Music"}),_.jsx("button",{onClick:()=>T(!y),className:`relative inline-flex h-6 w-11 items-center rounded-full transition  ${y?"bg-blue-600":"bg-gray-300"}`,children:_.jsx("span",{className:`absolute left-1 top-1 h-4 w-4 rounded-full bg-white transition-transform ${y?"translate-x-5":"translate-x-0"}`})})]})]}),_.jsxs("div",{className:"mt-8 max-w-[600px]",children:[_.jsx("textarea",{value:t,onChange:D=>e(D.target.value),placeholder:"Write your feedback/report here (max 500 words)",rows:5,className:"w-full border rounded p-2"}),_.jsx("button",{onClick:He,className:"w-full mt-2 bg-blue-500 text-white py-2 rounded",children:"Report to Developer"}),_.jsx("p",{children:n}),_.jsxs("p",{children:["Word count:"," ",t.trim()===""?0:t.trim().split(/\s+/).length,"/500"]})]}),b&&_.jsxs("div",{className:"mt-8 max-w-[600px] border-t pt-6",children:[_.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Admin Controls"}),_.jsxs("div",{className:"mb-4",children:[_.jsx("input",{type:"text",value:q,onChange:D=>$(D.target.value),placeholder:"Enter user email or UID",className:"w-full border rounded p-2"}),_.jsx("button",{onClick:De,className:"mt-2 w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-600",children:"Search User"}),_.jsx("p",{className:"text-sm mt-2",children:oe})]}),ie&&_.jsxs("div",{className:"mb-4",children:[_.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:["Target: ",ie.displayName||ie.email||ie.uid," Current XP: ",ie.xp]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("input",{type:"number",value:k,onChange:D=>U(D.target.value),placeholder:"XP amount (+/-)",className:"flex-1 border rounded p-2"}),_.jsx("button",{onClick:Z,className:"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600",children:"Update XP"})]}),_.jsx("p",{className:"mt-2 text-sm",children:O})]}),ie&&_.jsxs("div",{className:"mt-4",children:[_.jsx("button",{onClick:()=>f("admin"),className:"w-full bg-red-500 text-white py-2 rounded hover:bg-red-600",children:"Delete This User"}),_.jsx("p",{className:"mt-2 text-sm text-red-600",children:a}),_.jsxs("div",{className:"mt-6",children:[_.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:["Admin Status: ",ie.admin?" Admin":" Not Admin"]}),_.jsx("button",{onClick:()=>{P(!ie.admin),V(!0)},className:`w-full py-2 rounded text-white ${ie.admin?"bg-yellow-500 hover:bg-yellow-600":"bg-blue-500 hover:bg-blue-600"}`,children:ie.admin?"Revoke Admin":"Make Admin"}),_.jsx("p",{className:"mt-2 text-sm",children:x})]})]})]}),_.jsxs("div",{className:"mt-12 max-w-[600px] border-t pt-6",children:[_.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Delete Account"}),_.jsx("p",{className:"text-sm text-gray-700 mb-4",children:"This will permanently delete your account and all associated data."}),_.jsx("button",{onClick:()=>f("self"),className:"w-full bg-red-500 text-white py-2 rounded hover:bg-red-600",children:"Delete My Account"}),_.jsx("p",{className:"mt-2 text-sm text-red-600",children:a})]}),L&&_.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[_.jsx("div",{className:"absolute inset-0 bg-black/50"}),_.jsxs("div",{className:"relative bg-white rounded-lg p-6 w-[90%] max-w-md shadow-lg z-10",children:[_.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Confirm Admin Change"}),_.jsxs("p",{className:"text-sm text-gray-700 mb-6",children:["Are you sure you want to ",B?"grant":"revoke"," admin privileges for this user?"]}),_.jsxs("div",{className:"flex justify-end space-x-4",children:[_.jsx("button",{onClick:()=>V(!1),className:"px-4 py-2 bg-gray-300 text-white rounded hover:bg-gray-400",children:"Cancel"}),_.jsx("button",{onClick:async()=>{await Ce(B),V(!1)},className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600",children:"Confirm"})]})]})]}),u&&_.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[_.jsx("div",{className:"absolute inset-0 bg-black/50"}),_.jsxs("div",{className:"relative bg-white rounded-lg p-6 w-[90%] max-w-md shadow-lg z-10",children:[_.jsx("h4",{className:"text-lg font-semibold mb-4",children:u==="self"?"Confirm Account Deletion":"Confirm User Deletion"}),_.jsx("p",{className:"text-sm text-gray-700 mb-6",children:u==="self"?"Are you sure you want to permanently delete your account? This action cannot be undone.":"Are you sure you want to permanently delete this user's account? This action cannot be undone."}),_.jsxs("div",{className:"flex justify-end space-x-4",children:[_.jsx("button",{onClick:()=>f(null),className:"px-4 py-2 bg-gray-300 text-white rounded hover:bg-gray-400",children:"Cancel"}),_.jsx("button",{onClick:async()=>{u==="self"?await ue():await ae(),f(null)},className:"px-4 py-2 !bg-red-500 text-white rounded",children:"Delete"})]})]})]})]})}const B5=()=>{const[t,e]=C.useState([]),[n,s]=C.useState(!0);return C.useEffect(()=>{console.log(" Setting up leaderboard listener");const a=it(qe,"leaderboard","top10"),l=rR(a,async u=>{console.log(" Leaderboard snapshot received");try{if(!u.exists()){console.log(" No leaderboard document found"),e([]),s(!1);return}const f=u.data();console.log(" Leaderboard document data:",f);const m=f.topUserIds??[];if(m.length===0){console.log(" No users in leaderboard"),e([]),s(!1);return}console.log(` Fetching data for ${m.length} users:`,m);const p=m.map(async b=>{const R=await wi(it(qe,"users",b)),k=R.exists()?R.data():{displayName:"Unknown",xp:0,avatarUrl:null};return console.log(` User ${b} data:`,{xp:k.xp,displayName:k.displayName}),{id:b,displayName:k.displayName??"Anonymous",xp:k.xp??0,avatarUrl:k.avatarUrl??null}}),T=(await Promise.all(p)).sort((b,R)=>R.xp-b.xp);console.log(" Final sorted leaderboard:",T.map(b=>({name:b.displayName,xp:b.xp}))),e(T),s(!1),console.log(" Leaderboard updated with latest XP data")}catch(f){console.error(" Error fetching leaderboard:",f),s(!1)}});return()=>{console.log(" Cleaning up leaderboard listener"),l()}},[]),n?_.jsx("p",{className:"p-2 text-center",children:"Loading leaderboard"}):_.jsxs("div",{className:"p-2 h-full overflow-y-auto",children:[_.jsx("h3",{className:"!text-2xl h3 text-center mb-2",children:"Leaderboard"}),_.jsx("p",{className:"text-center text-sm mb-2",children:"Gain XP and become a top player"}),_.jsx("ul",{className:"space-y-3",children:t.map((a,l)=>{let u="";return l===0&&(u="/src/assets/svg/gold_trophy.svg"),l===1&&(u="/src/assets/svg/silver_trophy.svg"),l===2&&(u="/src/assets/svg/bronze_trophy.svg"),_.jsxs("li",{className:"flex items-center justify-between bg-white rounded-lg shadow p-2",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[u?_.jsx("img",{src:u,alt:"Trophy",className:"w-6 h-6 shrink-0"}):_.jsx("span",{className:"w-6 text-center",children:l+1}),a.avatarUrl&&_.jsx("img",{src:a.avatarUrl||"/src/assets/svg/avatars/soci_lightblue.svg",alt:`${a.displayName}'s Avatar`,className:"w-8 h-8 rounded-full"}),_.jsx("span",{children:a.displayName})]}),_.jsxs("span",{className:"text-sm",children:[a.xp," XP"]})]},a.id)})})]})},F5=()=>{const[t,e]=C.useState(""),[n,s]=C.useState("");async function a(){const l=Wi.currentUser,u=t.trim(),f=u===""?0:u.split(/\s+/).length;if(f===0){s("Please write something");return}if(f>500){s("Too long (max 500 words)");return}try{await sR(Dr(qe,"suggestions"),{message:u,wordCount:f,sourcePage:"landing",uid:l?.uid??null,email:l?.email??null,displayName:l?.displayName??null,createdAt:cn()}),e(""),s("Thank you for your suggestion!")}catch(m){console.error("Error Submitting suggestion. Please try again later.",m),s("Failed to submit")}}return _.jsx("div",{className:"p-4 h-full overflow-y-auto relative",children:_.jsxs("div",{className:"p-2 mb-6",children:[_.jsx("h3",{className:"",children:" about "}),_.jsx("p",{className:"text-sm mb-6",children:" Learn how to play and provide suggestions! "}),_.jsxs("div",{className:"bg-white rounded-lg justify-center",children:[_.jsx("h4",{className:"font-semibold text-center pt-2 mb-2",children:"How to Play"}),_.jsxs("ol",{className:"list-decimal list-inside p-6 space-y-3 pb-10",children:[_.jsx("li",{children:"create an account"}),_.jsx("li",{children:"select a house in the city to stat a lesson"}),_.jsx("li",{children:"make progress and have fun"}),_.jsx("li",{children:"customize your companion (character tab)"}),_.jsx("li",{children:"invite your friends and compete on the leaderboard!"}),_.jsx("li",{children:"suggest lesson ideas and improvements below"})]})]}),_.jsxs("div",{className:"mt-8 max-w-[600px]",children:[_.jsx("textarea",{value:t,onChange:l=>e(l.target.value),placeholder:"Write your suggestion here (max 500 words)",rows:5,className:"w-full border rounded p-2"}),_.jsx("button",{onClick:a,className:"w-full mt-2 bg-blue-500 text-white py-2 rounded",children:"Suggest"}),_.jsx("p",{children:n}),_.jsxs("p",{children:["Word count:"," ",t.trim()===""?0:t.trim().split(/\s+/).length,"/500"]})]})]})})},z5=()=>{const{user:t,loading:e}=Fu(),[n,s]=C.useState(null),[a,l]=C.useState(!0);if(C.useEffect(()=>{e||(async()=>{if(!t)return;const m=it(qe,"users",t.uid),p=await wi(m);if(p.exists()){const y=p.data();s(y.avatarUrl??null)}l(!1)})()},[t,e]),e||a)return _.jsx("p",{className:"p-4 text-center text-gray-600",children:"Loading avatar"});if(!n)return _.jsx("p",{className:"p-4 text-center text-gray-600",children:"No avatar found"});const u=async f=>{if(!t)return;const m=it(qe,"users",t.uid);await vl(m,{avatarUrl:f}),s(f)};return _.jsxs("div",{className:"p-4 h-full overflow-y-auto relative",children:[_.jsx("h3",{className:"pt-4",children:" customize "}),_.jsx("p",{children:" Customize soci with different skins!"}),_.jsx("h4",{className:"!mb-0 !mt-8",children:" Soci "}),_.jsx("div",{className:"bg-white flex pt-0 rounded-lg justify-center items-center w-64 h-64",children:_.jsx("img",{src:n,alt:"User Avatar",className:"w-48 h-48 mx-auto"})}),_.jsx("h4",{className:"!mb-0 !mt-8",children:" Skins "}),_.jsxs("div",{className:"bg-white flex pt-0 rounded-lg items-center w-64 h-12",children:[_.jsx("button",{onClick:()=>u("/src/assets/svg/avatars/soci_orange.svg"),className:"!bg-transparent !pl-2 !p-1",children:_.jsx("img",{src:"/src/assets/svg/avatars/soci_orange_selector.svg",alt:"User Avatar",className:"w-6 h-6 mx-auto"})}),_.jsx("button",{onClick:()=>u("/src/assets/svg/avatars/soci_lightblue.svg"),className:"!bg-transparent !pl-2 !p-1",children:_.jsx("img",{src:"/src/assets/svg/avatars/soci_lightblue_selector.svg",alt:"User Avatar",className:"w-6 h-6 mx-auto"})}),_.jsx("button",{onClick:()=>u("/src/assets/svg/avatars/soci_green.svg"),className:"!bg-transparent !pl-2 !p-1",children:_.jsx("img",{src:"/src/assets/svg/avatars/soci_green_selector.svg",alt:"User Avatar",className:"w-6 h-6 mx-auto"})}),_.jsx("button",{onClick:()=>u("/src/assets/svg/avatars/soci_pink.svg"),className:"!bg-transparent !pl-2 !p-1",children:_.jsx("img",{src:"/src/assets/svg/avatars/soci_pink_selector.svg",alt:"User Avatar",className:"w-6 h-6 mx-auto"})}),_.jsx("button",{onClick:()=>u("/src/assets/svg/avatars/soci_butter.svg"),className:"!bg-transparent !pl-2 !p-1",children:_.jsx("img",{src:"/src/assets/svg/avatars/soci_butter_selector.svg",alt:"User Avatar",className:"w-6 h-6 mx-auto"})}),_.jsx("button",{onClick:()=>u("/src/assets/svg/avatars/soci_darkblue.svg"),className:"!bg-transparent !pl-2 !p-1",children:_.jsx("img",{src:"/src/assets/svg/avatars/soci_darkblue_selector.svg",alt:"User Avatar",className:"w-6 h-6 mx-auto"})})]})]})},q5=({isOpen:t})=>{const[e,n]=C.useState(null),s=a=>{n(l=>l===a?null:a)};return _.jsxs("div",{className:`fixed top-[5vh] left-0 h-[95vh] flex z-40 transition-all duration-300
        ${t?"w-screen md:w-[60vw]":"w-0 invisible pointer-events-none"}`,children:[_.jsxs("div",{className:`flex flex-col items-stretch pt-4 bg-[#C1D6EB] transition-opacity duration-300
          ${t?"opacity-100 visible":"opacity-0 invisible pointer-events-none"}
          w-[4vw] md:w-[24vw]`,children:[_.jsx(zc,{label:"Profile",iconSrc:"/src/assets/svg/profile.svg",onClick:()=>s("profile")}),_.jsx(zc,{label:"Settings",iconSrc:"/src/assets/svg/gear.svg",onClick:()=>s("settings")}),_.jsx(zc,{label:"Leaderboard",iconSrc:"/src/assets/svg/leaderboard.svg",onClick:()=>s("leaderboard")}),_.jsx(zc,{label:"Character",iconSrc:"/src/assets/svg/customize.svg",onClick:()=>s("character")}),_.jsx(zc,{label:"About",iconSrc:"/src/assets/svg/about.svg",onClick:()=>s("about")})]}),t&&e&&_.jsxs("div",{className:"flex-1 bg-[#92B6DB] p-4 overflow-y-auto transition-transform duration-300",children:[e==="profile"&&_.jsx(O5,{}),e==="settings"&&_.jsx(U5,{}),e==="leaderboard"&&_.jsx(B5,{}),e==="character"&&_.jsx(z5,{}),e==="about"&&_.jsx(F5,{})]})]})},H5="/Sociopolis/assets/landing_city_day-BKnfZeHT.svg";function G5(){return _.jsx("div",{className:"absolute inset-0 w-full h-full bg-cover bg-center bg-no-repeat z-0",style:{backgroundImage:`url(${H5})`}})}const $5=t=>C.createElement("svg",{id:"Layer_3","data-name":"Layer 3",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 429.71 543.79",...t},C.createElement("defs",null,C.createElement("style",null,`
      .cls-1 {
        fill: #c1d6eb;
      }

      .cls-2 {
        fill: #6297cb;
      }
    `)),C.createElement("rect",{className:"cls-1",x:55.99,y:18.81,width:317.74,height:500.35,rx:8,ry:8}),C.createElement("path",{className:"cls-2",d:"M183.03,391.75h71.6c5.52,0,10,4.48,10,10v116.72h-91.6v-116.72c0-5.52,4.48-10,10-10Z"}),C.createElement("rect",{className:"cls-2",x:244.64,y:225.97,width:73.56,height:86.03,rx:6.46,ry:6.46}),C.createElement("rect",{className:"cls-2",x:112.68,y:79.07,width:73.56,height:86.03,rx:6.46,ry:6.46}),C.createElement("rect",{className:"cls-2",x:243.68,y:79.07,width:73.56,height:86.03,rx:6.46,ry:6.46}),C.createElement("rect",{className:"cls-2",x:113.65,y:225.97,width:73.56,height:86.03,rx:6.46,ry:6.46})),K5=t=>C.createElement("svg",{id:"Layer_3","data-name":"Layer 3",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 429.71 543.79",...t},C.createElement("defs",null,C.createElement("style",null,`
      .cls-1 {
        fill: #d3d486;
      }

      .cls-2 {
        fill: #b4b534;
      }

      .cls-3 {
        fill: #f0f0d6;
      }
    `)),C.createElement("path",{className:"cls-2",d:"M88.95,217.1h251.82v227.9c0,2.21-1.79,4-4,4H92.95c-2.21,0-4-1.79-4-4v-227.9h0Z"}),C.createElement("path",{className:"cls-1",d:"M340.69,217.1H89.02s-.62-5.11.87-8.35c12.07-26.1,110.72-145.38,110.72-145.38,3.62-4.63,8.92-6.95,14.24-6.96,5.32.02,10.62,2.34,14.24,6.96,0,0,98.65,119.28,110.72,145.38,1.49,3.24.87,8.35.87,8.35Z"}),C.createElement("rect",{className:"cls-3",x:138.72,y:289.31,width:53.13,height:82.51,rx:6.46,ry:6.46}),C.createElement("path",{className:"cls-3",d:"M246.75,289.31h36.82c5.52,0,10,4.48,10,10v149.69h-56.82v-149.69c0-5.52,4.48-10,10-10Z"})),Y5=t=>C.createElement("svg",{id:"Layer_3","data-name":"Layer 3",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 429.71 543.79",...t},C.createElement("defs",null,C.createElement("style",null,`
      .cls-1 {
        fill: #fcf0f3;
      }

      .cls-2 {
        fill: #f5c3cf;
      }

      .cls-3 {
        fill: #e36888;
      }
    `)),C.createElement("rect",{className:"cls-3",x:75.5,y:157.8,width:289.04,height:315.1,rx:4,ry:4}),C.createElement("path",{className:"cls-2",d:"M378.53,162.28H60.32c-7.66.06-13.32-11.18-5.96-21.83l38.21-59.27c1.76-3.21,5.09-5.18,8.69-5.18h236.35c3.6,0,6.92,1.97,8.69,5.18l38.21,59.27c7.35,10.64,1.69,21.89-5.96,21.83Z"}),C.createElement("path",{className:"cls-1",d:"M187.96,345.39h64.12c5.52,0,10,4.48,10,10v117.5h-84.12v-117.5c0-5.52,4.48-10,10-10Z"}),C.createElement("rect",{className:"cls-1",x:126.18,y:206.59,width:57.52,height:75.33,rx:6.46,ry:6.46}),C.createElement("rect",{className:"cls-1",x:254.67,y:206.59,width:57.52,height:75.33,rx:6.46,ry:6.46})),X5=t=>C.createElement("svg",{id:"Layer_3","data-name":"Layer 3",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 429.71 543.79",...t},C.createElement("defs",null,C.createElement("style",null,`
      .cls-1 {
        fill: #f3d990;
      }

      .cls-2 {
        fill: #f7b066;
      }

      .cls-3 {
        fill: #f2d88f;
      }

      .cls-4 {
        fill: #fde8d3;
      }

      .cls-5 {
        fill: #dbc382;
      }
    `)),C.createElement("rect",{className:"cls-3",x:77.71,y:211.01,width:266.97,height:226.12,rx:8,ry:8}),C.createElement("rect",{className:"cls-5",x:77.71,y:201.28,width:266.97,height:58.86}),C.createElement("g",null,C.createElement("path",{className:"cls-1",d:"M183.04,126.69l52.07.04s6.84,74.31,9.82,98.5c1.4,11.36-7.03,30.41-34.47,30-25.9-.39-35.25-21.97-33.64-42.13,1.81-22.7,6.23-86.41,6.23-86.41Z"}),C.createElement("path",{className:"cls-1",d:"M114.93,217.68c2.34-10.65,18.29-90.51,18.29-90.51l-37.47-.44c-6.52-.05-12.41,3.37-14.89,9.32,0,0-20.38,58.47-26.18,78.31-3.47,11.89-1.58,36.99,25.61,36.99,29.29,0,32-21.68,34.64-33.67Z"}),C.createElement("path",{className:"cls-1",d:"M344,136.63c-2.49-5.87-8.38-9.67-14.89-9.62h-40.27s17.65,82.54,20.38,93.37c3.46,13.7,10.96,33.4,39.54,33.4,19.69,0,35.37-19.22,23.41-44.59-10.02-21.26-28.18-72.55-28.18-72.55Z"}),C.createElement("path",{className:"cls-2",d:"M183.04,126.69l-49.81.48s-16.96,79.13-17.53,87.27c-.68,9.64-6.19,39.03,26.56,40.27,33.29,1.25,34.33-28.97,34.27-36.34-.08-8.89,6.51-91.69,6.51-91.69Z"}),C.createElement("path",{className:"cls-2",d:"M288.83,127s19.48,77.44,21.38,97.44c1.07,11.19-4.04,29.63-29.42,29.63-27.76,0-34.12-13.94-36.11-30.93-2.11-17.95-9.58-96.41-9.58-96.41l53.73.26Z"})),C.createElement("path",{className:"cls-4",d:"M129.95,295.81h50.66c5.52,0,10,4.48,10,10v131.32h-70.66v-131.32c0-5.52,4.48-10,10-10Z"}),C.createElement("rect",{className:"cls-4",x:223.11,y:295.81,width:79.07,height:75.97,rx:6.46,ry:6.46})),Q5=[{id:"blueHouse",ariaLabel:"Blue House - Communication Skills",x:"25%",y:"45%",icon:_.jsx($5,{}),initialProgress:0,lessonId:"unit-1-why-people-do-what-they-do",title:"Why People Do What They Do",description:"Explore how culture, socialization, and groups shape behavior",color:"blue",difficulty:"beginner"},{id:"greenHouse",ariaLabel:"Green House - Emotional Intelligence",x:"45%",y:"50%",icon:_.jsx(K5,{}),initialProgress:0,lessonId:"emotional-intelligence",title:"Emotional Intelligence",description:"Understand and manage emotions",color:"green",difficulty:"intermediate"},{id:"pinkHouse",ariaLabel:"Pink House - Building Relationships",x:"65%",y:"45%",icon:_.jsx(Y5,{}),initialProgress:0,lessonId:"building-relationships",title:"Building Relationships",description:"Create meaningful connections",color:"pink",difficulty:"beginner"},{id:"yellowHouse",ariaLabel:"Yellow House - Conflict Resolution",x:"85%",y:"55%",icon:_.jsx(X5,{}),initialProgress:0,lessonId:"conflict-resolution",title:"Conflict Resolution",description:"Master conflict management strategies",color:"yellow",difficulty:"advanced"}];function W5(){const[t,e]=C.useState(!1),[n,s]=C.useState(null),a=ts(),l=C.useRef(null);C.useEffect(()=>{if(!l.current)return;try{document.querySelectorAll("lottie-player[data-landing-lottie]").forEach(ie=>ie.remove())}catch{}const m=document.createElement("lottie-player");m.setAttribute("src","/src/assets/lottie/walk_cycle.json"),m.setAttribute("data-landing-lottie","true"),m.setAttribute("background","transparent"),m.setAttribute("speed","1"),m.setAttribute("loop","true"),m.setAttribute("autoplay","true"),m.style.position="absolute",m.style.top="90dvh",m.style.left="calc(100% - 2rem - 120px)",m.style.transform="translateY(-50%)",m.style.transformOrigin="center center",m.style.zIndex="9999",m.style.width="240px",m.style.height="240px",m.style.transition="left 350ms ease, transform 120ms ease",m.style.pointerEvents="auto",l.current.appendChild(m);let p=null,y=!1,T=null,b=null,R=null,k=null;const U=1e3,O=[],z=24,q=400,$=ie=>{y=ie,O.length=0,k!==null&&(T=k-m.offsetWidth/2),m.style.transform="translateY(-50%)",m.style.willChange="transform",m.style.backfaceVisibility="hidden";try{const I=m.shadowRoot?.querySelector("svg, canvas, div")||m;if(I){I.style.transformOrigin="center center",I.style.transformBox="fill-box",I.style.willChange="transform",I.style.backfaceVisibility="hidden",I.style.transform=`scaleX(${ie?-1:1})`;return}}catch{}m.style.transform=`translateY(-50%) scaleX(${ie?-1:1})`},oe=ie=>{const I=ie.clientX;ie.clientY,k=I,p===null&&(p=I);const x=I-p;x<-2&&!y?$(!0):x>2&&y&&$(!1),p=I,O.push({x:I,t:performance.now()});const N=performance.now()-U;for(;O.length&&O[0].t<N;)O.shift();R===null&&J()},J=()=>{const ie=performance.now()-U;let I=null;for(let De=O.length-1;De>=0;De--)if(O[De].t<=ie){I=O[De];break}if(!I&&O.length&&(I=O[0]),!I){R=null;return}if(T=I.x-m.offsetWidth/2,b===null){const De=m.getBoundingClientRect();b=De.left,De.top,m.style.left=`${b}px`}const x=T-b,N=m.getBoundingClientRect(),L=N.left+N.width/2,V=Math.abs(T-L),B=window.innerWidth/100*5;let P=z,He=q;if(V>B){const Z=1+(V-B)/(window.innerWidth/2);P=Math.round(z*Z),He=Math.round(q/Z),m.setAttribute("speed",String(.5+Z*.5))}else m.setAttribute("speed","1");if(Math.abs(x)>1){const De=(x>0?1:-1)*P;b+=De,m.style.left=`${b}px`}else b=T,m.style.left=`${b}px`;Math.abs(T-b)>1?R=window.setTimeout(J,He):(R=null,m.setAttribute("speed","1"))};return document.addEventListener("pointermove",oe),()=>{if(l.current&&m.parentNode===l.current&&l.current.removeChild(m),document.removeEventListener("pointermove",oe),R!==null){try{window.clearTimeout(R)}catch{}R=null}try{document.querySelectorAll("lottie-player[data-landing-lottie]").forEach(ie=>ie.remove())}catch{}}},[]);const u=m=>{console.log(`Navigating to lesson: ${m}`),a(`/lesson/${m}`)},f=m=>{switch(m){case"beginner":return"bg-green-500";case"intermediate":return"bg-yellow-500";case"advanced":return"bg-red-500";default:return"bg-gray-500"}};return _.jsxs("div",{className:"relative min-h-screen overflow-hidden",children:[_.jsx("div",{ref:l,"aria-hidden":!0,style:{position:"absolute",inset:0,pointerEvents:"none"}}),_.jsx(k5,{onClick:()=>e(!t)}),_.jsx(q5,{isOpen:t}),_.jsx(G5,{}),Q5.map(m=>_.jsxs("div",{className:"absolute",style:{left:m.x,top:m.y,transform:"translate(-50%, -50%)",transformOrigin:"center center"},onMouseEnter:()=>s(m.id),onMouseLeave:()=>s(null),children:[_.jsxs(G1.button,{"aria-label":m.ariaLabel,onClick:()=>u(m.lessonId),className:"relative cursor-pointer outline-none focus-visible:ring-4 focus-visible:ring-white/80 rounded-full",whileHover:{scale:1.15},whileTap:{scale:.95},transition:{type:"spring",stiffness:300,damping:20},children:[_.jsx("div",{className:"w-24 h-24 drop-shadow-lg hover:drop-shadow-2xl transition-all duration-300 filter hover:brightness-110",children:(Xo.isValidElement(m.icon),m.icon)}),_.jsx("div",{className:"absolute inset-0 -z-10",children:_.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",children:[_.jsx("circle",{cx:"50",cy:"50",r:"48",fill:"none",stroke:"rgba(255, 255, 255, 0.3)",strokeWidth:"2"}),_.jsx("circle",{cx:"50",cy:"50",r:"48",fill:"none",stroke:"rgba(255, 255, 255, 0.8)",strokeWidth:"2",strokeDasharray:`${m.initialProgress*3.01} 301`,strokeLinecap:"round",transform:"rotate(-90 50 50)"})]})})]}),_.jsx(t9,{children:n===m.id&&_.jsxs(G1.div,{initial:{opacity:0,y:10,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.9},transition:{duration:.2},className:"absolute top-full mt-4 left-1/2 -translate-x-1/2 z-50 pointer-events-none",children:[_.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-xl shadow-2xl p-4 min-w-[250px] border-2 border-white/50",children:[_.jsxs("div",{className:"flex items-start justify-between mb-2",children:[_.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:m.title}),_.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs font-semibold text-white ${f(m.difficulty)}`,children:m.difficulty})]}),_.jsx("p",{className:"text-gray-600 text-sm mb-3",children:m.description}),_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("span",{className:"text-xs text-gray-500",children:"Click to start lesson"}),_.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})]}),_.jsx("div",{className:"absolute -top-2 left-1/2 -translate-x-1/2 w-4 h-4 bg-white/95 rotate-45 border-t-2 border-l-2 border-white/50"})]})})]},m.id))]})}function Ng({children:t}){const{user:e,loading:n}=Fu();return n?_.jsx("p",{children:"Loading..."}):!e||!e.emailVerified?_.jsx(rA,{to:"/auth",replace:!0}):t}function $1({children:t}){const{user:e,loading:n}=Fu();return n?_.jsx("p",{children:"Loading..."}):e&&e.emailVerified?_.jsx(rA,{to:"/landing",replace:!0}):t}const K1={"communication-basics":{id:"communication-basics",title:"Communication Skills",description:"Master the fundamentals of effective communication in social settings",difficulty:"beginner",estimatedDuration:15,tags:["communication","social-skills","listening"],sections:[{title:"Introduction to Communication",content:`Welcome to Communication Skills! 

In this lesson, you'll learn the essential building blocks of effective communication. Communication is the exchange of information, ideas, and feelings between people.`},{title:"Key Communication Elements",content:`**Active Listening** - Pay full attention to the speaker

**Clear Expression** - Say what you mean in simple terms

**Body Language** - Your gestures and posture matter

**Tone of Voice** - How you say something is as important as what you say`},{title:"Active Listening Tips",content:`1. Make eye contact with the speaker
2. Avoid interrupting
3. Ask clarifying questions
4. Paraphrase to show understanding
5. Show engagement through nodding and facial expressions`},{title:"Practice & Conclusion",content:`**Practice Exercise:**
Next time you have a conversation, try to focus entirely on what the other person is saying. Don't think about your response while they're talking.

**Remember:** Good communication is a skill that improves with practice!`}],checkIns:[{id:"comm-q1",section:0,prompt:"What is a key part of active listening?",options:["Interrupt to clarify","Maintain eye contact and focus","Think about your reply immediately","Speak louder"],correctIndex:1,xpReward:10},{id:"comm-q2",section:1,prompt:"Which element relates to gestures and posture?",options:["Tone of voice","Body language","Active listening","Clear expression"],correctIndex:1,xpReward:10},{id:"comm-q3",section:1,prompt:"Tone of voice mainly affects:",options:["What is said","How meaning is perceived","Grammar rules","Vocabulary size"],correctIndex:1,xpReward:10},{id:"comm-q4",section:2,prompt:"Paraphrasing shows:",options:["Disagreement","Understanding","Disinterest","Confusion"],correctIndex:1,xpReward:12},{id:"comm-q5",section:2,prompt:"Interrupting usually:",options:["Builds trust","Speeds empathy","Breaks listening flow","Improves clarity"],correctIndex:2,xpReward:12},{id:"comm-q6",section:0,prompt:"Communication is the exchange of:",options:["Only words","Information, ideas, and feelings","Just emotions","Body movement only"],correctIndex:1,xpReward:8},{id:"comm-q7",section:3,prompt:"Suggested exercise focuses on:",options:["Thinking of replies early","Filling silence fast","Fully focusing on the speaker","Correcting the speaker"],correctIndex:2,xpReward:12},{id:"comm-q8",section:1,prompt:"Clear expression means:",options:["Using jargon","Speaking vaguely","Saying what you mean simply","Talking rapidly"],correctIndex:2,xpReward:10},{id:"comm-q9",section:0,prompt:"Listening vs hearing: listening is:",options:["Passive","Intentional and focused","Uncontrolled","Impossible to improve"],correctIndex:1,xpReward:10},{id:"comm-q10",section:2,prompt:"A good follow-up listening action:",options:["Ignore emotions","Ask clarifying questions","Talk over them","Look away"],correctIndex:1,xpReward:12}]},"building-relationships":{id:"building-relationships",title:"Building Relationships",description:"Learn how to create and maintain meaningful connections with others",difficulty:"beginner",estimatedDuration:18,tags:["relationships","friendship","trust"],sections:[{title:"Building Meaningful Relationships",content:"Strong relationships are the foundation of a happy, fulfilling life. Let's learn how to build them! "},{title:"What Makes a Good Relationship?",content:`**Trust** - Being reliable and keeping promises

**Communication** - Open, honest dialogue

**Mutual Respect** - Valuing each other's opinions

**Quality Time** - Spending meaningful time together`},{title:"The Five Love Languages",content:`1. Words of Affirmation
2. Quality Time
3. Receiving Gifts
4. Acts of Service
5. Physical Touch

Understanding these helps you connect better with others!`},{title:"Action Steps",content:`- Reach out to someone you haven't talked to in a while
- Practice active listening in your next conversation
- Identify your love language

**Remember:** Building relationships takes time and effort, but the rewards are immeasurable!`}],checkIns:[{id:"rel-q1",section:0,prompt:"Foundation of strong relationships:",options:["Trust","Distance","Silence","Competition"],correctIndex:0,xpReward:10},{id:"rel-q2",section:1,prompt:"Keeping promises builds:",options:["Confusion","Trust","Distance","Silence"],correctIndex:1,xpReward:10},{id:"rel-q3",section:1,prompt:"Open dialogue represents:",options:["Competition","Communication","Withdrawal","Isolation"],correctIndex:1,xpReward:10},{id:"rel-q4",section:2,prompt:"Love language that values undivided attention:",options:["Quality Time","Gifts","Acts of Service","Physical Touch"],correctIndex:0,xpReward:12},{id:"rel-q5",section:2,prompt:"Saying encouraging words uses:",options:["Words of Affirmation","Acts of Service","Gifts","Silence"],correctIndex:0,xpReward:10},{id:"rel-q6",section:3,prompt:"Suggested action: reach out to:",options:["Someone you argue with","Someone you have not talked to","No one","Only yourself"],correctIndex:1,xpReward:10},{id:"rel-q7",section:1,prompt:"Respecting boundaries shows:",options:["Control","Mutual Respect","Competition","Distance"],correctIndex:1,xpReward:12},{id:"rel-q8",section:0,prompt:"Meaningful time together is called:",options:["Silence","Quality Time","Withdrawal","Delay"],correctIndex:1,xpReward:8},{id:"rel-q9",section:2,prompt:"Acts of Service example:",options:["Ignoring chores","Helping with a task","Silent treatment","Walking away"],correctIndex:1,xpReward:10},{id:"rel-q10",section:3,prompt:"Active listening involves:",options:["Thinking ahead only","Fully focusing","Avoiding eye contact","Immediate correction"],correctIndex:1,xpReward:12}]},"emotional-intelligence":{id:"emotional-intelligence",title:"Emotional Intelligence",description:"Develop your ability to understand and manage emotions effectively",difficulty:"intermediate",estimatedDuration:20,tags:["emotions","self-awareness","empathy"],sections:[{title:"Understanding Emotional Intelligence",content:"Emotional Intelligence (EI) is your ability to recognize, understand, and manage emotionsboth your own and others. "},{title:"The Five Components of EI",content:`1. **Self-Awareness** - Understanding your own emotions
2. **Self-Regulation** - Controlling impulsive feelings
3. **Motivation** - Being driven to achieve
4. **Empathy** - Understanding others feelings
5. **Social Skills** - Building healthy relationships`},{title:"Why EI Matters",content:` Better relationships at home and work
 Improved mental health
 Greater success in achieving goals
 Enhanced leadership abilities
 Reduced stress and anxiety`},{title:"Daily Practice",content:`Keep an emotion journal. Each day, write down:
- What emotions you felt
- What triggered them
- How you responded
- What you learned

**Remember:** Emotional intelligence can be developed at any age!`}],checkIns:[{id:"ei-q1",section:0,prompt:"Emotional Intelligence involves managing:",options:["Only other people emotions","Both your own and others emotions","Only stress","Only anger"],correctIndex:1,xpReward:10},{id:"ei-q2",section:1,prompt:"Recognizing your triggers is part of:",options:["Empathy","Self-Awareness","Motivation","Social Skills"],correctIndex:1,xpReward:10},{id:"ei-q3",section:1,prompt:"Waiting before reacting demonstrates:",options:["Self-Regulation","Motivation","Empathy","Stress"],correctIndex:0,xpReward:12},{id:"ei-q4",section:1,prompt:"Putting yourself in someone shoes is:",options:["Motivation","Empathy","Self-Awareness","Self-Regulation"],correctIndex:1,xpReward:10},{id:"ei-q5",section:1,prompt:"Driving toward goals for internal reasons reflects:",options:["Motivation","Empathy","Social Skills","Stress"],correctIndex:0,xpReward:10},{id:"ei-q6",section:2,prompt:"A benefit of EI is:",options:["More isolation","Worse leadership","Better relationships","Higher confusion"],correctIndex:2,xpReward:10},{id:"ei-q7",section:3,prompt:"Emotion journaling helps build:",options:["Avoidance","Self-Awareness","Conflict","Denial"],correctIndex:1,xpReward:12},{id:"ei-q8",section:0,prompt:"EI can be developed:",options:["Only in childhood","At any age","Only by leaders","Not at all"],correctIndex:1,xpReward:8},{id:"ei-q9",section:1,prompt:"Social Skills contribute to:",options:["Isolation","Relationship building","Less trust","Avoidance"],correctIndex:1,xpReward:10},{id:"ei-q10",section:2,prompt:"Reduced stress comes from improving:",options:["Conflict only","Emotional Intelligence","Vocabulary","Posture"],correctIndex:1,xpReward:12}]},"conflict-resolution":{id:"conflict-resolution",title:"Conflict Resolution",description:"Master advanced techniques for resolving conflicts peacefully",difficulty:"advanced",estimatedDuration:25,tags:["conflict","resolution","negotiation"],sections:[{title:"Mastering Conflict Resolution",content:"Conflict is a natural part of relationships. The key is learning how to resolve it constructively. "},{title:"The Five Conflict Styles",content:`1. **Competing** (I win, you lose)
2. **Avoiding** (Lose-lose)
3. **Accommodating** (I lose, you win)
4. **Compromising** (We both win and lose a little)
5. **Collaborating** (Win-win) `},{title:"Steps to Resolve Conflict",content:`1. Stay Calm - Take deep breaths
2. Listen Actively - Hear their perspective
3. Find Common Ground
4. Focus on the Issue, Not the Person
5. Brainstorm Solutions Together
6. Agree on a Solution
7. Follow Up`},{title:"Advanced Techniques",content:`**The "XYZ" Statement:**
"When you do X in situation Y, I feel Z."

**The Pause Technique:**
Take a 10-minute break if emotions run high.

**Remember:** The goal is not to winit is to preserve the relationship!`}],checkIns:[{id:"conf-q1",section:0,prompt:"Conflict can lead to:",options:["Growth if handled well","Only resentment","No learning","Instant harmony"],correctIndex:0,xpReward:10},{id:"conf-q2",section:1,prompt:"Style aiming for win-win:",options:["Competing","Avoiding","Collaborating","Accommodating"],correctIndex:2,xpReward:12},{id:"conf-q3",section:1,prompt:"Avoiding style is:",options:["Assertive & cooperative","Neither assertive nor cooperative","Unassertive but cooperative","Only cooperative"],correctIndex:1,xpReward:10},{id:"conf-q4",section:2,prompt:"First step in resolving conflict:",options:["Brainstorm","Stay Calm","Follow Up","Compromise"],correctIndex:1,xpReward:10},{id:"conf-q5",section:2,prompt:"Focus on the ______ not the person.",options:["Emotion","Issue","History","Silence"],correctIndex:1,xpReward:12},{id:"conf-q6",section:2,prompt:"Generating multiple solutions before choosing:",options:["Brainstorming","Competing","Avoiding","Judging"],correctIndex:0,xpReward:10},{id:"conf-q7",section:3,prompt:'"XYZ" statement helps express:',options:["Blame","Clarity & feeling","Avoidance","Winning"],correctIndex:1,xpReward:12},{id:"conf-q8",section:3,prompt:"Taking a break if emotions spike is:",options:["Avoidance forever","Pause Technique","Compromise","Competition"],correctIndex:1,xpReward:10},{id:"conf-q9",section:1,prompt:"Compromising means:",options:["Both give a little","One wins completely","No resolution","Avoiding forever"],correctIndex:0,xpReward:10},{id:"conf-q10",section:2,prompt:"Following up ensures:",options:["Uncertainty","Solution is working","More conflict","Avoidance"],correctIndex:1,xpReward:12}]}};class Z5{static async getLessonById(e){try{const n=it(qe,"lessons",e),s=await wi(n);if(s.exists()){const l=s.data();return{id:s.id,title:l.title,description:l.description,difficulty:l.difficulty,estimatedDuration:l.estimatedDuration,tags:l.tags||[],sections:l.sections||[],checkIns:l.checkIns||[],imageUrl:l.imageUrl,videoUrl:l.videoUrl,createdAt:l.createdAt?.toDate()||new Date,updatedAt:l.updatedAt?.toDate()||new Date}}const a=K1[e];return a?(console.log(` Loading lesson from temporary data: ${a.title}`),{...a,createdAt:new Date,updatedAt:new Date}):null}catch(n){console.error("Error fetching lesson:",n);const s=K1[e];return s?{...s,createdAt:new Date,updatedAt:new Date}:null}}static async getUserProgress(e,n){try{const s=it(qe,"userProgress",`${e}_${n}`),a=await wi(s);if(a.exists()){const l=a.data();return{lessonId:l.lessonId,userId:l.userId,completed:l.completed,completionDate:l.completionDate?.toDate(),timeSpent:l.timeSpent||0,score:l.score,lastAccessedAt:l.lastAccessedAt?.toDate()||new Date}}return null}catch(s){return console.error("Error fetching user progress:",s),null}}static async updateProgress(e,n,s){try{const a=it(qe,"userProgress",`${e}_${n}`),l={...s,userId:e,lessonId:n,lastAccessedAt:cn(),updatedAt:cn()};await Jo(a,l,{merge:!0})}catch(a){throw console.error("Error updating progress:",a),a}}static async getLessonsByCategory(e){try{const n=Dr(qe,"lessons"),s=Wo(n,Yo("categoryId","==",e),Nf("createdAt","asc")),a=await Zo(s),l=[];return a.forEach(u=>{const f=u.data();l.push({id:u.id,title:f.title,description:f.description,difficulty:f.difficulty,estimatedDuration:f.estimatedDuration,tags:f.tags||[],sections:f.sections||[],checkIns:f.checkIns||[],imageUrl:f.imageUrl,videoUrl:f.videoUrl,createdAt:f.createdAt?.toDate()||new Date,updatedAt:f.updatedAt?.toDate()||new Date})}),l}catch(n){return console.error("Error fetching lessons by category:",n),[]}}static async getAllLessons(){try{const e=Dr(qe,"lessons"),n=Wo(e,Nf("createdAt","asc")),s=await Zo(n),a=[];return s.forEach(l=>{const u=l.data();a.push({id:l.id,title:u.title,description:u.description,difficulty:u.difficulty,estimatedDuration:u.estimatedDuration,tags:u.tags||[],sections:u.sections||[],checkIns:u.checkIns||[],imageUrl:u.imageUrl,videoUrl:u.videoUrl,createdAt:u.createdAt?.toDate()||new Date,updatedAt:u.updatedAt?.toDate()||new Date})}),a}catch(e){return console.error("Error fetching all lessons:",e),[]}}static async submitCheckIn(e,n,s,a,l){try{const u=await this.getLessonById(n);if(!u)throw new Error("Lesson not found");const f=u.checkIns.find(y=>y.id===s);if(!f)throw new Error("Check-in not found");const m=a===f.correctIndex;let p=0;if(m)try{p=await FC(e,f.xpReward),console.log(` User ${e} earned ${f.xpReward} XP for correct answer. Total XP: ${p}`)}catch(y){console.error("Failed to award XP:",y)}if(await this.updateCheckInProgress(e,n,s,m,m?f.xpReward:0),l){const y=it(qe,"lessonAttempts",l),T=await wi(y);if(T.exists()){const R={...T.data().checkInResults,[s]:m};await vl(y,{checkInResults:R})}}return{correct:m,xpReward:m?f.xpReward:0,totalXP:p}}catch(u){throw console.error("Error submitting check-in:",u),u}}static async updateCheckInProgress(e,n,s,a,l){try{const u=it(qe,"checkInProgress",`${e}_${n}_${s}`);await Jo(u,{userId:e,lessonId:n,checkInId:s,correct:a,xpEarned:l,completedAt:cn()})}catch(u){console.error("Error updating check-in progress:",u)}}static async getCheckInProgress(e,n){try{const s=Dr(qe,"checkInProgress"),a=Wo(s,Yo("userId","==",e),Yo("lessonId","==",n)),l=await Zo(a),u={};return l.forEach(f=>{const m=f.data();u[m.checkInId]={correct:m.correct,xpEarned:m.xpEarned}}),u}catch(s){return console.error("Error fetching check-in progress:",s),{}}}static async startLessonAttempt(e,n){try{const s=`${e}_${n}_${Date.now()}`,a=it(qe,"lessonAttempts",s);return await Jo(a,{attemptId:s,userId:e,lessonId:n,startedAt:cn(),score:0,timeSpent:0,checkInResults:{}}),console.log(` Started new lesson attempt: ${s}`),s}catch(s){throw console.error("Error starting lesson attempt:",s),s}}static async completeLessonAttempt(e,n,s,a,l){try{const u=it(qe,"lessonAttempts",s);await vl(u,{completedAt:cn(),score:a,checkInResults:l});const f=it(qe,"userProgress",`${e}_${n}`),m=await wi(f);let p;if(m.exists()){const y=m.data();p={...y,completed:!0,lastAccessedAt:cn(),completionCount:(y.completionCount||0)+1,bestScore:Math.max(y.bestScore||0,a),...y.completionDate?{}:{completionDate:cn()}}}else p={userId:e,lessonId:n,completed:!0,completionDate:cn(),lastAccessedAt:cn(),completionCount:1,bestScore:a,score:a,timeSpent:0};await Jo(f,p,{merge:!0}),console.log(` Lesson attempt completed: ${s}, Score: ${a}`)}catch(u){throw console.error("Error completing lesson attempt:",u),u}}static async getLessonAttempts(e,n){try{const s=Dr(qe,"lessonAttempts"),a=Wo(s,Yo("userId","==",e),Yo("lessonId","==",n),Nf("startedAt","desc")),l=await Zo(a),u=[];return l.forEach(f=>{const m=f.data();u.push({attemptId:m.attemptId,startedAt:m.startedAt?.toDate()||new Date,completedAt:m.completedAt?.toDate(),score:m.score||0,timeSpent:m.timeSpent||0,checkInResults:m.checkInResults||{}})}),u}catch(s){return console.error("Error fetching lesson attempts:",s),[]}}}const Oa=Z5;function J5({lesson:t,onComplete:e,isCompleted:n,userId:s}){const a=ts(),[l,u]=C.useState(!0),[f,m]=C.useState(0),[p,y]=C.useState(!1),[T,b]=C.useState(0),[R,k]=C.useState({}),[U,O]=C.useState({}),[z,q]=C.useState(0),[$,oe]=C.useState(null),[J,ie]=C.useState(!1),[I,x]=C.useState(null),[N,L]=C.useState(!1),[V,B]=C.useState(null),[P,He]=C.useState(null),[De,Z]=C.useState(!1),ae=t.sections||[],ue=t.checkIns||[];C.useEffect(()=>{(async()=>{if(s&&t.id)try{const ve=await Oa.getUserProgress(s,t.id);He(ve),ve?.completed&&(Z(!0),console.log(` Retaking completed lesson: ${t.title}`));const Ge=await Oa.startLessonAttempt(s,t.id);B(Ge),console.log(` Started lesson attempt: ${Ge}`)}catch(ve){console.error("Failed to start lesson attempt:",ve)}})()},[s,t.id]),C.useEffect(()=>{(async()=>{if(s)try{const ve=await Ry(s);oe(ve)}catch(ve){console.error("Failed to load user XP:",ve)}})()},[s]),C.useEffect(()=>{(async()=>{if(p&&T>=ue.length&&!N){L(!0);try{const ve=await Oa.getNextLesson(t.id);x(ve)}catch(ve){console.error("Failed to load next lesson:",ve)}finally{L(!1)}}})()},[p,T,ue.length,t.id,N]);const Ce=()=>{f<ae.length-1?m(f+1):y(!0)},D=()=>{f>0&&m(f-1)},W=async(ge,ve)=>{if(!(J||!V)){ie(!0);try{k(zt=>({...zt,[ge]:ve}));const Ge=await Oa.submitCheckIn(s,t.id,ge,ve,V);O(zt=>({...zt,[ge]:Ge.correct})),Ge.correct&&(q(zt=>zt+Ge.xpReward),Ge.totalXP!==void 0&&(oe(Ge.totalXP),le(Ge.totalXP))),ie(!1)}catch(Ge){console.error("Failed to submit check-in:",Ge),ie(!1),k(zt=>{const oi={...zt};return delete oi[ge],oi})}}},le=async ge=>{try{const ve=await j5(s);if(ve.onLeaderboard&&ve.rank)if(previousRank===null)setLeaderboardMessage(` Congratulations! You've joined the leaderboard at #${ve.rank}!`),setNotificationType("success"),setShowLeaderboardNotification(!0),setPreviousRank(ve.rank);else if(ve.rank<previousRank){const Ge=previousRank-ve.rank;setLeaderboardMessage(` You moved up ${Ge} ${Ge===1?"spot":"spots"}! Now #${ve.rank}!`),setNotificationType("success"),setShowLeaderboardNotification(!0),setPreviousRank(ve.rank)}else ve.rank>previousRank&&setPreviousRank(ve.rank);else!ve.onLeaderboard&&previousRank!==null&&setPreviousRank(null)}catch(ve){console.error("Error checking leaderboard status:",ve)}},he=ge=>{const ve=ue.find(zt=>zt.id===ge),Ge=U[ge];return Ge===void 0?null:{isCorrect:Ge,message:Ge?`Correct! +${ve?.xpReward} XP`:`Not quite right. The correct answer is: ${ve?.options[ve.correctIndex]}`}},pe=async()=>{if(V)try{const ge=z;await Oa.completeLessonAttempt(s,t.id,V,ge,U),console.log(` Completed lesson attempt with score: ${ge}`)}catch(ge){console.error("Failed to complete lesson attempt:",ge)}},ke=async()=>{T<ue.length-1||await pe(),b(T+1)},Te=ge=>{e(z),a(ge==="next"&&I?`/lesson/${I.id}`:"/landing")},Ot=()=>{u(!1)};return _.jsxs("div",{className:"lesson-content",children:[l&&_.jsx("div",{className:"lesson-content__title-slide",children:_.jsxs("div",{className:"lesson-content__title-content",children:[_.jsx("h1",{className:"lesson-content__main-title",children:t.title}),_.jsxs("div",{className:"lesson-content__lesson-meta",children:[_.jsxs("div",{className:"lesson-content__duration",children:[_.jsx("svg",{className:"lesson-content__icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),_.jsx("span",{children:"~15 min"})]}),_.jsx("div",{className:"lesson-content__hashtags",children:t.hashtags?.map((ge,ve)=>_.jsxs("span",{className:"lesson-content__hashtag",children:["#",ge]},ve))})]}),_.jsxs("button",{onClick:Ot,className:"btn lesson-content__start-btn",children:["Start Lesson",_.jsx("svg",{className:"lesson-content__nav-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})}),!l&&$!==null&&_.jsx("div",{className:"lesson-content__xp-header",children:_.jsxs("div",{className:"lesson-content__xp-display",children:[_.jsxs("div",{className:"lesson-content__xp-main",children:[_.jsx("svg",{className:"lesson-content__xp-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}),_.jsxs("span",{className:"lesson-content__xp-text",children:["Total XP: ",$]})]}),z>0&&_.jsxs("span",{className:"lesson-content__xp-earned",children:["+",z," from this lesson"]})]})}),!l&&t.videoUrl&&!p&&_.jsx("div",{className:"lesson-content__video-wrapper",children:_.jsx("div",{className:"lesson-content__video",children:_.jsx("iframe",{src:t.videoUrl,className:"lesson-content__iframe",allowFullScreen:!0,title:`${t.title} Video`})})}),!l&&!p&&_.jsxs("div",{className:"lesson-content__section",children:[_.jsxs("div",{className:"lesson-content__section-header",children:[_.jsx("h2",{className:"lesson-content__section-title",children:ae[f]?.title||`Section ${f+1}`}),_.jsxs("div",{className:"lesson-content__progress-text",children:[Math.round((f+1)/ae.length*100),"% Complete"]})]}),_.jsx("div",{className:"lesson-content__progress-bar",children:_.jsx("div",{className:"lesson-content__progress-fill",style:{width:`${(f+1)/ae.length*100}%`}})}),_.jsx("div",{className:"lesson-content__text",children:_.jsx("div",{className:"lesson-content__content",dangerouslySetInnerHTML:{__html:ae[f]?.content?.replace(/\n/g,"<br />")||""}})}),_.jsxs("div",{className:"lesson-content__nav",children:[_.jsxs("button",{onClick:D,disabled:f===0,className:"btn-ghost--underline lesson-content__nav-btn lesson-content__nav-btn--prev",children:[_.jsx("svg",{className:"lesson-content__nav-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Previous"]}),_.jsxs("button",{onClick:Ce,className:"btn lesson-content__nav-btn lesson-content__nav-btn--next",children:[f===ae.length-1?"Start Check-ins":"Next",_.jsx("svg",{className:"lesson-content__nav-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]}),p&&T<ue.length&&_.jsxs("div",{style:{backgroundColor:"#F5F5F5",height:"100vh",padding:"4px 12px",fontFamily:"system-ui, -apple-system, sans-serif",display:"flex",flexDirection:"column"},children:[_.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"4px"},children:_.jsx("button",{onClick:()=>a("/landing"),style:{background:"transparent",border:"none",color:"#9CA3AF",fontSize:"14px",cursor:"pointer",padding:"2px 8px"},children:"Quit"})}),_.jsx("div",{style:{width:"100%",height:"3px",backgroundColor:"#E5E7EB",borderRadius:"2px",marginBottom:"6px",overflow:"hidden"},children:_.jsx("div",{style:{height:"100%",backgroundColor:"#FB923C",borderRadius:"2px",width:`${(T+1)/ue.length*100}%`,transition:"width 300ms ease"}})}),_.jsx("div",{style:{maxWidth:"1400px",width:"100%",margin:"0 auto",backgroundColor:"white",borderRadius:"8px",padding:"16px 32px",boxShadow:"0 1px 4px rgba(0, 0, 0, 0.08)",flex:1,display:"flex",flexDirection:"column",justifyContent:"center",minHeight:0},children:(()=>{const ge=ue[T],ve=R[ge.id]!==void 0,Ge=he(ge.id),zt=R[ge.id],oi=ge.correctIndex;return _.jsxs(_.Fragment,{children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"32px",marginBottom:"12px"},children:[_.jsxs("div",{style:{flex:2},children:[" ",_.jsx("p",{style:{fontSize:"18px",fontWeight:"500",color:"#374151",lineHeight:"1.2",margin:0,marginBottom:"4px"},children:ge.prompt}),_.jsx("p",{style:{fontSize:"14px",color:"#6B7280",fontWeight:"500",margin:0},children:"This is an example of?"})]}),_.jsx("div",{style:{width:"100px",height:"65px",backgroundColor:"#FEF3C7",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:_.jsx("div",{style:{width:"50px",height:"40px",backgroundColor:"#F59E0B",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center"},children:_.jsx("div",{style:{width:"25px",height:"25px",backgroundColor:"#D97706",borderRadius:"50%"}})})})]}),_.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",marginBottom:"8px"},children:ge.options.map((mn,li)=>{const ci=zt===li,is=li===oi;let rt={padding:"12px 16px",borderRadius:"8px",border:"1px solid #D1D5DB",backgroundColor:"#FFFFFF",color:"#374151",fontSize:"14px",fontWeight:"500",cursor:ve?"default":"pointer",textAlign:"left",width:"100%",transition:"all 150ms ease",minHeight:"44px",display:"flex",alignItems:"center",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.05)",position:"relative",overflow:"hidden"};return ve?ci&&is?rt={...rt,backgroundColor:"#10B981",borderColor:"#059669",color:"white",boxShadow:"0 2px 8px rgba(16, 185, 129, 0.2)"}:ci&&!is?rt={...rt,backgroundColor:"#EF4444",borderColor:"#DC2626",color:"white",boxShadow:"0 2px 8px rgba(239, 68, 68, 0.2)"}:!ci&&is?rt={...rt,backgroundColor:"#F0FDF4",borderColor:"#10B981",color:"#065F46",boxShadow:"0 1px 3px rgba(16, 185, 129, 0.1)"}:rt={...rt,backgroundColor:"#F9FAFB",borderColor:"#E5E7EB",color:"#9CA3AF",cursor:"not-allowed",opacity:.7}:ci&&(rt={...rt,backgroundColor:"#EBF8FF",borderColor:"#3B82F6",color:"#1E40AF",boxShadow:"0 2px 8px rgba(59, 130, 246, 0.15)"}),_.jsxs("button",{onClick:()=>!ve&&!J&&W(ge.id,li),style:rt,disabled:ve||J,onMouseEnter:Fn=>{!ve&&!ci&&(Fn.currentTarget.style.borderColor="#9CA3AF",Fn.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.1)",Fn.currentTarget.style.transform="translateY(-1px)")},onMouseLeave:Fn=>{!ve&&!ci&&(Fn.currentTarget.style.borderColor="#D1D5DB",Fn.currentTarget.style.boxShadow="0 1px 2px rgba(0, 0, 0, 0.05)",Fn.currentTarget.style.transform="translateY(0)")},children:[_.jsx("span",{style:{flex:1},children:mn}),J&&ci&&_.jsx("div",{style:{marginLeft:"8px",width:"14px",height:"14px",border:"2px solid transparent",borderTop:"2px solid currentColor",borderRadius:"50%",animation:"spin 1s linear infinite"}})]},li)})}),_.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",minHeight:"36px"},children:[_.jsx("div",{style:{flex:1,marginRight:"16px"},children:Ge&&_.jsxs("div",{style:{backgroundColor:Ge.isCorrect?"#ECFDF5":"#FEF2F2",border:`1px solid ${Ge.isCorrect?"#10B981":"#EF4444"}`,borderRadius:"6px",padding:"6px 12px",display:"flex",alignItems:"center",gap:"6px"},children:[_.jsx("div",{style:{width:"14px",height:"14px",borderRadius:"50%",backgroundColor:Ge.isCorrect?"#10B981":"#EF4444",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"9px",fontWeight:"bold",flexShrink:0},children:Ge.isCorrect?"":""}),_.jsx("span",{style:{color:Ge.isCorrect?"#065F46":"#991B1B",fontWeight:"500",fontSize:"13px"},children:Ge.message})]})}),ve&&!J&&_.jsxs("button",{onClick:ke,style:{backgroundColor:"#3B82F6",color:"white",border:"none",borderRadius:"16px",padding:"8px 20px",fontSize:"13px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",transition:"all 200ms ease",flexShrink:0},onMouseOver:mn=>{mn.currentTarget.style.backgroundColor="#2563EB",mn.currentTarget.style.transform="translateY(-1px)"},onMouseOut:mn=>{mn.currentTarget.style.backgroundColor="#3B82F6",mn.currentTarget.style.transform="translateY(0)"},children:[T<ue.length-1?"Next Question":"Finish Quiz",_.jsx("span",{style:{fontSize:"9px"},children:""})]})]})]})})()})]}),p&&T>=ue.length&&_.jsx("div",{className:"lesson-content__completion",children:_.jsxs("div",{className:"lesson-content__completion-content",children:[_.jsx("div",{className:"lesson-content__completion-icon",children:_.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),_.jsx("h3",{className:"lesson-content__completion-title",children:De?"Lesson Retaken! ":"Lesson Complete! "}),_.jsx("p",{className:"lesson-content__completion-text",children:De?"Great job going through the lesson again! Your progress is always tracked.":"You've completed all sections and check-ins for this lesson."}),P?.completed&&_.jsxs("div",{className:"lesson-content__completion-badge",children:[_.jsx("svg",{className:"lesson-content__completion-badge-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),_.jsx("span",{children:"Previously Completed"}),P.completionCount>1&&_.jsxs("span",{className:"lesson-content__completion-count",children:["(Attempt #",P.completionCount+1,")"]})]}),_.jsxs("div",{className:"lesson-content__xp-summary",children:[_.jsxs("div",{className:"lesson-content__xp-summary-content",children:[_.jsx("svg",{className:"lesson-content__xp-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}),_.jsxs("span",{className:"lesson-content__xp-summary-text",children:["XP Earned This Attempt: ",z]})]}),$!==null&&_.jsxs("div",{className:"lesson-content__xp-total",children:["Your Total XP: ",$]}),P?.bestScore&&z>P.bestScore&&_.jsxs("div",{className:"lesson-content__new-record",children:[" New Personal Best! (Previous: ",P.bestScore," XP)"]})]}),_.jsxs("div",{className:"lesson-content__results",children:["Correct Answers: ",Object.values(U).filter(Boolean).length," / ",ue.length]}),_.jsxs("div",{className:"lesson-content__completion-actions",children:[I&&_.jsxs("button",{onClick:()=>Te("next"),className:"btn lesson-content__next-btn",children:["Next Lesson: ",I.title,_.jsx("svg",{className:"lesson-content__next-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),_.jsx("button",{onClick:()=>Te("home"),className:`btn-ghost--underline lesson-content__home-btn ${I?"":"lesson-content__home-btn--primary"}`,children:I?"Back to Home":"Continue Learning"}),_.jsx("button",{onClick:()=>window.location.reload(),className:"btn-ghost--underline lesson-content__retake-btn",children:" Retake Lesson"})]}),N&&_.jsxs("div",{className:"lesson-content__loading-next",children:[_.jsx("div",{className:"lesson-content__spinner"}),_.jsx("span",{children:"Loading next lesson..."})]})]})})]})}function e8(){return _.jsxs("div",{className:"flex flex-col items-center justify-center p-8",children:[_.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),_.jsx("p",{className:"mt-4 text-gray-600",children:"Loading lesson..."})]})}function t8({message:t,onRetry:e,onGoBack:n}){return _.jsxs("div",{className:"flex flex-col items-center justify-center p-8 bg-white rounded-lg shadow-lg max-w-md mx-auto",children:[_.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4",children:_.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),_.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Oops! Something went wrong"}),_.jsx("p",{className:"text-gray-600 text-center mb-6",children:t}),_.jsxs("div",{className:"flex gap-3",children:[n&&_.jsx("button",{onClick:n,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Go Back"}),e&&_.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors",children:"Try Again"})]})]})}function n8(){const{id:t}=tN(),e=ts(),{user:n}=Fu(),[s,a]=Xo.useState(null),[l,u]=Xo.useState(!0),[f,m]=Xo.useState(null);Xo.useEffect(()=>{(async()=>{if(!t){m("No lesson ID provided"),u(!1);return}try{console.log(` Loading lesson: ${t}`);const T=await Oa.getLessonById(t);T?(a(T),console.log(" Lesson loaded:",T.title)):m("Lesson not found")}catch(T){console.error(" Error loading lesson:",T),m("Failed to load lesson")}finally{u(!1)}})()},[t]);const p=async y=>{if(console.log(` Lesson "${s?.title}" completed! XP earned: ${y||0}`),n&&s)try{await Oa.updateProgress(n.uid,s.id,{completed:!0,completionDate:new Date,score:y}),console.log(" Lesson progress saved to backend")}catch(T){console.error(" Failed to save lesson progress:",T)}e("/landing")};return l?_.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center",children:_.jsx(e8,{})}):f||!s?_.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-red-50 to-red-100",children:_.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md text-center",children:[_.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:_.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),_.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Lesson Not Found"}),_.jsx("p",{className:"text-gray-600 mb-6",children:f||"This lesson doesn't exist yet."}),_.jsx("button",{onClick:()=>e("/landing"),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Home"})]})}):n?_.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50",children:[_.jsx("nav",{className:"bg-white/80 backdrop-blur-md shadow-sm border-b sticky top-0 z-50",children:_.jsx("div",{className:"container mx-auto px-4 py-4 max-w-5xl",children:_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("button",{onClick:()=>e("/landing"),className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors group",children:[_.jsx("svg",{className:"w-5 h-5 mr-2 group-hover:-translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Lessons"]}),_.jsx("div",{className:"flex items-center gap-6",children:_.jsx("div",{className:"hidden sm:block text-sm text-gray-500",children:s.title})})]})})}),_.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:_.jsx(J5,{lesson:s,onComplete:p,isCompleted:!1,userId:n.uid})})]}):_.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-red-50 to-red-100",children:_.jsx(t8,{message:"You must be logged in to take lessons"})})}function i8(){return _.jsx("h1",{children:_.jsx(n8,{})})}function s8(){return _.jsx("h1",{children:"Leaderboard"})}function r8(){return _.jsx(XN,{})}function a8(){return _.jsx(UN,{children:_.jsxs(gN,{children:[_.jsx(Ar,{path:"/",element:_.jsx(r8,{})}),_.jsx(Ar,{path:"/auth",element:_.jsx($1,{children:_.jsx(Z6,{})})}),_.jsx(Ar,{path:"/register",element:_.jsx($1,{children:_.jsx(X6,{})})}),_.jsx(Ar,{path:"/landing",element:_.jsx(Ng,{children:_.jsx(W5,{})})}),_.jsx(Ar,{path:"/lesson/:id",element:_.jsx(Ng,{children:_.jsx(i8,{})})}),_.jsx(Ar,{path:"/leaderboard",element:_.jsx(Ng,{children:_.jsx(s8,{})})}),_.jsx(Ar,{path:"*",element:_.jsx("h1",{children:"404"})})]})})}const Y1=document.getElementById("root");Y1&&S2.createRoot(Y1).render(_.jsx(Xo.StrictMode,{children:_.jsx(V5,{children:_.jsx(a8,{})})}));
